"use strict";(self.webpackChunktrail_app=self.webpackChunktrail_app||[]).push([[322],{322:(d,p,c)=>{c.r(p),c.d(p,{TextToSpeechWeb:()=>l});var o=c(8239),a=c(3796);class l extends a.Uw{constructor(){super(),this.speechSynthesis=null,"speechSynthesis"in window&&(this.speechSynthesis=window.speechSynthesis,this.supportedVoices=window.speechSynthesis.getVoices(),window.addEventListener("beforeunload",()=>{this.stop()}))}speak(t){var e=this;return(0,o.Z)(function*(){e.speechSynthesis||e.throwUnsupportedError(),yield e.stop();const h=e.speechSynthesis,n=e.createSpeechSynthesisUtterance(t);return new Promise((s,i)=>{n.onend=()=>{s()},n.onerror=r=>{i(r)},h.speak(n)})})()}stop(){var t=this;return(0,o.Z)(function*(){t.speechSynthesis||t.throwUnsupportedError(),t.speechSynthesis.cancel()})()}getSupportedLanguages(){var t=this;return(0,o.Z)(function*(){return{languages:t.getSpeechSynthesisVoices().map(s=>s.lang).filter((s,i,r)=>r.indexOf(s)==i)}})()}getSupportedVoices(){var t=this;return(0,o.Z)(function*(){return{voices:t.getSpeechSynthesisVoices()}})()}isLanguageSupported(t){var e=this;return(0,o.Z)(function*(){return{supported:(yield e.getSupportedLanguages()).languages.includes(t.lang)}})()}openInstall(){var t=this;return(0,o.Z)(function*(){t.throwUnimplementedError()})()}getSystemVolume(){return(0,o.Z)(function*(){return console.warn("[VolumeInfoPlugin] not supported by web platform"),{volume:-1}})()}createSpeechSynthesisUtterance(t){const e=new SpeechSynthesisUtterance,{text:h,lang:n,rate:s,pitch:i,volume:r,voice:u}=t;return u&&(e.voice=this.getVoice(u)),r&&(e.volume=r>=0&&r<=1?r:1),s&&(e.rate=s>=.1&&s<=10?s:1),i&&(e.pitch=i>=0&&i<=2?i:2),n&&(e.lang=n),e.text=h,e}getSpeechSynthesisVoices(){return this.speechSynthesis||this.throwUnsupportedError(),(!this.supportedVoices||this.supportedVoices.length<1)&&(this.supportedVoices=this.speechSynthesis.getVoices()),this.supportedVoices}throwUnsupportedError(){throw this.unavailable("SpeechSynthesis API not available in this browser.")}throwUnimplementedError(){throw this.unimplemented("Not implemented on web.")}getVoice(t){return this.getSpeechSynthesisVoices().filter(h=>h.voiceURI==t)[0]}}}}]);