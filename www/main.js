var qA=Object.defineProperty,YA=Object.defineProperties,KA=Object.getOwnPropertyDescriptors,LI=Object.getOwnPropertySymbols,ZA=Object.prototype.hasOwnProperty,QA=Object.prototype.propertyIsEnumerable,VI=(rn,et,H)=>et in rn?qA(rn,et,{enumerable:!0,configurable:!0,writable:!0,value:H}):rn[et]=H,$I=(rn,et)=>{for(var H in et||(et={}))ZA.call(et,H)&&VI(rn,H,et[H]);if(LI)for(var H of LI(et))QA.call(et,H)&&VI(rn,H,et[H]);return rn},BI=(rn,et)=>YA(rn,KA(et));(self.webpackChunktrail_app=self.webpackChunktrail_app||[]).push([[179],{8255:rn=>{function et(H){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+H+"'");throw _.code="MODULE_NOT_FOUND",_})}et.keys=()=>[],et.resolve=et,et.id=8255,rn.exports=et},3796:(rn,et,H)=>{"use strict";H.d(et,{Uw:()=>Ze,fo:()=>fe});var _=H(8239);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var pe=(()=>{return(be=pe||(pe={})).Unimplemented="UNIMPLEMENTED",be.Unavailable="UNAVAILABLE",pe;var be})();class Ee extends Error{constructor(Q,ae,oe){super(Q),this.message=Q,this.code=ae,this.data=oe}}const ne=be=>{var Q,ae,oe,ve,je;const vt=be.CapacitorCustomPlatform||null,Oe=be.Capacitor||{},He=Oe.Plugins=Oe.Plugins||{},Ge=be.CapacitorPlatforms,tt=(null===(Q=null==Ge?void 0:Ge.currentPlatform)||void 0===Q?void 0:Q.getPlatform)||(()=>null!==vt?vt.name:(be=>{var Q,ae;return(null==be?void 0:be.androidBridge)?"android":(null===(ae=null===(Q=null==be?void 0:be.webkit)||void 0===Q?void 0:Q.messageHandlers)||void 0===ae?void 0:ae.bridge)?"ios":"web"})(be)),Ft=(null===(ae=null==Ge?void 0:Ge.currentPlatform)||void 0===ae?void 0:ae.isNativePlatform)||(()=>"web"!==tt()),Nt=(null===(oe=null==Ge?void 0:Ge.currentPlatform)||void 0===oe?void 0:oe.isPluginAvailable)||(gt=>{const Zt=Xn.get(gt);return!(!(null==Zt?void 0:Zt.platforms.has(tt()))&&!On(gt))}),On=(null===(ve=null==Ge?void 0:Ge.currentPlatform)||void 0===ve?void 0:ve.getPluginHeader)||(gt=>{var Zt;return null===(Zt=Oe.PluginHeaders)||void 0===Zt?void 0:Zt.find(Mn=>Mn.name===gt)}),Xn=new Map,Yn=(null===(je=null==Ge?void 0:Ge.currentPlatform)||void 0===je?void 0:je.registerPlugin)||((gt,Zt={})=>{const Mn=Xn.get(gt);if(Mn)return console.warn(`Capacitor plugin "${gt}" already registered. Cannot register plugins twice.`),Mn.proxy;const Hn=tt(),Vn=On(gt);let jn;const Yr=function(){var Pt=(0,_.Z)(function*(){return!jn&&Hn in Zt?jn=jn="function"==typeof Zt[Hn]?yield Zt[Hn]():Zt[Hn]:null!==vt&&!jn&&"web"in Zt&&(jn=jn="function"==typeof Zt.web?yield Zt.web():Zt.web),jn});return function(){return Pt.apply(this,arguments)}}(),fr=Pt=>{let Vt;const er=(...yr)=>{const yt=Yr().then(gn=>{const lr=((Pt,Vt)=>{var er,yr;if(!Vn){if(Pt)return null===(yr=Pt[Vt])||void 0===yr?void 0:yr.bind(Pt);throw new Ee(`"${gt}" plugin is not implemented on ${Hn}`,pe.Unimplemented)}{const yt=null==Vn?void 0:Vn.methods.find(gn=>Vt===gn.name);if(yt)return"promise"===yt.rtype?gn=>Oe.nativePromise(gt,Vt.toString(),gn):(gn,lr)=>Oe.nativeCallback(gt,Vt.toString(),gn,lr);if(Pt)return null===(er=Pt[Vt])||void 0===er?void 0:er.bind(Pt)}})(gn,Pt);if(lr){const jr=lr(...yr);return Vt=null==jr?void 0:jr.remove,jr}throw new Ee(`"${gt}.${Pt}()" is not implemented on ${Hn}`,pe.Unimplemented)});return"addListener"===Pt&&(yt.remove=(0,_.Z)(function*(){return Vt()})),yt};return er.toString=()=>`${Pt.toString()}() { [capacitor code] }`,Object.defineProperty(er,"name",{value:Pt,writable:!1,configurable:!1}),er},ar=fr("addListener"),Fr=fr("removeListener"),en=(Pt,Vt)=>{const er=ar({eventName:Pt},Vt),yr=function(){var gn=(0,_.Z)(function*(){const lr=yield er;Fr({eventName:Pt,callbackId:lr},Vt)});return function(){return gn.apply(this,arguments)}}(),yt=new Promise(gn=>er.then(()=>gn({remove:yr})));return yt.remove=(0,_.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield yr()}),yt},Ln=new Proxy({},{get(Pt,Vt){switch(Vt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Vn?en:ar;case"removeListener":return Fr;default:return fr(Vt)}}});return He[gt]=Ln,Xn.set(gt,{name:gt,proxy:Ln,platforms:new Set([...Object.keys(Zt),...Vn?[Hn]:[]])}),Ln});return Oe.convertFileSrc||(Oe.convertFileSrc=gt=>gt),Oe.getPlatform=tt,Oe.handleError=gt=>be.console.error(gt),Oe.isNativePlatform=Ft,Oe.isPluginAvailable=Nt,Oe.pluginMethodNoop=(gt,Zt,Mn)=>Promise.reject(`${Mn} does not have an implementation of "${Zt}".`),Oe.registerPlugin=Yn,Oe.Exception=Ee,Oe.DEBUG=!!Oe.DEBUG,Oe.isLoggingEnabled=!!Oe.isLoggingEnabled,Oe.platform=Oe.getPlatform(),Oe.isNative=Oe.isNativePlatform(),Oe},se=(be=>be.Capacitor=ne(be))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),fe=se.registerPlugin;class Ze{constructor(Q){this.listeners={},this.windowListeners={},Q&&(console.warn(`Capacitor WebPlugin "${Q.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Q)}addListener(Q,ae){var oe=this;this.listeners[Q]||(this.listeners[Q]=[]),this.listeners[Q].push(ae);const je=this.windowListeners[Q];je&&!je.registered&&this.addWindowListener(je);const vt=function(){var He=(0,_.Z)(function*(){return oe.removeListener(Q,ae)});return function(){return He.apply(this,arguments)}}(),Oe=Promise.resolve({remove:vt});return Object.defineProperty(Oe,"remove",{value:(He=(0,_.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield vt()}),function(){return He.apply(this,arguments)})}),Oe;var He}removeAllListeners(){var Q=this;return(0,_.Z)(function*(){Q.listeners={};for(const ae in Q.windowListeners)Q.removeWindowListener(Q.windowListeners[ae]);Q.windowListeners={}})()}notifyListeners(Q,ae){const oe=this.listeners[Q];oe&&oe.forEach(ve=>ve(ae))}hasListeners(Q){return!!this.listeners[Q].length}registerWindowListener(Q,ae){this.windowListeners[ae]={registered:!1,windowEventName:Q,pluginEventName:ae,handler:oe=>{this.notifyListeners(ae,oe)}}}unimplemented(Q="not implemented"){return new se.Exception(Q,pe.Unimplemented)}unavailable(Q="not available"){return new se.Exception(Q,pe.Unavailable)}removeListener(Q,ae){var oe=this;return(0,_.Z)(function*(){const ve=oe.listeners[Q];if(!ve)return;const je=ve.indexOf(ae);oe.listeners[Q].splice(je,1),oe.listeners[Q].length||oe.removeWindowListener(oe.windowListeners[Q])})()}addWindowListener(Q){window.addEventListener(Q.windowEventName,Q.handler),Q.registered=!0}removeWindowListener(Q){!Q||(window.removeEventListener(Q.windowEventName,Q.handler),Q.registered=!1)}}const ht=be=>encodeURIComponent(be).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class Le extends Ze{setCookie(Q){return(0,_.Z)(function*(){try{const ae=ht(Q.key),oe=ht(Q.value),ve=`; expires=${(Q.expires||"").replace("expires=","")}`,je=(Q.path||"/").replace("path=","");document.cookie=`${ae}=${oe||""}${ve}; path=${je}`}catch(ae){return Promise.reject(ae)}})()}deleteCookie(Q){return(0,_.Z)(function*(){try{document.cookie=`${Q.key}=; Max-Age=0`}catch(ae){return Promise.reject(ae)}})()}clearCookies(){return(0,_.Z)(function*(){try{const Q=document.cookie.split(";")||[];for(const ae of Q)document.cookie=ae.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Q){return Promise.reject(Q)}})()}clearAllCookies(){var Q=this;return(0,_.Z)(function*(){try{yield Q.clearCookies()}catch(ae){return Promise.reject(ae)}})()}}fe("CapacitorCookies",{web:()=>new Le});const ft=function(){var be=(0,_.Z)(function*(Q){return new Promise((ae,oe)=>{const ve=new FileReader;ve.onload=()=>{const je=ve.result;ae(je.indexOf(",")>=0?je.split(",")[1]:je)},ve.onerror=je=>oe(je),ve.readAsDataURL(Q)})});return function(ae){return be.apply(this,arguments)}}();class Ce extends Ze{request(Q){return(0,_.Z)(function*(){const ae=((be,Q={})=>{const ae=Object.assign({method:be.method||"GET",headers:be.headers},Q),ve=((be={})=>{const Q=Object.keys(be);return Object.keys(be).map(ve=>ve.toLocaleLowerCase()).reduce((ve,je,vt)=>(ve[je]=be[Q[vt]],ve),{})})(be.headers)["content-type"]||"";if("string"==typeof be.data)ae.body=be.data;else if(ve.includes("application/x-www-form-urlencoded")){const je=new URLSearchParams;for(const[vt,Oe]of Object.entries(be.data||{}))je.set(vt,Oe);ae.body=je.toString()}else if(ve.includes("multipart/form-data")){const je=new FormData;if(be.data instanceof FormData)be.data.forEach((Oe,He)=>{je.append(He,Oe)});else for(const Oe of Object.keys(be.data))je.append(Oe,be.data[Oe]);ae.body=je;const vt=new Headers(ae.headers);vt.delete("content-type"),ae.headers=vt}else(ve.includes("application/json")||"object"==typeof be.data)&&(ae.body=JSON.stringify(be.data));return ae})(Q,Q.webFetchExtra),oe=((be,Q=!0)=>be?Object.entries(be).reduce((oe,ve)=>{const[je,vt]=ve;let Oe,He;return Array.isArray(vt)?(He="",vt.forEach(Ge=>{Oe=Q?encodeURIComponent(Ge):Ge,He+=`${je}=${Oe}&`}),He.slice(0,-1)):(Oe=Q?encodeURIComponent(vt):vt,He=`${je}=${Oe}`),`${oe}&${He}`},"").substr(1):null)(Q.params,Q.shouldEncodeUrlParams),ve=oe?`${Q.url}?${oe}`:Q.url,je=yield fetch(ve,ae),vt=je.headers.get("content-type")||"";let He,Ge,{responseType:Oe="text"}=je.ok?Q:{};switch(vt.includes("application/json")&&(Oe="json"),Oe){case"arraybuffer":case"blob":Ge=yield je.blob(),He=yield ft(Ge);break;case"json":He=yield je.json();break;default:He=yield je.text()}const ze={};return je.headers.forEach((tt,It)=>{ze[It]=tt}),{data:He,headers:ze,status:je.status,url:je.url}})()}get(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"GET"}))})()}post(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"POST"}))})()}put(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"PUT"}))})()}patch(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"PATCH"}))})()}delete(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"DELETE"}))})()}}fe("CapacitorHttp",{web:()=>new Ce})},8583:(rn,et,H)=>{"use strict";H.d(et,{mr:()=>ht,ez:()=>es,K0:()=>U,Do:()=>qe,V_:()=>Z,Ye:()=>ft,S$:()=>Ze,mk:()=>Vr,sg:()=>hi,O5:()=>L,b0:()=>Le,lw:()=>pe,EM:()=>Hi,JF:()=>As,w_:()=>Te,bD:()=>ji,q:()=>De,Mx:()=>Er,HT:()=>de});var _=H(639);let R=null;function De(){return R}function de(j){R||(R=j)}class Te{}const U=new _.OlP("DocumentToken");let pe=(()=>{class j{historyGo(B){throw new Error("Not implemented")}}return j.\u0275fac=function(B){return new(B||j)},j.\u0275prov=(0,_.Yz7)({factory:Ee,token:j,providedIn:"platform"}),j})();function Ee(){return(0,_.LFG)(ne)}const Z=new _.OlP("Location Initialized");let ne=(()=>{class j extends pe{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return De().getBaseHref(this._doc)}onPopState(B){const ce=De().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",B,!1),()=>ce.removeEventListener("popstate",B)}onHashChange(B){const ce=De().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",B,!1),()=>ce.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ce,Pe){ye()?this._history.pushState(B,ce,Pe):this.location.hash=Pe}replaceState(B,ce,Pe){ye()?this._history.replaceState(B,ce,Pe):this.location.hash=Pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return j.\u0275fac=function(B){return new(B||j)(_.LFG(U))},j.\u0275prov=(0,_.Yz7)({factory:se,token:j,providedIn:"platform"}),j})();function ye(){return!!window.history.pushState}function se(){return new ne((0,_.LFG)(U))}function fe(j,ee){if(0==j.length)return ee;if(0==ee.length)return j;let B=0;return j.endsWith("/")&&B++,ee.startsWith("/")&&B++,2==B?j+ee.substring(1):1==B?j+ee:j+"/"+ee}function rt(j){const ee=j.match(/#|\?|$/),B=ee&&ee.index||j.length;return j.slice(0,B-("/"===j[B-1]?1:0))+j.slice(B)}function Ie(j){return j&&"?"!==j[0]?"?"+j:j}let Ze=(()=>{class j{historyGo(B){throw new Error("Not implemented")}}return j.\u0275fac=function(B){return new(B||j)},j.\u0275prov=(0,_.Yz7)({factory:$e,token:j,providedIn:"root"}),j})();function $e(j){const ee=(0,_.LFG)(U).location;return new Le((0,_.LFG)(pe),ee&&ee.origin||"")}const ht=new _.OlP("appBaseHref");let Le=(()=>{class j extends Ze{constructor(B,ce){if(super(),this._platformLocation=B,this._removeListenerFns=[],null==ce&&(ce=this._platformLocation.getBaseHrefFromDOM()),null==ce)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ce}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return fe(this._baseHref,B)}path(B=!1){const ce=this._platformLocation.pathname+Ie(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&B?`${ce}${Pe}`:ce}pushState(B,ce,Pe,Dt){const Bt=this.prepareExternalUrl(Pe+Ie(Dt));this._platformLocation.pushState(B,ce,Bt)}replaceState(B,ce,Pe,Dt){const Bt=this.prepareExternalUrl(Pe+Ie(Dt));this._platformLocation.replaceState(B,ce,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var ce,Pe;null===(Pe=(ce=this._platformLocation).historyGo)||void 0===Pe||Pe.call(ce,B)}}return j.\u0275fac=function(B){return new(B||j)(_.LFG(pe),_.LFG(ht,8))},j.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac}),j})(),qe=(()=>{class j extends Ze{constructor(B,ce){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ce=this._platformLocation.hash;return null==ce&&(ce="#"),ce.length>0?ce.substring(1):ce}prepareExternalUrl(B){const ce=fe(this._baseHref,B);return ce.length>0?"#"+ce:ce}pushState(B,ce,Pe,Dt){let Bt=this.prepareExternalUrl(Pe+Ie(Dt));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.pushState(B,ce,Bt)}replaceState(B,ce,Pe,Dt){let Bt=this.prepareExternalUrl(Pe+Ie(Dt));0==Bt.length&&(Bt=this._platformLocation.pathname),this._platformLocation.replaceState(B,ce,Bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var ce,Pe;null===(Pe=(ce=this._platformLocation).historyGo)||void 0===Pe||Pe.call(ce,B)}}return j.\u0275fac=function(B){return new(B||j)(_.LFG(pe),_.LFG(ht,8))},j.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac}),j})(),ft=(()=>{class j{constructor(B,ce){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=B;const Pe=this._platformStrategy.getBaseHref();this._platformLocation=ce,this._baseHref=rt(g(Pe)),this._platformStrategy.onPopState(Dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Dt.state,type:Dt.type})})}path(B=!1){return this.normalize(this._platformStrategy.path(B))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(B,ce=""){return this.path()==this.normalize(B+Ie(ce))}normalize(B){return j.stripTrailingSlash(function(j,ee){return j&&ee.startsWith(j)?ee.substring(j.length):ee}(this._baseHref,g(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._platformStrategy.prepareExternalUrl(B)}go(B,ce="",Pe=null){this._platformStrategy.pushState(Pe,"",B,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ie(ce)),Pe)}replaceState(B,ce="",Pe=null){this._platformStrategy.replaceState(Pe,"",B,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+Ie(ce)),Pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(B=0){var ce,Pe;null===(Pe=(ce=this._platformStrategy).historyGo)||void 0===Pe||Pe.call(ce,B)}onUrlChange(B){this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ce=>{this._notifyUrlChangeListeners(ce.url,ce.state)}))}_notifyUrlChangeListeners(B="",ce){this._urlChangeListeners.forEach(Pe=>Pe(B,ce))}subscribe(B,ce,Pe){return this._subject.subscribe({next:B,error:ce,complete:Pe})}}return j.\u0275fac=function(B){return new(B||j)(_.LFG(Ze),_.LFG(pe))},j.normalizeQueryParams=Ie,j.joinWithSlash=fe,j.stripTrailingSlash=rt,j.\u0275prov=(0,_.Yz7)({factory:_t,token:j,providedIn:"root"}),j})();function _t(){return new ft((0,_.LFG)(Ze),(0,_.LFG)(pe))}function g(j){return j.replace(/\/index.html$/,"")}var be=(()=>((be=be||{})[be.Zero=0]="Zero",be[be.One=1]="One",be[be.Two=2]="Two",be[be.Few=3]="Few",be[be.Many=4]="Many",be[be.Other=5]="Other",be))();const Yn=_.kL8;class br{}let Zn=(()=>{class j extends br{constructor(B){super(),this.locale=B}getPluralCategory(B,ce){switch(Yn(ce||this.locale)(B)){case be.Zero:return"zero";case be.One:return"one";case be.Two:return"two";case be.Few:return"few";case be.Many:return"many";default:return"other"}}}return j.\u0275fac=function(B){return new(B||j)(_.LFG(_.soG))},j.\u0275prov=_.Yz7({token:j,factory:j.\u0275fac}),j})();function Er(j,ee){ee=encodeURIComponent(ee);for(const B of j.split(";")){const ce=B.indexOf("="),[Pe,Dt]=-1==ce?[B,""]:[B.slice(0,ce),B.slice(ce+1)];if(Pe.trim()===ee)return decodeURIComponent(Dt)}return null}let Vr=(()=>{class j{constructor(B,ce,Pe,Dt){this._iterableDiffers=B,this._keyValueDiffers=ce,this._ngEl=Pe,this._renderer=Dt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),B.forEachChangedItem(ce=>this._toggleClass(ce.key,ce.currentValue)),B.forEachRemovedItem(ce=>{ce.previousValue&&this._toggleClass(ce.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(ce=>{if("string"!=typeof ce.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(ce.item)}`);this._toggleClass(ce.item,!0)}),B.forEachRemovedItem(ce=>this._toggleClass(ce.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ce=>this._toggleClass(ce,!0)):Object.keys(B).forEach(ce=>this._toggleClass(ce,!!B[ce])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(ce=>this._toggleClass(ce,!1)):Object.keys(B).forEach(ce=>this._toggleClass(ce,!1)))}_toggleClass(B,ce){(B=B.trim())&&B.split(/\s+/g).forEach(Pe=>{ce?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}}return j.\u0275fac=function(B){return new(B||j)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},j.\u0275dir=_.lG2({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),j})();class Pn{constructor(ee,B,ce,Pe){this.$implicit=ee,this.ngForOf=B,this.index=ce,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hi=(()=>{class j{constructor(B,ce,Pe){this._viewContainer=B,this._template=ce,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;if(!this._differ&&B)try{this._differ=this._differs.find(B).create(this.ngForTrackBy)}catch(ce){throw new Error(`Cannot find a differ supporting object '${B}' of type '${function(j){return j.name||typeof j}(B)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const ce=[];B.forEachOperation((Pe,Dt,Bt)=>{if(null==Pe.previousIndex){const V=this._viewContainer.createEmbeddedView(this._template,new Pn(null,this._ngForOf,-1,-1),null===Bt?void 0:Bt),O=new vi(Pe,V);ce.push(O)}else if(null==Bt)this._viewContainer.remove(null===Dt?void 0:Dt);else if(null!==Dt){const V=this._viewContainer.get(Dt);this._viewContainer.move(V,Bt);const O=new vi(Pe,V);ce.push(O)}});for(let Pe=0;Pe<ce.length;Pe++)this._perViewChange(ce[Pe].view,ce[Pe].record);for(let Pe=0,Dt=this._viewContainer.length;Pe<Dt;Pe++){const Bt=this._viewContainer.get(Pe);Bt.context.index=Pe,Bt.context.count=Dt,Bt.context.ngForOf=this._ngForOf}B.forEachIdentityChange(Pe=>{this._viewContainer.get(Pe.currentIndex).context.$implicit=Pe.item})}_perViewChange(B,ce){B.context.$implicit=ce.item}static ngTemplateContextGuard(B,ce){return!0}}return j.\u0275fac=function(B){return new(B||j)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},j.\u0275dir=_.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();class vi{constructor(ee,B){this.record=ee,this.view=B}}let L=(()=>{class j{constructor(B,ce){this._viewContainer=B,this._context=new F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){X("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){X("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ce){return!0}}return j.\u0275fac=function(B){return new(B||j)(_.Y36(_.s_b),_.Y36(_.Rgc))},j.\u0275dir=_.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class F{constructor(){this.$implicit=null,this.ngIf=null}}function X(j,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,_.AaK)(ee)}'.`)}let es=(()=>{class j{}return j.\u0275fac=function(B){return new(B||j)},j.\u0275mod=_.oAB({type:j}),j.\u0275inj=_.cJS({providers:[{provide:br,useClass:Zn}]}),j})();const ji="browser";let Hi=(()=>{class j{}return j.\u0275prov=(0,_.Yz7)({token:j,providedIn:"root",factory:()=>new Ro((0,_.LFG)(U),window)}),j})();class Ro{constructor(ee,B){this.document=ee,this.window=B,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const B=function(j,ee){const B=j.getElementById(ee)||j.getElementsByName(ee)[0];if(B)return B;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const ce=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let Pe=ce.currentNode;for(;Pe;){const Dt=Pe.shadowRoot;if(Dt){const Bt=Dt.getElementById(ee)||Dt.querySelector(`[name="${ee}"]`);if(Bt)return Bt}Pe=ce.nextNode()}}return null}(this.document,ee);B&&(this.scrollToElement(B),this.attemptFocus(B))}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=ee)}}scrollToElement(ee){const B=ee.getBoundingClientRect(),ce=B.left+this.window.pageXOffset,Pe=B.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(ce-Dt[0],Pe-Dt[1])}attemptFocus(ee){return ee.focus(),this.document.activeElement===ee}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=mo(this.window.history)||mo(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch(ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ee){return!1}}}function mo(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class As{}},639:(rn,et,H)=>{"use strict";H.d(et,{deG:()=>pc,tb:()=>YE,AFp:()=>zE,ip1:()=>N_,CZH:()=>Yh,hGG:()=>ZS,z2F:()=>Wp,ahi:()=>Eo,sBO:()=>Ow,Sil:()=>zp,_Vd:()=>Bh,aQ5:()=>qs,EJc:()=>ZE,SBq:()=>pu,qLn:()=>cl,vpe:()=>gu,L6J:()=>HT,gxx:()=>ou,tBr:()=>ba,XFs:()=>en,OlP:()=>gr,zs3:()=>Vi,ZZ4:()=>Ym,aQg:()=>Km,soG:()=>oy,YKP:()=>Bb,v3s:()=>xS,h0i:()=>wd,PXZ:()=>CS,R0b:()=>Ga,FiY:()=>ao,r_U:()=>jT,Lbi:()=>qE,g9A:()=>WE,Qsj:()=>vw,FYo:()=>qm,JOm:()=>ho,Tiy:()=>c_,q3G:()=>yi,tp0:()=>M,EAV:()=>OS,Rgc:()=>Op,dDg:()=>eI,DyG:()=>Yo,q4F:()=>u_,GfV:()=>Ob,i9L:()=>gc,s_b:()=>Xm,ifc:()=>Dn,eFA:()=>oI,G48:()=>mS,Gpc:()=>ht,_c5:()=>HS,VLi:()=>gS,c2e:()=>KE,zSh:()=>Wu,wAp:()=>Ir,vHH:()=>_t,EiD:()=>ai,mCW:()=>Tu,qzn:()=>Do,JVY:()=>Gl,pB0:()=>nf,eBb:()=>Zc,L6k:()=>Nd,LAX:()=>zl,cg1:()=>Jv,Tjo:()=>US,kL8:()=>tb,yhl:()=>Hl,dqk:()=>it,sIi:()=>Yu,CqO:()=>Mm,QGY:()=>Dp,F4k:()=>Bv,RDi:()=>Dt,AaK:()=>Ie,z3N:()=>wo,qOj:()=>lm,TTD:()=>Ts,_Bn:()=>Ab,xp6:()=>xg,uIk:()=>pp,ekj:()=>pt,Suo:()=>CE,Xpm:()=>_r,lG2:()=>kn,Yz7:()=>Yn,cJS:()=>Zt,oAB:()=>si,Yjl:()=>dr,Y36:()=>Nl,_UZ:()=>Am,qZA:()=>Nh,TgZ:()=>kh,EpF:()=>Xu,n5z:()=>ie,Ikx:()=>Xv,LFG:()=>mi,$8M:()=>Ve,$Z:()=>$v,NdJ:()=>ac,CRH:()=>wE,oxw:()=>Pm,Hsn:()=>Om,F$t:()=>zv,Q6J:()=>Tm,s9C:()=>Tp,iGM:()=>EE,CHM:()=>yo,LSH:()=>xu,kYT:()=>qt,YNc:()=>Dv,_uU:()=>F0,Oqu:()=>Qv,hij:()=>Bm,Gf:()=>IE});var _=H(8891),R=H(4869),De=H(3282),Ue=H(6693),Te=H(7709),U=H(5319),pe=H(2441);var ne=H(1307);function ye(){return new Te.xQ}function fe(t){for(let n in t)if(t[n]===fe)return n;throw Error("Could not find renamed property on target object.")}function rt(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function Ie(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ie).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ze(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const $e=fe({__forward_ref__:fe});function ht(t){return t.__forward_ref__=ht,t.toString=function(){return Ie(this())},t}function Le(t){return qe(t)?t():t}function qe(t){return"function"==typeof t&&t.hasOwnProperty($e)&&t.__forward_ref__===ht}class _t extends Error{constructor(n,i){super(function(t,n){return`${t?`NG0${t}: `:""}${n}`}(n,i)),this.code=n}}function Ce(t){return"string"==typeof t?t:null==t?"":String(t)}function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ce(t)}function oe(t,n){const i=n?` in ${n}`:"";throw new _t("201",`No provider for ${Xe(t)} found${i}`)}function On(t,n){null==t&&function(t,n,i,o){throw new Error(`ASSERTION ERROR: ${t}`+(null==o?"":` [Expected=> ${i} ${o} ${n} <=Actual]`))}(n,t,null,"!=")}function Yn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Zt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mn(t){return Hn(t,Sn)||Hn(t,ar)}function Hn(t,n){return t.hasOwnProperty(n)?t[n]:null}function Yr(t){return t&&(t.hasOwnProperty(fr)||t.hasOwnProperty(Fr))?t[fr]:null}const Sn=fe({\u0275prov:fe}),fr=fe({\u0275inj:fe}),ar=fe({ngInjectableDef:fe}),Fr=fe({ngInjectorDef:fe});var en=(()=>((en=en||{})[en.Default=0]="Default",en[en.Host=1]="Host",en[en.Self=2]="Self",en[en.SkipSelf=4]="SkipSelf",en[en.Optional=8]="Optional",en))();let Ln;function Vt(t){const n=Ln;return Ln=t,n}function er(t,n,i){const o=Mn(t);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&en.Optional?null:void 0!==n?n:void oe(Ie(t),"Injector")}function yt(t){return{toString:t}.toString()}var gn=(()=>((gn=gn||{})[gn.OnPush=0]="OnPush",gn[gn.Default=1]="Default",gn))(),Dn=(()=>((Dn=Dn||{})[Dn.Emulated=0]="Emulated",Dn[Dn.None=2]="None",Dn[Dn.ShadowDom=3]="ShadowDom",Dn))();const Lr="undefined"!=typeof globalThis&&globalThis,Bn="undefined"!=typeof window&&window,ui="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,it=Lr||"undefined"!=typeof global&&global||Bn||ui,Cn={},tn=[],Se=fe({\u0275cmp:fe}),we=fe({\u0275dir:fe}),Be=fe({\u0275pipe:fe}),Tt=fe({\u0275mod:fe}),ot=fe({\u0275loc:fe}),Jt=fe({\u0275fac:fe}),En=fe({__NG_ELEMENT_ID__:fe});let cr=0;function _r(t){return yt(()=>{const i={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,id:"c",styles:t.styles||tn,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,l=t.features,f=t.pipes;return o.id+=cr++,o.inputs=Qt(t.inputs,i),o.outputs=Qt(t.outputs),l&&l.forEach(m=>m(o)),o.directiveDefs=c?()=>("function"==typeof c?c():c).map(pr):null,o.pipeDefs=f?()=>("function"==typeof f?f():f).map(In):null,o})}function pr(t){return mr(t)||function(t){return t[we]||null}(t)}function In(t){return function(t){return t[Be]||null}(t)}const wr={};function si(t){return yt(()=>{const n={type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(wr[t.id]=t.type),n})}function qt(t,n){return yt(()=>{const i=Rn(t,!0);i.declarations=n.declarations||tn,i.imports=n.imports||tn,i.exports=n.exports||tn})}function Qt(t,n){if(null==t)return Cn;const i={};for(const o in t)if(t.hasOwnProperty(o)){let c=t[o],l=c;Array.isArray(c)&&(l=c[1],c=c[0]),i[c]=o,n&&(n[c]=l)}return i}const kn=_r;function dr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function mr(t){return t[Se]||null}function Rn(t,n){const i=t[Tt]||null;if(!i&&!0===n)throw new Error(`Type ${Ie(t)} does not have '\u0275mod' property.`);return i}const F=16;function Mr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Gr(t){return Array.isArray(t)&&!0===t[1]}function fi(t){return 0!=(8&t.flags)}function Ui(t){return 2==(2&t.flags)}function Kr(t){return 1==(1&t.flags)}function ni(t){return null!==t.template}function _i(t){return 0!=(512&t[2])}function bi(t,n){return t.hasOwnProperty(Jt)?t[Jt]:null}class Us{constructor(n,i,o){this.previousValue=n,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ts(){return Qs}function Qs(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ro),Hi}function Hi(){const t=Ss(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===Cn)t.previous=n;else for(let o in n)i[o]=n[o];t.current=null,this.ngOnChanges(n)}}function Ro(t,n,i,o){const c=Ss(t)||function(t,n){return t[mo]=n}(t,{previous:Cn,current:null}),l=c.current||(c.current={}),f=c.previous,m=this.declaredInputs[i],w=f[m];l[m]=new Us(w&&w.currentValue,n,f===Cn),t[o]=n}Ts.ngInherit=!0;const mo="__ngSimpleChanges__";function Ss(t){return t[mo]||null}let Pe;function Dt(t){Pe=t}function O(t){return!!t.listen}const J={createRenderer:(t,n)=>void 0!==Pe?Pe:"undefined"!=typeof document?document:void 0};function Kt(t){for(;Array.isArray(t);)t=t[0];return t}function li(t,n){return Kt(n[t])}function Rr(t,n){return Kt(n[t.index])}function ki(t,n){return t.data[n]}function Ei(t,n){const i=n[t];return Mr(i)?i:i[0]}function Po(t){return 4==(4&t[2])}function Oo(t){return 128==(128&t[2])}function fs(t,n){return null==n?null:t[n]}function js(t){t[18]=0}function Xs(t,n){t[5]+=n;let i=t,o=t[3];for(;null!==o&&(1===n&&1===i[5]||-1===n&&0===i[5]);)o[5]+=n,i=o,o=o[3]}const Un={lFrame:v(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jo(){return Un.bindingsEnabled}function jt(){return Un.lFrame.lView}function kr(){return Un.lFrame.tView}function yo(t){return Un.lFrame.contextLView=t,t[8]}function Si(){let t=Rs();for(;null!==t&&64===t.type;)t=t.parent;return t}function Rs(){return Un.lFrame.currentTNode}function Gi(t,n){const i=Un.lFrame;i.currentTNode=t,i.isParent=n}function vo(){return Un.lFrame.isParent}function Hs(){Un.lFrame.isParent=!1}function zi(){return Un.isInCheckNoChangesMode}function ps(t){Un.isInCheckNoChangesMode=t}function rs(){return Un.lFrame.bindingIndex++}function to(t,n){const i=Un.lFrame;i.bindingIndex=i.bindingRootIndex=t,No(n)}function No(t){Un.lFrame.currentDirectiveIndex=t}function Gs(){return Un.lFrame.currentQueryIndex}function Go(t){Un.lFrame.currentQueryIndex=t}function xa(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function pa(t,n,i){if(i&en.SkipSelf){let c=n,l=t;for(;!(c=c.parent,null!==c||i&en.Host||(c=xa(l),null===c||(l=l[15],10&c.type))););if(null===c)return!1;n=c,t=l}const o=Un.lFrame=no();return o.currentTNode=n,o.lView=t,!0}function Ma(t){const n=no(),i=t[1];Un.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function no(){const t=Un.lFrame,n=null===t?null:t.child;return null===n?v(t):n}function v(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function S(){const t=Un.lFrame;return Un.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const b=S;function $(){const t=S();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mt(){return Un.lFrame.selectedIndex}function dn(t){Un.lFrame.selectedIndex=t}function lt(){const t=Un.lFrame;return ki(t.tView,t.selectedIndex)}function nn(t,n){for(let i=n.directiveStart,o=n.directiveEnd;i<o;i++){const l=t.data[i].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:m,ngAfterViewInit:w,ngAfterViewChecked:N,ngOnDestroy:q}=l;f&&(t.contentHooks||(t.contentHooks=[])).push(-i,f),m&&((t.contentHooks||(t.contentHooks=[])).push(i,m),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,m)),w&&(t.viewHooks||(t.viewHooks=[])).push(-i,w),N&&((t.viewHooks||(t.viewHooks=[])).push(i,N),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,N)),null!=q&&(t.destroyHooks||(t.destroyHooks=[])).push(i,q)}}function Et(t,n,i){dc(t,n,3,i)}function kt(t,n,i,o){(3&t[2])===i&&dc(t,n,i,o)}function Fi(t,n){let i=t[2];(3&i)===n&&(i&=2047,i+=1,t[2]=i)}function dc(t,n,i,o){const l=null!=o?o:-1,f=n.length-1;let m=0;for(let w=void 0!==o?65535&t[18]:0;w<f;w++)if("number"==typeof n[w+1]){if(m=n[w],null!=o&&m>=o)break}else n[w]<0&&(t[18]+=65536),(m<l||-1==l)&&(mu(t,i,n,w),t[18]=(4294901760&t[18])+w+2),w++}function mu(t,n,i,o){const c=i[o]<0,l=i[o+1],m=t[c?-i[o]:i[o]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{l.call(m)}finally{}}}else try{l.call(m)}finally{}}class Wi{constructor(n,i,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function _o(t,n,i){const o=O(t);let c=0;for(;c<i.length;){const l=i[c];if("number"==typeof l){if(0!==l)break;c++;const f=i[c++],m=i[c++],w=i[c++];o?t.setAttribute(n,m,w,f):n.setAttributeNS(f,m,w)}else{const f=l,m=i[++c];Wr(f)?o&&t.setProperty(n,f,m):o?t.setAttribute(n,f,m):n.setAttribute(f,m),c++}}return c}function ga(t){return 3===t||4===t||6===t}function Wr(t){return 64===t.charCodeAt(0)}function Jn(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?i=c:0===i||ma(t,i,c,null,-1===i||2===i?n[++o]:null)}}return t}function ma(t,n,i,o,c){let l=0,f=t.length;if(-1===n)f=-1;else for(;l<t.length;){const m=t[l++];if("number"==typeof m){if(m===n){f=-1;break}if(m>n){f=l-1;break}}}for(;l<t.length;){const m=t[l];if("number"==typeof m)break;if(m===i){if(null===o)return void(null!==c&&(t[l+1]=c));if(o===t[l+1])return void(t[l+2]=c)}l++,null!==o&&l++,null!==c&&l++}-1!==f&&(t.splice(f,0,n),l=f+1),t.splice(l++,0,i),null!==o&&t.splice(l++,0,o),null!==c&&t.splice(l++,0,c)}function zr(t){return-1!==t}function Fo(t){return 32767&t}function on(t,n){let i=function(t){return t>>16}(t),o=n;for(;i>0;)o=o[15],i--;return o}let ia=!0;function Os(t){const n=ia;return ia=t,n}let Hc=0;function sa(t,n){const i=ss(t,n);if(-1!==i)return i;const o=n[1];o.firstCreatePass&&(t.injectorIndex=n.length,ya(o.data,t),ya(n,null),ya(o.blueprint,null));const c=Lo(t,n),l=t.injectorIndex;if(zr(c)){const f=Fo(c),m=on(c,n),w=m[1].data;for(let N=0;N<8;N++)n[l+N]=m[f+N]|w[f+N]}return n[l+8]=c,l}function ya(t,n){t.push(0,0,0,0,0,0,0,0,n)}function ss(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Lo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,o=null,c=n;for(;null!==c;){const l=c[1],f=l.type;if(o=2===f?l.declTNode:1===f?c[6]:null,null===o)return-1;if(i++,c=c[15],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return-1}function Ra(t,n,i){!function(t,n,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(En)&&(o=i[En]),null==o&&(o=i[En]=Hc++);const c=255&o;n.data[t+(c>>5)]|=1<<c}(t,n,i)}function ro(t,n,i){if(i&en.Optional)return t;oe(n,"NodeInjector")}function Wo(t,n,i,o){if(i&en.Optional&&void 0===o&&(o=null),0==(i&(en.Self|en.Host))){const c=t[9],l=Vt(void 0);try{return c?c.get(n,o,i&en.Optional):er(n,o,i&en.Optional)}finally{Vt(l)}}return ro(o,n,i)}function at(t,n,i,o=en.Default,c){if(null!==t){const l=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(En)?t[En]:void 0;return"number"==typeof n?n>=0?255&n:os:n}(i);if("function"==typeof l){if(!pa(n,t,o))return o&en.Host?ro(c,i,o):Wo(n,i,o,c);try{const f=l(o);if(null!=f||o&en.Optional)return f;oe(i)}finally{b()}}else if("number"==typeof l){let f=null,m=ss(t,n),w=-1,N=o&en.Host?n[F][6]:null;for((-1===m||o&en.SkipSelf)&&(w=-1===m?Lo(t,n):n[m+8],-1!==w&&k(o,!1)?(f=n[1],m=Fo(w),n=on(w,n)):m=-1);-1!==m;){const q=n[1];if(E(l,m,q.data)){const le=Gc(m,n,i,f,o,N);if(le!==ks)return le}w=n[m+8],-1!==w&&k(o,n[1].data[m+8]===N)&&E(l,m,n)?(f=q,m=Fo(w),n=on(w,n)):m=-1}}}return Wo(n,i,o,c)}const ks={};function os(){return new z(Si(),jt())}function Gc(t,n,i,o,c,l){const f=n[1],m=f.data[t+8],q=Ws(m,f,i,null==o?Ui(m)&&ia:o!=f&&0!=(3&m.type),c&en.Host&&l===m);return null!==q?T(n,f,q,m):ks}function Ws(t,n,i,o,c){const l=t.providerIndexes,f=n.data,m=1048575&l,w=t.directiveStart,q=l>>20,me=c?m+q:t.directiveEnd;for(let Ne=o?m:m+q;Ne<me;Ne++){const Je=f[Ne];if(Ne<w&&i===Je||Ne>=w&&Je.type===i)return Ne}if(c){const Ne=f[w];if(Ne&&ni(Ne)&&Ne.type===i)return w}return null}function T(t,n,i,o){let c=t[i];const l=n.data;if(function(t){return t instanceof Wi}(c)){const f=c;f.resolving&&function(t,n){throw new _t("200",`Circular dependency in DI detected for ${t}`)}(Xe(l[i]));const m=Os(f.canSeeViewProviders);f.resolving=!0;const w=f.injectImpl?Vt(f.injectImpl):null;pa(t,o,en.Default);try{c=t[i]=f.factory(void 0,l,t,o),n.firstCreatePass&&i>=o.directiveStart&&function(t,n,i){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:l}=n.type.prototype;if(o){const f=Qs(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,f),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,f)}c&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,c),l&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,l),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,l))}(i,l[i],n)}finally{null!==w&&Vt(w),Os(m),f.resolving=!1,b()}}return c}function E(t,n,i){return!!(i[n+(t>>5)]&1<<t)}function k(t,n){return!(t&en.Self||t&en.Host&&n)}class z{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,o){return at(this._tNode,this._lView,n,o,i)}}function ie(t){return yt(()=>{const n=t.prototype.constructor,i=n[Jt]||Ae(n),o=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==o;){const l=c[Jt]||Ae(c);if(l&&l!==i)return l;c=Object.getPrototypeOf(c)}return l=>new l})}function Ae(t){return qe(t)?()=>{const n=Ae(Le(t));return n&&n()}:bi(t)}function Ve(t){return function(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const o=i.length;let c=0;for(;c<o;){const l=i[c];if(ga(l))break;if(0===l)c+=2;else if("number"==typeof l)for(c++;c<o&&"string"==typeof i[c];)c++;else{if(l===n)return i[c+1];c+=2}}}return null}(Si(),t)}const fn="__parameters__",Tr="__prop__metadata__";function Xr(t){return function(...i){if(t){const o=t(...i);for(const c in o)this[c]=o[c]}}}function qn(t,n,i){return yt(()=>{const o=Xr(n);function c(...l){if(this instanceof c)return o.apply(this,l),this;const f=new c(...l);return m.annotation=f,m;function m(w,N,q){const le=w.hasOwnProperty(fn)?w[fn]:Object.defineProperty(w,fn,{value:[]})[fn];for(;le.length<=q;)le.push(null);return(le[q]=le[q]||[]).push(f),w}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function $r(t,n,i,o){return yt(()=>{const c=Xr(n);function l(...f){if(this instanceof l)return c.apply(this,f),this;const m=new l(...f);return function(N,q){const le=N.constructor,me=le.hasOwnProperty(Tr)?le[Tr]:Object.defineProperty(le,Tr,{value:{}})[Tr];me[q]=me.hasOwnProperty(q)&&me[q]||[],me[q].unshift(m),o&&o(N,q,...f)}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function as(){return qn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>Ve(t)}))}const Eo=as();class gr{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Yn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pc=new gr("AnalyzeForEntryComponents");class Di{}const qs=$r("ContentChild",(t,n={})=>Object.assign({selector:t,first:!0,isViewQuery:!1,descendants:!0},n),Di),gc=$r("ViewChild",(t,n)=>Object.assign({selector:t,first:!0,isViewQuery:!0,descendants:!0},n),Di),Yo=Function;function so(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?(n===t&&(n=t.slice(0,i)),so(o,n)):n!==t&&n.push(o)}return n}function Ns(t,n){t.forEach(i=>Array.isArray(i)?Ns(i,n):n(i))}function vc(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function Io(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ys(t,n){const i=[];for(let o=0;o<t;o++)i.push(n);return i}function Fs(t,n,i){let o=Qa(t,n);return o>=0?t[1|o]=i:(o=~o,function(t,n,i,o){let c=t.length;if(c==n)t.push(i,o);else if(1===c)t.push(o,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=i,t[n+1]=o}}(t,o,n,i)),o}function Ec(t,n){const i=Qa(t,n);if(i>=0)return t[1|i]}function Qa(t,n){return function(t,n,i){let o=0,c=t.length>>i;for(;c!==o;){const l=o+(c-o>>1),f=t[l<<i];if(n===f)return l<<i;f>n?c=l:o=l+1}return~(c<<i)}(t,n,1)}const Ko={},Ic="__NG_DI_FLAG__",Ii="ngTempTokenPath",Cc=/\n/gm,Iu="__source",wu=fe({provide:String,useValue:fe});let wc;function oo(t){const n=wc;return wc=t,n}function Vo(t,n=en.Default){if(void 0===wc)throw new Error("inject() must be called from an injection context");return null===wc?er(t,void 0,n):wc.get(t,n&en.Optional?null:void 0,n)}function mi(t,n=en.Default){return(Ln||Vo)(Le(t),n)}function ua(t){const n=[];for(let i=0;i<t.length;i++){const o=Le(t[i]);if(Array.isArray(o)){if(0===o.length)throw new Error("Arguments array must have arguments.");let c,l=en.Default;for(let f=0;f<o.length;f++){const m=o[f],w=Md(m);"number"==typeof w?-1===w?c=m.token:l|=w:c=m}n.push(mi(c,l))}else n.push(mi(o))}return n}function qi(t,n){return t[Ic]=n,t.prototype[Ic]=n,t}function Md(t){return t[Ic]}function Ja(t,n,i,o){const c=t[Ii];throw n[Iu]&&c.unshift(n[Iu]),t.message=function(t,n,i,o=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=Ie(n);if(Array.isArray(n))c=n.map(Ie).join(" -> ");else if("object"==typeof n){let l=[];for(let f in n)if(n.hasOwnProperty(f)){let m=n[f];l.push(f+":"+("string"==typeof m?JSON.stringify(m):Ie(m)))}c=`{${l.join(", ")}}`}return`${i}${o?"("+o+")":""}[${c}]: ${t.replace(Cc,"\n  ")}`}("\n"+t.message,c,i,o),t.ngTokenPath=c,t[Ii]=null,t}const ba=qi(qn("Inject",t=>({token:t})),-1),ao=qi(qn("Optional"),8),M=qi(qn("SkipSelf"),4);let $o;function Co(t){var n;return(null===(n=function(){if(void 0===$o&&($o=null,it.trustedTypes))try{$o=it.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return $o}())||void 0===n?void 0:n.createHTML(t))||t}class Ia{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Od extends Ia{getTypeName(){return"HTML"}}class ef extends Ia{getTypeName(){return"Style"}}class Tc extends Ia{getTypeName(){return"Script"}}class tf extends Ia{getTypeName(){return"URL"}}class kd extends Ia{getTypeName(){return"ResourceURL"}}function wo(t){return t instanceof Ia?t.changingThisBreaksApplicationSecurity:t}function Do(t,n){const i=Hl(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function Hl(t){return t instanceof Ia&&t.getTypeName()||null}function Gl(t){return new Od(t)}function Nd(t){return new ef(t)}function Zc(t){return new Tc(t)}function zl(t){return new tf(t)}function nf(t){return new kd(t)}class Jr{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Co(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class sl{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const o=this.inertDocument.createElement("body");i.appendChild(o)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Co(n),i;const o=this.inertDocument.createElement("body");return o.innerHTML=Co(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(o),o}stripCustomNsAttrs(n){const i=n.attributes;for(let c=i.length-1;0<c;c--){const f=i.item(c).name;("xmlns:ns1"===f||0===f.indexOf("ns1:"))&&n.removeAttribute(f)}let o=n.firstChild;for(;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling}}const rc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,co=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Tu(t){return(t=String(t)).match(rc)||t.match(co)?t:"unsafe:"+t}function Zo(t){const n={};for(const i of t.split(","))n[i]=!0;return n}function To(...t){const n={};for(const i of t)for(const o in i)i.hasOwnProperty(o)&&(n[o]=!0);return n}const Wl=Zo("area,br,col,hr,img,wbr"),Qc=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fd=Zo("rp,rt"),Su=To(Wl,To(Qc,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),To(Fd,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),To(Fd,Qc)),I=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),d=Zo("srcset"),K=To(I,d,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),re=Zo("script,style,template");class Ke{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,o=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?o=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,o&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let c=this.checkClobberedElement(i,i.nextSibling);if(c){i=c;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Su.hasOwnProperty(i))return this.sanitizedSomething=!0,!re.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const o=n.attributes;for(let c=0;c<o.length;c++){const l=o.item(c),f=l.name,m=f.toLowerCase();if(!K.hasOwnProperty(m)){this.sanitizedSomething=!0;continue}let w=l.value;I[m]&&(w=Tu(w)),d[m]&&(t=w,w=(t=String(t)).split(",").map(n=>Tu(n.trim())).join(", ")),this.buf.push(" ",f,'="',an(w),'"')}var t;return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Su.hasOwnProperty(i)&&!Wl.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(an(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const At=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mn=/([^\#-~ |!])/g;function an(t){return t.replace(/&/g,"&amp;").replace(At,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(mn,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nr;function ai(t,n){let i=null;try{nr=nr||function(t){const n=new sl(t);return function(){try{return!!(new window.DOMParser).parseFromString(Co(""),"text/html")}catch(t){return!1}}()?new Jr(n):n}(t);let o=n?String(n):"";i=nr.getInertBodyElement(o);let c=5,l=o;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,o=l,l=i.innerHTML,i=nr.getInertBodyElement(o)}while(o!==l);return Co((new Ke).sanitizeChildren(ri(i)||i))}finally{if(i){const o=ri(i)||i;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function ri(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function xu(t){const n=function(){const t=jt();return t&&t[12]}();return n?n.sanitize(yi.URL,t)||"":Do(t,"URL")?wo(t):Tu(Ce(t))}const eg="__ngContext__";function uo(t,n){t[eg]=n}function Vd(t){const n=function(t){return t[eg]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Ql(t){return t.ngOriginalError}function wy(t,...n){t.error(...n)}class cl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),o=this._findContext(n),c=(t=n)&&t.ngErrorLogger||wy;var t;c(this._console,"ERROR",n),i&&c(this._console,"ORIGINAL ERROR",i),o&&c(this._console,"ERROR CONTEXT",o)}_findContext(n){return n?n.ngDebugContext||this._findContext(Ql(n)):null}_findOriginalError(n){let i=n&&Ql(n);for(;i&&Ql(i);)i=Ql(i);return i||null}}const uf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(it))();function wa(t){return t instanceof Function?t():t}var ho=(()=>((ho=ho||{})[ho.Important=1]="Important",ho[ho.DashCase=2]="DashCase",ho))();function lf(t,n){return undefined(t,n)}function Fa(t){const n=t[3];return Gr(n)?n[3]:n}function ku(t){return Hd(t[13])}function jd(t){return Hd(t[4])}function Hd(t){for(;null!==t&&!Gr(t);)t=t[4];return t}function Nu(t,n,i,o,c){if(null!=o){let l,f=!1;Gr(o)?l=o:Mr(o)&&(f=!0,o=o[0]);const m=Kt(o);0===t&&null!==i?null==c?ed(n,i,m):Rc(n,i,m,c||null,!0):1===t&&null!==i?Rc(n,i,m,c||null,!0):2===t?function(t,n,i){const o=eu(t,n);o&&function(t,n,i,o){O(t)?t.removeChild(n,i,o):n.removeChild(i)}(t,o,n,i)}(n,m,f):3===t&&n.destroyNode(m),null!=l&&function(t,n,i,o,c){const l=i[7];l!==Kt(i)&&Nu(n,t,o,l,c);for(let m=10;m<i.length;m++){const w=i[m];La(w[1],w,t,n,o,l)}}(n,t,l,i,c)}}function zd(t,n,i){return O(t)?t.createElement(n,i):null===i?t.createElement(n):t.createElementNS(i,n)}function mg(t,n){const i=t[9],o=i.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,Xs(c,-1)),i.splice(o,1)}function df(t,n){if(t.length<=10)return;const i=10+n,o=t[i];if(o){const c=o[17];null!==c&&c!==t&&mg(c,o),n>0&&(t[i-1][4]=o[4]);const l=Io(t,10+n);!function(t,n){La(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(o[1],o);const f=l[19];null!==f&&f.detachView(l[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function ll(t,n){if(!(256&n[2])){const i=n[11];O(i)&&i.destroyNode&&La(t,n,i,3,null,null),function(t){let n=t[13];if(!n)return Mc(t[1],t);for(;n;){let i=null;if(Mr(n))i=n[13];else{const o=n[10];o&&(i=o)}if(!i){for(;n&&!n[4]&&n!==t;)Mr(n)&&Mc(n[1],n),n=n[3];null===n&&(n=t),Mr(n)&&Mc(n[1],n),i=n&&n[4]}n=i}}(n)}}function Mc(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let o=0;o<i.length;o+=2){const c=n[i[o]];if(!(c instanceof Wi)){const l=i[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const m=c[l[f]],w=l[f+1];try{w.call(m)}finally{}}else try{l.call(c)}finally{}}}}(t,n),function(t,n){const i=t.cleanup,o=n[7];let c=-1;if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const f=i[l+1],m="function"==typeof f?f(n):Kt(n[f]),w=o[c=i[l+2]],N=i[l+3];"boolean"==typeof N?m.removeEventListener(i[l],w,N):N>=0?o[c=N]():o[c=-N].unsubscribe(),l+=2}else{const f=o[c=i[l+1]];i[l].call(f)}if(null!==o){for(let l=c+1;l<o.length;l++)o[l]();n[7]=null}}(t,n),1===n[1].type&&O(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&Gr(n[3])){i!==n[3]&&mg(i,n);const o=n[19];null!==o&&o.detachView(t)}}}function vg(t,n,i){return function(t,n,i){let o=n;for(;null!==o&&40&o.type;)o=(n=o).parent;if(null===o)return i[0];if(2&o.flags){const c=t.data[o.directiveStart].encapsulation;if(c===Dn.None||c===Dn.Emulated)return null}return Rr(o,i)}(t,n.parent,i)}function Rc(t,n,i,o,c){O(t)?t.insertBefore(n,i,o,c):n.insertBefore(i,o,c)}function ed(t,n,i){O(t)?t.appendChild(n,i):n.appendChild(i)}function bg(t,n,i,o,c){null!==o?Rc(t,n,i,o,c):ed(t,n,i)}function eu(t,n){return O(t)?t.parentNode(n):n.parentNode}function dl(t,n,i){return ff(t,n,i)}let ff=function(t,n,i){return 40&t.type?Rr(t,i):null};function Vu(t,n,i,o){const c=vg(t,o,n),l=n[11],m=dl(o.parent||n[6],o,n);if(null!=c)if(Array.isArray(i))for(let w=0;w<i.length;w++)bg(l,c,i[w],m,!1);else bg(l,c,i,m,!1)}function $u(t,n){if(null!==n){const i=n.type;if(3&i)return Rr(n,t);if(4&i)return sc(-1,t[n.index]);if(8&i){const o=n.child;if(null!==o)return $u(t,o);{const c=t[n.index];return Gr(c)?sc(-1,c):Kt(c)}}if(32&i)return lf(n,t)()||Kt(t[n.index]);{const o=gf(t,n);return null!==o?Array.isArray(o)?o[0]:$u(Fa(t[F]),o):$u(t,n.next)}}return null}function gf(t,n){return null!==n?t[F][6].projection[n.projection]:null}function sc(t,n){const i=10+t+1;if(i<n.length){const o=n[i],c=o[1].firstChild;if(null!==c)return $u(o,c)}return n[7]}function Yd(t,n,i,o,c,l,f){for(;null!=i;){const m=o[i.index],w=i.type;if(f&&0===n&&(m&&uo(Kt(m),o),i.flags|=4),64!=(64&i.flags))if(8&w)Yd(t,n,i.child,o,c,l,!1),Nu(n,t,c,m,l);else if(32&w){const N=lf(i,o);let q;for(;q=N();)Nu(n,t,c,q,l);Nu(n,t,c,m,l)}else 16&w?Uu(t,n,o,i,c,l):Nu(n,t,c,m,l);i=f?i.projectionNext:i.next}}function La(t,n,i,o,c,l){Yd(i,o,t.firstChild,n,c,l,!1)}function Uu(t,n,i,o,c,l){const f=i[F],w=f[6].projection[o.projection];if(Array.isArray(w))for(let N=0;N<w.length;N++)Nu(n,t,c,w[N],l);else Yd(t,n,w,f[3],c,l,!0)}function mf(t,n,i){O(t)?t.setAttribute(n,"style",i):n.style.cssText=i}function yf(t,n,i){O(t)?""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i):n.className=i}function Cg(t,n,i){let o=t.length;for(;;){const c=t.indexOf(n,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const l=n.length;if(c+l===o||t.charCodeAt(c+l)<=32)return c}i=c+1}}const wg="ng-template";function Kd(t,n,i){let o=0;for(;o<t.length;){let c=t[o++];if(i&&"class"===c){if(c=t[o],-1!==Cg(c.toLowerCase(),n,0))return!0}else if(1===c){for(;o<t.length&&"string"==typeof(c=t[o++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function vf(t){return 4===t.type&&t.value!==wg}function Fy(t,n,i){return n===(4!==t.type||i?t.value:wg)}function Dg(t,n,i){let o=4;const c=t.attrs||[],l=function(t){for(let n=0;n<t.length;n++)if(ga(t[n]))return n;return t.length}(c);let f=!1;for(let m=0;m<n.length;m++){const w=n[m];if("number"!=typeof w){if(!f)if(4&o){if(o=2|1&o,""!==w&&!Fy(t,w,i)||""===w&&1===n.length){if(Va(o))return!1;f=!0}}else{const N=8&o?w:n[++m];if(8&o&&null!==t.attrs){if(!Kd(t.attrs,N,i)){if(Va(o))return!1;f=!0}continue}const le=Tg(8&o?"class":w,c,vf(t),i);if(-1===le){if(Va(o))return!1;f=!0;continue}if(""!==N){let me;me=le>l?"":c[le+1].toLowerCase();const Ne=8&o?me:null;if(Ne&&-1!==Cg(Ne,N,0)||2&o&&N!==me){if(Va(o))return!1;f=!0}}}}else{if(!f&&!Va(o)&&!Va(w))return!1;if(f&&Va(w))continue;f=!1,o=w|1&o}}return Va(o)||f}function Va(t){return 0==(1&t)}function Tg(t,n,i,o){if(null===n)return-1;let c=0;if(o||!i){let l=!1;for(;c<n.length;){const f=n[c];if(f===t)return c;if(3===f||6===f)l=!0;else{if(1===f||2===f){let m=n[++c];for(;"string"==typeof m;)m=n[++c];continue}if(4===f)break;if(0===f){c+=4;continue}}c+=l?1:2}return-1}return function(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const o=t[i];if("number"==typeof o)return-1;if(o===n)return i;i++}return-1}(n,t)}function nu(t,n,i=!1){for(let o=0;o<n.length;o++)if(Dg(t,n[o],i))return!0;return!1}function Ly(t,n){e:for(let i=0;i<n.length;i++){const o=n[i];if(t.length===o.length){for(let c=0;c<t.length;c++)if(t[c]!==o[c])continue e;return!0}}return!1}function _f(t,n){return t?":not("+n.trim()+")":n}function Vy(t){let n=t[0],i=1,o=2,c="",l=!1;for(;i<t.length;){let f=t[i];if("string"==typeof f)if(2&o){const m=t[++i];c+="["+f+(m.length>0?'="'+m+'"':"")+"]"}else 8&o?c+="."+f:4&o&&(c+=" "+f);else""!==c&&!Va(f)&&(n+=_f(l,c),c=""),o=f,l=l||!Va(o);i++}return""!==c&&(n+=_f(l,c)),n}const Qn={};function xg(t){Mg(kr(),jt(),Mt()+t,zi())}function Mg(t,n,i,o){if(!o)if(3==(3&n[2])){const l=t.preOrderCheckHooks;null!==l&&Et(n,l,i)}else{const l=t.preOrderHooks;null!==l&&kt(n,l,0,i)}dn(i)}function Zd(t,n){return t<<17|n<<2}function $a(t){return t>>17&32767}function hl(t){return 2|t}function Pc(t){return(131068&t)>>2}function Qd(t,n){return-131069&t|n<<2}function nd(t){return 1|t}function pl(t,n){const i=t.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const c=i[o],l=i[o+1];if(-1!==l){const f=t.data[l];Go(c),f.contentQueries(2,n[l],l)}}}function ad(t,n,i,o,c,l,f,m,w,N){const q=n.blueprint.slice();return q[0]=c,q[2]=140|o,js(q),q[3]=q[15]=t,q[8]=i,q[10]=f||t&&t[10],q[11]=m||t&&t[11],q[12]=w||t&&t[12]||null,q[9]=N||t&&t[9]||null,q[6]=l,q[F]=2==n.type?t[F]:q,q}function gl(t,n,i,o,c){let l=t.data[n];if(null===l)l=function(t,n,i,o,c){const l=Rs(),f=vo(),w=t.data[n]=function(t,n,i,o,c,l){return{type:i,index:o,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,i,n,o,c);return null===t.firstChild&&(t.firstChild=w),null!==l&&(f?null==l.child&&null!==w.parent&&(l.child=w):null===l.next&&(l.next=w)),w}(t,n,i,o,c),Un.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=i,l.value=o,l.attrs=c;const f=function(){const t=Un.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return Gi(l,!0),l}function ml(t,n,i,o){if(0===i)return-1;const c=n.length;for(let l=0;l<i;l++)n.push(o),t.blueprint.push(o),t.data.push(null);return c}function Gu(t,n,i){Ma(n);try{const o=t.viewQuery;null!==o&&Bf(1,o,i);const c=t.template;null!==c&&vl(t,n,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pl(t,n),t.staticViewQueries&&Bf(2,t.viewQuery,i);const l=t.components;null!==l&&function(t,n){for(let i=0;i<n.length;i++)iv(t,n[i])}(n,l)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{n[2]&=-5,$()}}function yl(t,n,i,o){const c=n[2];if(256==(256&c))return;Ma(n);const l=zi();try{js(n),function(t){Un.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&vl(t,n,i,2,o);const f=3==(3&c);if(!l)if(f){const N=t.preOrderCheckHooks;null!==N&&Et(n,N,null)}else{const N=t.preOrderHooks;null!==N&&kt(n,N,0,null),Fi(n,0)}if(function(t){for(let n=ku(t);null!==n;n=jd(n)){if(!n[2])continue;const i=n[9];for(let o=0;o<i.length;o++){const c=i[o],l=c[3];0==(1024&c[2])&&Xs(l,1),c[2]|=1024}}}(n),function(t){for(let n=ku(t);null!==n;n=jd(n))for(let i=10;i<n.length;i++){const o=n[i],c=o[1];Oo(o)&&yl(c,o,c.template,o[8])}}(n),null!==t.contentQueries&&pl(t,n),!l)if(f){const N=t.contentCheckHooks;null!==N&&Et(n,N)}else{const N=t.contentHooks;null!==N&&kt(n,N,1),Fi(n,1)}!function(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const c=i[o];if(c<0)dn(~c);else{const l=c,f=i[++o],m=i[++o];to(f,l),m(2,n[l])}}}finally{dn(-1)}}(t,n);const m=t.components;null!==m&&function(t,n){for(let i=0;i<n.length;i++)Yg(t,n[i])}(n,m);const w=t.viewQuery;if(null!==w&&Bf(2,w,o),!l)if(f){const N=t.viewCheckHooks;null!==N&&Et(n,N)}else{const N=t.viewHooks;null!==N&&kt(n,N,2),Fi(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),l||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Xs(n[3],-1))}finally{$()}}function Xy(t,n,i,o){const c=n[10],l=!zi(),f=Po(n);try{l&&!f&&c.begin&&c.begin(),f&&Gu(t,n,o),yl(t,n,i,o)}finally{l&&!f&&c.end&&c.end()}}function vl(t,n,i,o,c){const l=Mt(),f=2&o;try{dn(-1),f&&n.length>20&&Mg(t,n,20,zi()),i(o,c)}finally{dn(l)}}function ru(t,n,i){!jo()||(function(t,n,i,o){const c=i.directiveStart,l=i.directiveEnd;t.firstCreatePass||sa(i,n),uo(o,n);const f=i.initialInputs;for(let m=c;m<l;m++){const w=t.data[m],N=ni(w);N&&qg(n,i,w);const q=T(n,t,m,i);uo(q,n),null!==f&&Nf(0,m-c,q,w,0,f),N&&(Ei(i.index,n)[8]=q)}}(t,n,i,Rr(i,n)),128==(128&i.flags)&&function(t,n,i){const o=i.directiveStart,c=i.directiveEnd,f=i.index,m=Un.lFrame.currentDirectiveIndex;try{dn(f);for(let w=o;w<c;w++){const N=t.data[w],q=n[w];No(w),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&lh(N,q)}}finally{dn(-1),No(m)}}(t,n,i))}function cd(t,n,i=Rr){const o=n.localNames;if(null!==o){let c=n.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],m=-1===f?i(n,t):t[f];t[c++]=m}}}function ud(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=iu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function iu(t,n,i,o,c,l,f,m,w,N){const q=20+o,le=q+c,me=function(t,n){const i=[];for(let o=0;o<n;o++)i.push(o<t?null:Qn);return i}(q,le),Ne="function"==typeof N?N():N;return me[1]={type:t,blueprint:me,template:i,queries:null,viewQuery:m,declTNode:n,data:me.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:w,consts:Ne,incompleteFirstPass:!1}}function oc(t,n,i,o){const c=Uf(n);null===i?c.push(o):(c.push(i),t.firstCreatePass&&jf(t).push(o,c.length-1))}function Ug(t,n,i){for(let o in t)if(t.hasOwnProperty(o)){const c=t[o];(i=null===i?{}:i).hasOwnProperty(o)?i[o].push(n,c):i[o]=[n,c]}return i}function Uo(t,n,i,o,c,l,f,m){const w=Rr(n,i);let q,N=n.inputs;!m&&null!=N&&(q=N[o])?(Zg(t,i,q,o,c),Ui(n)&&function(t,n){const i=Ei(n,t);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(o=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(o),c=null!=f?f(c,n.value||"",o):c,O(l)?l.setProperty(w,o,c):Wr(o)||(w.setProperty?w.setProperty(o,c):w[o]=c))}function Of(t,n,i,o){let c=!1;if(jo()){const l=function(t,n,i){const o=t.directiveRegistry;let c=null;if(o)for(let l=0;l<o.length;l++){const f=o[l];nu(i,f.selectors,!1)&&(c||(c=[]),Ra(sa(i,n),t,f.type),ni(f)?(dh(t,i),c.unshift(f)):c.push(f))}return c}(t,n,i),f=null===o?null:{"":-1};if(null!==l){c=!0,Wg(i,t.data.length,l.length);for(let q=0;q<l.length;q++){const le=l[q];le.providersResolver&&le.providersResolver(le)}let m=!1,w=!1,N=ml(t,n,l.length,null);for(let q=0;q<l.length;q++){const le=l[q];i.mergedAttrs=Jn(i.mergedAttrs,le.hostAttrs),hh(t,i,n,N,le),kf(N,le,f),null!==le.contentQueries&&(i.flags|=8),(null!==le.hostBindings||null!==le.hostAttrs||0!==le.hostVars)&&(i.flags|=128);const me=le.type.prototype;!m&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),m=!0),!w&&(me.ngOnChanges||me.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),w=!0),N++}!function(t,n){const o=n.directiveEnd,c=t.data,l=n.attrs,f=[];let m=null,w=null;for(let N=n.directiveStart;N<o;N++){const q=c[N],le=q.inputs,me=null===l||vf(n)?null:_l(le,l);f.push(me),m=Ug(le,N,m),w=Ug(q.outputs,N,w)}null!==m&&(m.hasOwnProperty("class")&&(n.flags|=16),m.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=f,n.inputs=m,n.outputs=w}(t,i)}f&&function(t,n,i){if(n){const o=t.localNames=[];for(let c=0;c<n.length;c+=2){const l=i[n[c+1]];if(null==l)throw new _t("301",`Export of name '${n[c+1]}' not found!`);o.push(n[c],l)}}}(i,o,f)}return i.mergedAttrs=Jn(i.mergedAttrs,i.attrs),c}function Hg(t,n,i,o,c,l){const f=l.hostBindings;if(f){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const w=~n.index;(function(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=w&&m.push(w),m.push(o,c,f)}}function lh(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function dh(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function kf(t,n,i){if(i){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)i[n.exportAs[o]]=t;ni(n)&&(i[""]=t)}}function Wg(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function hh(t,n,i,o,c){t.data[o]=c;const l=c.factory||(c.factory=bi(c.type)),f=new Wi(l,ni(c),null);t.blueprint[o]=f,i[o]=f,Hg(t,n,0,o,ml(t,i,c.hostVars,Qn),c)}function qg(t,n,i){const o=Rr(n,t),c=ud(i),l=t[10],f=Il(t,ad(t,c,null,i.onPush?64:16,o,n,l,l.createRenderer(o,i),null,null));t[n.index]=f}function Da(t,n,i,o,c,l){const f=Rr(t,n);!function(t,n,i,o,c,l,f){if(null==l)O(t)?t.removeAttribute(n,c,i):n.removeAttribute(c);else{const m=null==f?Ce(l):f(l,o||"",c);O(t)?t.setAttribute(n,c,m,i):i?n.setAttributeNS(i,c,m):n.setAttribute(c,m)}}(n[11],f,l,t.value,i,o,c)}function Nf(t,n,i,o,c,l){const f=l[n];if(null!==f){const m=o.setInput;for(let w=0;w<f.length;){const N=f[w++],q=f[w++],le=f[w++];null!==m?o.setInput(i,le,N,q):i[q]=le}}}function _l(t,n){let i=null,o=0;for(;o<n.length;){const c=n[o];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===i&&(i=[]),i.push(c,t[c],n[o+1])),o+=2}else o+=2;else o+=4}return i}function fh(t,n,i,o){return new Array(t,!0,!1,n,null,0,o,i,null,null)}function Yg(t,n){const i=Ei(n,t);if(Oo(i)){const o=i[1];80&i[2]?yl(o,i,o.template,i[8]):i[5]>0&&su(i)}}function su(t){for(let o=ku(t);null!==o;o=jd(o))for(let c=10;c<o.length;c++){const l=o[c];if(1024&l[2]){const f=l[1];yl(f,l,f.template,l[8])}else l[5]>0&&su(l)}const i=t[1].components;if(null!==i)for(let o=0;o<i.length;o++){const c=Ei(i[o],t);Oo(c)&&c[5]>0&&su(c)}}function iv(t,n){const i=Ei(n,t),o=i[1];(function(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])})(o,i),Gu(o,i,i[8])}function Il(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function hd(t){for(;t;){t[2]|=64;const n=Fa(t);if(_i(t)&&!n)return t;t=n}return null}function Lf(t,n,i){const o=n[10];o.begin&&o.begin();try{yl(t,n,t.template,i)}catch(c){throw Gf(n,c),c}finally{o.end&&o.end()}}function Kg(t){!function(t){for(let n=0;n<t.components.length;n++){const i=t.components[n],o=Vd(i),c=o[1];Xy(c,o,c.template,i)}}(t[8])}function Bf(t,n,i){Go(0),n(t,i)}const av=(()=>Promise.resolve(null))();function Uf(t){return t[7]||(t[7]=[])}function jf(t){return t.cleanup||(t.cleanup=[])}function Gf(t,n){const i=t[9],o=i?i.get(cl,null):null;o&&o.handleError(n)}function Zg(t,n,i,o,c){for(let l=0;l<i.length;){const f=i[l++],m=i[l++],w=n[f],N=t.data[f];null!==N.setInput?N.setInput(w,c,o,m):w[m]=c}}function kc(t,n,i){const o=li(n,t);!function(t,n,i){O(t)?t.setValue(n,i):n.textContent=i}(t[11],o,i)}function ph(t,n,i){let o=i?t.styles:null,c=i?t.classes:null,l=0;if(null!==n)for(let f=0;f<n.length;f++){const m=n[f];"number"==typeof m?l=m:1==l?c=Ze(c,m):2==l&&(o=Ze(o,m+": "+n[++f]+";"))}i?t.styles=o:t.stylesWithoutHost=o,i?t.classes=c:t.classesWithoutHost=c}const ou=new gr("INJECTOR",-1);class Xg{get(n,i=Ko){if(i===Ko){const o=new Error(`NullInjectorError: No provider for ${Ie(n)}!`);throw o.name="NullInjectorError",o}return i}}const Wu=new gr("Set Injector scope."),pd={},Wf={};let gh;function mh(){return void 0===gh&&(gh=new Xg),gh}function em(t,n=null,i=null,o){return new qf(t,i,n||mh(),o)}class qf{constructor(n,i,o,c=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];i&&Ns(i,m=>this.processProvider(m,n,i)),Ns([n],m=>this.processInjectorType(m,[],l)),this.records.set(ou,Cl(void 0,this));const f=this.records.get(Wu);this.scope=null!=f?f.value:null,this.source=c||("object"==typeof n?null:Ie(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=Ko,o=en.Default){this.assertNotDestroyed();const c=oo(this),l=Vt(void 0);try{if(!(o&en.SkipSelf)){let m=this.records.get(n);if(void 0===m){const w=("function"==typeof(t=n)||"object"==typeof t&&t instanceof gr)&&Mn(n);m=w&&this.injectableDefInScope(w)?Cl(Yf(n),pd):null,this.records.set(n,m)}if(null!=m)return this.hydrate(n,m)}return(o&en.Self?mh():this.parent).get(n,i=o&en.Optional&&i===Ko?null:i)}catch(f){if("NullInjectorError"===f.name){if((f[Ii]=f[Ii]||[]).unshift(Ie(n)),c)throw f;return Ja(f,n,"R3InjectorError",this.source)}throw f}finally{Vt(l),oo(c)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((o,c)=>n.push(Ie(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,o){if(!(n=Le(n)))return!1;let c=Yr(n);const l=null==c&&n.ngModule||void 0,f=void 0===l?n:l,m=-1!==o.indexOf(f);if(void 0!==l&&(c=Yr(l)),null==c)return!1;if(null!=c.imports&&!m){let q;o.push(f);try{Ns(c.imports,le=>{this.processInjectorType(le,i,o)&&(void 0===q&&(q=[]),q.push(le))})}finally{}if(void 0!==q)for(let le=0;le<q.length;le++){const{ngModule:me,providers:Ne}=q[le];Ns(Ne,Je=>this.processProvider(Je,me,Ne||tn))}}this.injectorDefTypes.add(f);const w=bi(f)||(()=>new f);this.records.set(f,Cl(w,pd));const N=c.providers;if(null!=N&&!m){const q=n;Ns(N,le=>this.processProvider(le,q,N))}return void 0!==l&&void 0!==n.providers}processProvider(n,i,o){let c=ja(n=Le(n))?n:Le(n&&n.provide);const l=(t=n,vh(t)?Cl(void 0,t.useValue):Cl(yh(t),pd));var t;if(ja(n)||!0!==n.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Cl(void 0,pd,!0),f.factory=()=>ua(f.multi),this.records.set(c,f)),c=n,f.multi.push(n)}this.records.set(c,l)}hydrate(n,i){return i.value===pd&&(i.value=Wf,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(t=i.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var t}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Le(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Yf(t){const n=Mn(t),i=null!==n?n.factory:bi(t);if(null!==i)return i;if(t instanceof gr)throw new Error(`Token ${Ie(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const n=t.length;if(n>0){const o=Ys(n,"?");throw new Error(`Can't resolve all parameters for ${Ie(t)}: (${o.join(", ")}).`)}const i=function(t){const n=t&&(t[Sn]||t[ar]);if(n){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function yh(t,n,i){let o;if(ja(t)){const c=Le(t);return bi(c)||Yf(c)}if(vh(t))o=()=>Le(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))o=()=>t.useFactory(...ua(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))o=()=>mi(Le(t.useExisting));else{const c=Le(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bi(c)||Yf(c);o=()=>new c(...ua(t.deps))}return o}function Cl(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function vh(t){return null!==t&&"object"==typeof t&&wu in t}function ja(t){return"function"==typeof t}const nm=function(t,n,i){return function(t,n=null,i=null,o){const c=em(t,n,i,o);return c._resolveInjectorDefTypes(),c}({name:i},n,t,i)};let Vi=(()=>{class t{static create(i,o){return Array.isArray(i)?nm(i,o,""):nm(i.providers,i.parent,i.name||"")}}return t.THROW_IF_NOT_FOUND=Ko,t.NULL=new Xg,t.\u0275prov=Yn({token:t,providedIn:"any",factory:()=>mi(ou)}),t.__NG_ELEMENT_ID__=-1,t})();function cm(t,n){nn(Vd(t)[1],Si())}function lm(t){let n=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const o=[t];for(;n;){let c;if(ni(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");c=n.\u0275dir}if(c){if(i){o.push(c);const f=t;f.inputs=hp(t.inputs),f.declaredInputs=hp(t.declaredInputs),f.outputs=hp(t.outputs);const m=c.hostBindings;m&&Ev(t,m);const w=c.viewQuery,N=c.contentQueries;if(w&&_v(t,w),N&&bv(t,N),rt(t.inputs,c.inputs),rt(t.declaredInputs,c.declaredInputs),rt(t.outputs,c.outputs),ni(c)&&c.data.animation){const q=t.data;q.animation=(q.animation||[]).concat(c.data.animation)}}const l=c.features;if(l)for(let f=0;f<l.length;f++){const m=l[f];m&&m.ngInherit&&m(t),m===lm&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(t){let n=0,i=null;for(let o=t.length-1;o>=0;o--){const c=t[o];c.hostVars=n+=c.hostVars,c.hostAttrs=Jn(c.hostAttrs,i=Jn(i,c.hostAttrs))}}(o)}function hp(t){return t===Cn?{}:t===tn?[]:t}function _v(t,n){const i=t.viewQuery;t.viewQuery=i?(o,c)=>{n(o,c),i(o,c)}:n}function bv(t,n){const i=t.contentQueries;t.contentQueries=i?(o,c,l)=>{n(o,c,l),i(o,c,l)}:n}function Ev(t,n){const i=t.hostBindings;t.hostBindings=i?(o,c)=>{n(o,c),i(o,c)}:n}let Dl=null;function cu(){if(!Dl){const t=it.Symbol;if(t&&t.iterator)Dl=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const o=n[i];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(Dl=o)}}}return Dl}function Yu(t){return!!md(t)&&(Array.isArray(t)||!(t instanceof Map)&&cu()in t)}function md(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ls(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function pp(t,n,i,o){const c=jt();return ls(c,rs(),n)&&(kr(),Da(lt(),c,t,n,i,o)),pp}function Sl(t,n,i,o){return ls(t,rs(),i)?n+Ce(i)+o:Qn}function Dv(t,n,i,o,c,l,f,m){const w=jt(),N=kr(),q=t+20,le=N.firstCreatePass?function(t,n,i,o,c,l,f,m,w){const N=n.consts,q=gl(n,t,4,f||null,fs(N,m));Of(n,i,q,fs(N,w)),nn(n,q);const le=q.tViews=iu(2,q,o,c,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N);return null!==n.queries&&(n.queries.template(n,q),le.queries=n.queries.embeddedTView(q)),q}(q,N,w,n,i,o,c,l,f):N.data[q];Gi(le,!1);const me=w[11].createComment("");Vu(N,w,me,le),uo(me,w),Il(w,w[q]=fh(me,w,me,le)),Kr(le)&&ru(N,w,le),null!=f&&cd(w,le,m)}function Nl(t,n=en.Default){const i=jt();return null===i?mi(t,n):at(Si(),i,Le(t),n)}function $v(){throw new Error("invalid")}function Tm(t,n,i){const o=jt();return ls(o,rs(),n)&&Uo(kr(),lt(),o,t,n,o[11],i,!1),Tm}function Oh(t,n,i,o,c){const f=c?"class":"style";Zg(t,i,n.inputs[f],f,o)}function kh(t,n,i,o){const c=jt(),l=kr(),f=20+t,m=c[11],w=c[f]=zd(m,n,Un.lFrame.currentNamespace),N=l.firstCreatePass?function(t,n,i,o,c,l,f){const m=n.consts,N=gl(n,t,2,c,fs(m,l));return Of(n,i,N,fs(m,f)),null!==N.attrs&&ph(N,N.attrs,!1),null!==N.mergedAttrs&&ph(N,N.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,N),N}(f,l,c,0,n,i,o):l.data[f];Gi(N,!0);const q=N.mergedAttrs;null!==q&&_o(m,w,q);const le=N.classes;null!==le&&yf(m,w,le);const me=N.styles;null!==me&&mf(m,w,me),64!=(64&N.flags)&&Vu(l,c,w,N),0===Un.lFrame.elementDepthCount&&uo(w,c),Un.lFrame.elementDepthCount++,Kr(N)&&(ru(l,c,N),function(t,n,i){if(fi(n)){const c=n.directiveEnd;for(let l=n.directiveStart;l<c;l++){const f=t.data[l];f.contentQueries&&f.contentQueries(1,i[l],l)}}}(l,N,c)),null!==o&&cd(c,N)}function Nh(){let t=Si();vo()?Hs():(t=t.parent,Gi(t,!1));const n=t;Un.lFrame.elementDepthCount--;const i=kr();i.firstCreatePass&&(nn(i,t),fi(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(n)&&Oh(i,n,jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(n)&&Oh(i,n,jt(),n.stylesWithoutHost,!1)}function Am(t,n,i,o){kh(t,n,i,o),Nh()}function Xu(){return jt()}function Dp(t){return!!t&&"function"==typeof t.then}function Bv(t){return!!t&&"function"==typeof t.subscribe}const Mm=Bv;function ac(t,n,i,o){const c=jt(),l=kr(),f=Si();return function(t,n,i,o,c,l,f,m){const w=Kr(o),q=t.firstCreatePass&&jf(t),le=n[8],me=Uf(n);let Ne=!0;if(3&o.type||m){const ct=Rr(o,n),cn=m?m(ct):ct,Lt=me.length,or=m?Ar=>m(Kt(Ar[o.index])):o.index;if(O(i)){let Ar=null;if(!m&&w&&(Ar=function(t,n,i,o){const c=t.cleanup;if(null!=c)for(let l=0;l<c.length-1;l+=2){const f=c[l];if(f===i&&c[l+1]===o){const m=n[7],w=c[l+2];return m.length>w?m[w]:null}"string"==typeof f&&(l+=2)}return null}(t,n,c,o.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=l,Ar.__ngLastListenerFn__=l,Ne=!1;else{l=Rm(o,n,le,l,!1);const ii=i.listen(cn,c,l);me.push(l,ii),q&&q.push(c,or,Lt,Lt+1)}}else l=Rm(o,n,le,l,!0),cn.addEventListener(c,l,f),me.push(l),q&&q.push(c,or,Lt,f)}else l=Rm(o,n,le,l,!1);const Je=o.outputs;let wt;if(Ne&&null!==Je&&(wt=Je[c])){const ct=wt.length;if(ct)for(let cn=0;cn<ct;cn+=2){const po=n[wt[cn]][wt[cn+1]].subscribe(l),lc=me.length;me.push(l,po),q&&q.push(c,o.index,lc,-(lc+1))}}}(l,c,c[11],f,t,n,!!i,o),ac}function Hv(t,n,i,o){try{return!1!==i(o)}catch(c){return Gf(t,c),!1}}function Rm(t,n,i,o,c){return function l(f){if(f===Function)return o;const m=2&t.flags?Ei(t.index,n):n;0==(32&n[2])&&hd(m);let w=Hv(n,0,o,f),N=l.__ngNextListenerFn__;for(;N;)w=Hv(n,0,N,f)&&w,N=N.__ngNextListenerFn__;return c&&!1===w&&(f.preventDefault(),f.returnValue=!1),w}}function Pm(t=1){return function(t){return(Un.lFrame.contextLView=function(t,n){for(;t>0;)n=n[15],t--;return n}(t,Un.lFrame.contextLView))[8]}(t)}function Gv(t,n){let i=null;const o=function(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(t);for(let c=0;c<n.length;c++){const l=n[c];if("*"!==l){if(null===o?nu(t,l,!0):Ly(o,l))return c}else i=c}return i}function zv(t){const n=jt()[F][6];if(!n.projection){const o=n.projection=Ys(t?t.length:1,null),c=o.slice();let l=n.child;for(;null!==l;){const f=t?Gv(l,t):0;null!==f&&(c[f]?c[f].projectionNext=l:o[f]=l,c[f]=l),l=l.next}}}function Om(t,n=0,i){const o=jt(),c=kr(),l=gl(c,20+t,16,null,i||null);null===l.projection&&(l.projection=n),Hs(),64!=(64&l.flags)&&function(t,n,i){Uu(n[11],0,n,i,vg(t,i,n),dl(i.parent||n[6],i,n))}(c,o,l)}function Tp(t,n,i){return km(t,"",n,"",i),Tp}function km(t,n,i,o,c){const l=jt(),f=Sl(l,n,i,o);return f!==Qn&&Uo(kr(),lt(),l,t,f,l[11],c,!1),km}function Yv(t,n,i,o,c){const l=t[i+1],f=null===n;let m=o?$a(l):Pc(l),w=!1;for(;0!==m&&(!1===w||f);){const q=t[m+1];M0(t[m],n)&&(w=!0,t[m+1]=o?nd(q):hl(q)),m=o?$a(q):Pc(q)}w&&(t[i+1]=o?hl(l):nd(l))}function M0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Qa(t,n)>=0}function pt(t,n){return function(t,n,i,o){const c=jt(),l=kr(),f=function(t){const n=Un.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);l.firstUpdatePass&&function(t,n,i,o){const c=t.data;if(null===c[i+1]){const l=c[Mt()],f=function(t,n){return n>=t.expandoStartIndex}(t,i);(function(t,n){return 0!=(t.flags&(n?16:32))})(l,o)&&null===n&&!f&&(n=!1),n=function(t,n,i,o){const c=function(t){const n=Un.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let l=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(i=Sp(i=Zv(null,t,n,i,o),n.attrs,o),l=null);else{const f=n.directiveStylingLast;if(-1===f||t[f]!==c)if(i=Zv(c,t,n,i,o),null===l){let w=function(t,n,i){const o=i?n.classBindings:n.styleBindings;if(0!==Pc(o))return t[$a(o)]}(t,n,o);void 0!==w&&Array.isArray(w)&&(w=Zv(null,t,n,w[1],o),w=Sp(w,n.attrs,o),function(t,n,i,o){t[$a(i?n.classBindings:n.styleBindings)]=o}(t,n,o,w))}else l=function(t,n,i){let o;const c=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<c;l++)o=Sp(o,t[l].hostAttrs,i);return Sp(o,n.attrs,i)}(t,n,o)}return void 0!==l&&(o?n.residualClasses=l:n.residualStyles=l),i}(c,l,n,o),function(t,n,i,o,c,l){let f=l?n.classBindings:n.styleBindings,m=$a(f),w=Pc(f);t[o]=i;let q,N=!1;if(Array.isArray(i)){const le=i;q=le[1],(null===q||Qa(le,q)>0)&&(N=!0)}else q=i;if(c)if(0!==w){const me=$a(t[m+1]);t[o+1]=Zd(me,m),0!==me&&(t[me+1]=Qd(t[me+1],o)),t[m+1]=function(t,n){return 131071&t|n<<17}(t[m+1],o)}else t[o+1]=Zd(m,0),0!==m&&(t[m+1]=Qd(t[m+1],o)),m=o;else t[o+1]=Zd(w,0),0===m?m=o:t[w+1]=Qd(t[w+1],o),w=o;N&&(t[o+1]=hl(t[o+1])),Yv(t,q,o,!0),Yv(t,q,o,!1),function(t,n,i,o,c){const l=c?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof n&&Qa(l,n)>=0&&(i[o+1]=nd(i[o+1]))}(n,q,t,o,l),f=Zd(m,w),l?n.classBindings=f:n.styleBindings=f}(c,l,n,i,f,o)}}(l,t,f,o),n!==Qn&&ls(c,f,n)&&function(t,n,i,o,c,l,f,m){if(!(3&n.type))return;const w=t.data,N=w[m+1];$m(function(t){return 1==(1&t)}(N)?k0(w,n,i,c,Pc(N),f):void 0)||($m(l)||function(t){return 2==(2&t)}(N)&&(l=k0(w,null,i,c,m,f)),function(t,n,i,o,c){const l=O(t);if(n)c?l?t.addClass(i,o):i.classList.add(o):l?t.removeClass(i,o):i.classList.remove(o);else{let f=-1===o.indexOf("-")?void 0:ho.DashCase;if(null==c)l?t.removeStyle(i,o,f):i.style.removeProperty(o);else{const m="string"==typeof c&&c.endsWith("!important");m&&(c=c.slice(0,-10),f|=ho.Important),l?t.setStyle(i,o,c,f):i.style.setProperty(o,c,m?"important":"")}}}(o,f,li(Mt(),i),c,l))}(l,l.data[Mt()],c,c[11],t,c[f+1]=function(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ie(wo(t)))),t}(n,i),o,f)}(t,n,null,!0),pt}function Zv(t,n,i,o,c){let l=null;const f=i.directiveEnd;let m=i.directiveStylingLast;for(-1===m?m=i.directiveStart:m++;m<f&&(l=n[m],o=Sp(o,l.hostAttrs,c),l!==t);)m++;return null!==t&&(i.directiveStylingLast=m),o}function Sp(t,n,i){const o=i?1:2;let c=-1;if(null!==n)for(let l=0;l<n.length;l++){const f=n[l];"number"==typeof f?c=f:c===o&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fs(t,f,!!i||n[++l]))}return void 0===t?null:t}function k0(t,n,i,o,c,l){const f=null===n;let m;for(;c>0;){const w=t[c],N=Array.isArray(w),q=N?w[1]:w,le=null===q;let me=i[c+1];me===Qn&&(me=le?tn:void 0);let Ne=le?Ec(me,o):q===o?me:void 0;if(N&&!$m(Ne)&&(Ne=Ec(w,o)),$m(Ne)&&(m=Ne,f))return m;const Je=t[c+1];c=f?$a(Je):Pc(Je)}if(null!==n){let w=l?n.residualClasses:n.residualStyles;null!=w&&(m=Ec(w,o))}return m}function $m(t){return void 0!==t}function F0(t,n=""){const i=jt(),o=kr(),c=t+20,l=o.firstCreatePass?gl(o,c,1,n,null):o.data[c],f=i[c]=function(t,n){return O(t)?t.createText(n):t.createTextNode(n)}(i[11],n);Vu(o,i,f,l),Gi(l,!1)}function Qv(t){return Bm("",t,""),Qv}function Bm(t,n,i){const o=jt(),c=Sl(o,t,n,i);return c!==Qn&&kc(o,Mt(),c),Bm}function Xv(t,n,i){const o=jt();return ls(o,rs(),n)&&Uo(kr(),lt(),o,t,n,o[11],i,!0),Xv}const Cd=void 0;var pC=["en",[["a","p"],["AM","PM"],Cd],[["AM","PM"],Cd,Cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cd,"{1} 'at' {0}",Cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let Vh={};function Jv(t){const n=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=nb(n);if(i)return i;const o=n.split("-")[0];if(i=nb(o),i)return i;if("en"===o)return pC;throw new Error(`Missing locale data for the locale "${t}".`)}function tb(t){return Jv(t)[Ir.PluralCase]}function nb(t){return t in Vh||(Vh[t]=it.ng&&it.ng.common&&it.ng.common.locales&&it.ng.common.locales[t]),Vh[t]}var Ir=(()=>((Ir=Ir||{})[Ir.LocaleId=0]="LocaleId",Ir[Ir.DayPeriodsFormat=1]="DayPeriodsFormat",Ir[Ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ir[Ir.DaysFormat=3]="DaysFormat",Ir[Ir.DaysStandalone=4]="DaysStandalone",Ir[Ir.MonthsFormat=5]="MonthsFormat",Ir[Ir.MonthsStandalone=6]="MonthsStandalone",Ir[Ir.Eras=7]="Eras",Ir[Ir.FirstDayOfWeek=8]="FirstDayOfWeek",Ir[Ir.WeekendRange=9]="WeekendRange",Ir[Ir.DateFormat=10]="DateFormat",Ir[Ir.TimeFormat=11]="TimeFormat",Ir[Ir.DateTimeFormat=12]="DateTimeFormat",Ir[Ir.NumberSymbols=13]="NumberSymbols",Ir[Ir.NumberFormats=14]="NumberFormats",Ir[Ir.CurrencyCode=15]="CurrencyCode",Ir[Ir.CurrencySymbol=16]="CurrencySymbol",Ir[Ir.CurrencyName=17]="CurrencyName",Ir[Ir.Currencies=18]="Currencies",Ir[Ir.Directionality=19]="Directionality",Ir[Ir.PluralCase=20]="PluralCase",Ir[Ir.ExtraData=21]="ExtraData",Ir))();const Um="en-US";let rb=Um;function e_(t){On(t,"Expected localeId to be defined"),"string"==typeof t&&(rb=t.toLowerCase().replace(/_/g,"-"))}function r_(t,n,i,o,c){if(t=Le(t),Array.isArray(t))for(let l=0;l<t.length;l++)r_(t[l],n,i,o,c);else{const l=kr(),f=jt();let m=ja(t)?t:Le(t.provide),w=yh(t);const N=Si(),q=1048575&N.providerIndexes,le=N.directiveStart,me=N.providerIndexes>>20;if(ja(t)||!t.multi){const Ne=new Wi(w,c,Nl),Je=s_(m,n,c?q:q+me,le);-1===Je?(Ra(sa(N,f),l,m),i_(l,t,n.length),n.push(m),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),i.push(Ne),f.push(Ne)):(i[Je]=Ne,f[Je]=Ne)}else{const Ne=s_(m,n,q+me,le),Je=s_(m,n,q,q+me),wt=Ne>=0&&i[Ne],ct=Je>=0&&i[Je];if(c&&!ct||!c&&!wt){Ra(sa(N,f),l,m);const cn=function(t,n,i,o,c){const l=new Wi(t,i,Nl);return l.multi=[],l.index=n,l.componentProviders=0,Sb(l,c,o&&!i),l}(c?dw:lw,i.length,c,o,w);!c&&ct&&(i[Je].providerFactory=cn),i_(l,t,n.length,0),n.push(m),N.directiveStart++,N.directiveEnd++,c&&(N.providerIndexes+=1048576),i.push(cn),f.push(cn)}else i_(l,t,Ne>-1?Ne:Je,Sb(i[c?Je:Ne],w,!c&&o));!c&&o&&ct&&i[Je].componentProviders++}}}function i_(t,n,i,o){const c=ja(n);if(c||function(t){return!!t.useClass}(n)){const f=(n.useClass||n).prototype.ngOnDestroy;if(f){const m=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const w=m.indexOf(i);-1===w?m.push(i,[o,f]):m[w+1].push(o,f)}else m.push(i,f)}}}function Sb(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function s_(t,n,i,o){for(let c=i;c<o;c++)if(n[c]===t)return c;return-1}function lw(t,n,i,o){return o_(this.multi,[])}function dw(t,n,i,o){const c=this.multi;let l;if(this.providerFactory){const f=this.providerFactory.componentProviders,m=T(i,i[1],this.providerFactory.index,o);l=m.slice(0,f),o_(c,l);for(let w=f;w<m.length;w++)l.push(m[w])}else l=[],o_(c,l);return l}function o_(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function Ab(t,n=[]){return i=>{i.providersResolver=(o,c)=>function(t,n,i){const o=kr();if(o.firstCreatePass){const c=ni(t);r_(i,o.data,o.blueprint,c,!0),r_(n,o.data,o.blueprint,c,!1)}}(o,c?c(t):t,n)}}class xb{}const Rb="ngComponent";class pw{resolveComponentFactory(n){throw function(t){const n=Error(`No component factory found for ${Ie(t)}. Did you add it to @NgModule.entryComponents?`);return n[Rb]=t,n}(n)}}let Bh=(()=>{class t{}return t.NULL=new pw,t})();function Wm(...t){}function Uh(t,n){return new pu(Rr(t,n))}const yw=function(){return Uh(Si(),jt())};let pu=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=yw,t})();function Pb(t){return t instanceof pu?t.nativeElement:t}class qm{}let vw=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>bw(),t})();const bw=function(){const t=jt(),i=Ei(Si().index,t);return function(t){return t[11]}(Mr(i)?i:t)};let c_=(()=>{class t{}return t.\u0275prov=Yn({token:t,providedIn:"root",factory:()=>null}),t})();class Ob{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const u_=new Ob("12.2.16");class kb{constructor(){}supports(n){return Yu(n)}create(n){return new ww(n)}}const Cw=(t,n)=>n;class ww{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Cw}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,o=this._removalsHead,c=0,l=null;for(;i||o;){const f=!o||i&&i.currentIndex<Fb(o,c,l)?i:o,m=Fb(f,c,l),w=f.currentIndex;if(f===o)c--,o=o._nextRemoved;else if(i=i._next,null==f.previousIndex)c++;else{l||(l=[]);const N=m-c,q=w-c;if(N!=q){for(let me=0;me<N;me++){const Ne=me<l.length?l[me]:l[me]=0,Je=Ne+me;q<=Je&&Je<N&&(l[me]=Ne+1)}l[f.previousIndex]=q-N}}m!==w&&n(f,m,w)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Yu(n))throw new Error(`Error trying to diff '${Ie(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,l,f,i=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let m=0;m<this.length;m++)l=n[m],f=this._trackByFn(m,l),null!==i&&Object.is(i.trackById,f)?(o&&(i=this._verifyReinsertion(i,l,f,m)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,f,m),o=!0),i=i._next}else c=0,function(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[cu()]();let o;for(;!(o=i.next()).done;)n(o.value)}}(n,m=>{f=this._trackByFn(c,m),null!==i&&Object.is(i.trackById,f)?(o&&(i=this._verifyReinsertion(i,m,f,c)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,f,c),o=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,o,c){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,c)):n=this._addAfter(new Dw(i,o),l,c),n}_verifyReinsertion(n,i,o,c){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?n=this._reinsertAfter(l,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,l=n._nextRemoved;return null===c?this._removalsHead=l:c._nextRemoved=l,null===l?this._removalsTail=c:l._prevRemoved=c,this._insertAfter(n,i,o),this._addToMoves(n,o),n}_moveAfter(n,i,o){return this._unlink(n),this._insertAfter(n,i,o),this._addToMoves(n,o),n}_addAfter(n,i,o){return this._insertAfter(n,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,o){const c=null===i?this._itHead:i._next;return n._next=c,n._prev=i,null===c?this._itTail=n:c._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new Nb),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,o=n._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Nb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Dw{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tw{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const i=n._prevDup,o=n._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class Nb{constructor(){this.map=new Map}put(n){const i=n.trackById;let o=this.map.get(i);o||(o=new Tw,this.map.set(i,o)),o.add(n)}get(n,i){const c=this.map.get(n);return c?c.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Fb(t,n,i){const o=t.previousIndex;if(null===o)return o;let c=0;return i&&o<i.length&&(c=i[o]),o+n+c}class Lb{constructor(){}supports(n){return n instanceof Map||md(n)}create(){return new Sw}}class Sw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||md(n)))throw new Error(`Error trying to diff '${Ie(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const l=this._getOrCreateRecordForKey(c,o);i=this._insertBeforeOrAppend(i,l)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const o=n._prev;return i._next=n,i._prev=o,n._prev=i,o&&(o._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,i);const l=c._prev,f=c._next;return l&&(l._next=f),f&&(f._prev=l),c._next=null,c._prev=null,c}const o=new Aw(n);return this._records.set(n,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(o=>i(n[o],o))}}class Aw{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vb(){return new Ym([new kb])}let Ym=(()=>{class t{constructor(i){this.factories=i}static create(i,o){if(null!=o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||Vb()),deps:[[t,new M,new ao]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(null!=o)return o;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'`)}}return t.\u0275prov=Yn({token:t,providedIn:"root",factory:Vb}),t})();function $b(){return new Km([new Lb])}let Km=(()=>{class t{constructor(i){this.factories=i}static create(i,o){if(o){const c=o.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:o=>t.create(i,o||$b()),deps:[[t,new M,new ao]]}}find(i){const o=this.factories.find(c=>c.supports(i));if(o)return o;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return t.\u0275prov=Yn({token:t,providedIn:"root",factory:$b}),t})();function Zm(t,n,i,o,c=!1){for(;null!==i;){const l=n[i.index];if(null!==l&&o.push(Kt(l)),Gr(l))for(let m=10;m<l.length;m++){const w=l[m],N=w[1].firstChild;null!==N&&Zm(w[1],w,N,o)}const f=i.type;if(8&f)Zm(t,n,i.child,o);else if(32&f){const m=lf(i,n);let w;for(;w=m();)o.push(w)}else if(16&f){const m=gf(n,i);if(Array.isArray(m))o.push(...m);else{const w=Fa(n[F]);Zm(w[1],w,m,o,!0)}}i=c?i.projectionNext:i.next}return o}class Pp{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return Zm(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Gr(n)){const i=n[8],o=i?i.indexOf(this):-1;o>-1&&(df(n,o),Io(i,o))}this._attachedToViewContainer=!1}ll(this._lView[1],this._lView)}onDestroy(n){oc(this._lView[1],this._lView,null,n)}markForCheck(){hd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Lf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,n,i){ps(!0);try{Lf(t,n,i)}finally{ps(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,La(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class Mw extends Pp{constructor(n){super(n),this._view=n}detectChanges(){Kg(this._view)}checkNoChanges(){!function(t){ps(!0);try{Kg(t)}finally{ps(!1)}}(this._view)}get context(){return null}}const Pw=function(t){return function(t,n,i){if(Ui(t)&&!i){const o=Ei(t.index,n);return new Pp(o,o)}return 47&t.type?new Pp(n[F],n):null}(Si(),jt(),16==(16&t))};let Ow=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pw,t})();const Fw=[new Lb],Vw=new Ym([new kb]),$w=new Km(Fw),Uw=function(){return Qm(Si(),jt())};let Op=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uw,t})();const jw=Op,Hw=class extends jw{constructor(n,i,o){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=o}createEmbeddedView(n){const i=this._declarationTContainer.tViews,o=ad(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(o[19]=l.createEmbeddedView(i)),Gu(i,o,n),new Pp(o)}};function Qm(t,n){return 4&t.type?new Hw(n,t,Uh(t,n)):null}class wd{}class Bb{}const Ww=function(){return Hb(Si(),jt())};let Xm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ww,t})();const Yw=Xm,Ub=class extends Yw{constructor(n,i,o){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=o}get element(){return Uh(this._hostTNode,this._hostLView)}get injector(){return new z(this._hostTNode,this._hostLView)}get parentInjector(){const n=Lo(this._hostTNode,this._hostLView);if(zr(n)){const i=on(n,this._hostLView),o=Fo(n);return new z(i[1].data[o+8],i)}return new z(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=jb(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,o){const c=n.createEmbeddedView(i||{});return this.insert(c,o),c}createComponent(n,i,o,c,l){const f=o||this.parentInjector;if(!l&&null==n.ngModule&&f){const w=f.get(wd,null);w&&(l=w)}const m=n.create(f,c,void 0,l);return this.insert(m.hostView,i),m}insert(n,i){const o=n._lView,c=o[1];if(Gr(o[3])){const q=this.indexOf(n);if(-1!==q)this.detach(q);else{const le=o[3],me=new Ub(le,le[6],le[3]);me.detach(me.indexOf(n))}}const l=this._adjustIndex(i),f=this._lContainer;!function(t,n,i,o){const c=10+o,l=i.length;o>0&&(i[c-1][4]=n),o<l-10?(n[4]=i[c],vc(i,10+o,n)):(i.push(n),n[4]=null),n[3]=i;const f=n[17];null!==f&&i!==f&&function(t,n){const i=t[9];n[F]!==n[3][3][F]&&(t[2]=!0),null===i?t[9]=[n]:i.push(n)}(f,n);const m=n[19];null!==m&&m.insertView(t),n[2]|=128}(c,o,f,l);const m=sc(l,f),w=o[11],N=eu(w,f[7]);return null!==N&&function(t,n,i,o,c,l){o[0]=c,o[6]=n,La(t,o,i,1,c,l)}(c,f[6],w,o,N,m),n.attachToViewContainerRef(),vc(l_(f),l,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=jb(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),o=df(this._lContainer,i);o&&(Io(l_(this._lContainer),i),ll(o[1],o))}detach(n){const i=this._adjustIndex(n,-1),o=df(this._lContainer,i);return o&&null!=Io(l_(this._lContainer),i)?new Pp(o):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function jb(t){return t[8]}function l_(t){return t[8]||(t[8]=[])}function Hb(t,n){let i;const o=n[t.index];if(Gr(o))i=o;else{let c;if(8&t.type)c=Kt(o);else{const l=n[11];c=l.createComment("");const f=Rr(t,n);Rc(l,eu(l,f),c,function(t,n){return O(t)?t.nextSibling(n):n.nextSibling}(l,f),!1)}n[t.index]=i=fh(o,n,c,t),Il(n,i)}return new Ub(i,t,n)}const zh={};class uE extends Bh{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=mr(n);return new dE(i,this.ngModule)}}function lE(t){const n=[];for(let i in t)t.hasOwnProperty(i)&&n.push({propName:t[i],templateName:i});return n}const GD=new gr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uf});class dE extends xb{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(Vy).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return lE(this.componentDef.inputs)}get outputs(){return lE(this.componentDef.outputs)}create(n,i,o,c){const l=(c=c||this.ngModule)?function(t,n){return{get:(i,o,c)=>{const l=t.get(i,zh,c);return l!==zh||o===zh?l:n.get(i,o,c)}}}(n,c.injector):n,f=l.get(qm,J),m=l.get(c_,null),w=f.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",q=o?function(t,n,i){if(O(t))return t.selectRootElement(n,i===Dn.ShadowDom);let o="string"==typeof n?t.querySelector(n):n;return o.textContent="",o}(w,o,this.componentDef.encapsulation):zd(f.createRenderer(null,this.componentDef),N,function(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(N)),le=this.componentDef.onPush?576:528,me=function(t,n){return{components:[],scheduler:t||uf,clean:av,playerHandler:n||null,flags:0}}(),Ne=iu(0,null,null,1,0,null,null,null,null,null),Je=ad(null,Ne,me,le,null,null,f,w,m,l);let wt,ct;Ma(Je);try{const cn=function(t,n,i,o,c,l){const f=i[1];i[20]=t;const w=gl(f,20,2,"#host",null),N=w.mergedAttrs=n.hostAttrs;null!==N&&(ph(w,N,!0),null!==t&&(_o(c,t,N),null!==w.classes&&yf(c,t,w.classes),null!==w.styles&&mf(c,t,w.styles)));const q=o.createRenderer(t,n),le=ad(i,ud(n),null,n.onPush?64:16,i[20],w,o,q,l||null,null);return f.firstCreatePass&&(Ra(sa(w,i),f,n.type),dh(f,w),Wg(w,i.length,1)),Il(i,le),i[20]=le}(q,this.componentDef,Je,f,w);if(q)if(o)_o(w,q,["ng-version",u_.full]);else{const{attrs:Lt,classes:or}=function(t){const n=[],i=[];let o=1,c=2;for(;o<t.length;){let l=t[o];if("string"==typeof l)2===c?""!==l&&n.push(l,t[++o]):8===c&&i.push(l);else{if(!Va(c))break;c=l}o++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);Lt&&_o(w,q,Lt),or&&or.length>0&&yf(w,q,or.join(" "))}if(ct=ki(Ne,20),void 0!==i){const Lt=ct.projection=[];for(let or=0;or<this.ngContentSelectors.length;or++){const Ar=i[or];Lt.push(null!=Ar?Array.from(Ar):null)}}wt=function(t,n,i,o,c){const l=i[1],f=function(t,n,i){const o=Si();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),hh(t,o,n,ml(t,n,1,null),i));const c=T(n,t,o.directiveStart,o);uo(c,n);const l=Rr(o,n);return l&&uo(l,n),c}(l,i,n);if(o.components.push(f),t[8]=f,c&&c.forEach(w=>w(f,n)),n.contentQueries){const w=Si();n.contentQueries(1,f,w.directiveStart)}const m=Si();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(dn(m.index),Hg(i[1],m,0,m.directiveStart,m.directiveEnd,n),lh(n,f)),f}(cn,this.componentDef,Je,me,[cm]),Gu(Ne,Je,null)}finally{$()}return new qD(this.componentType,wt,Uh(ct,Je),Je,ct)}}class qD extends class{}{constructor(n,i,o,c,l){super(),this.location=o,this._rootLView=c,this._tNode=l,this.instance=i,this.hostView=this.changeDetectorRef=new Mw(c),this.componentType=n}get injector(){return new z(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}const Wh=new Map;class ZD extends wd{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uE(this);const o=Rn(n),c=n[ot]||null;c&&e_(c),this._bootstrapComponents=wa(o.bootstrap),this._r3Injector=em(n,i,[{provide:wd,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],Ie(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=Vi.THROW_IF_NOT_FOUND,o=en.Default){return n===Vi||n===wd||n===ou?this:this._r3Injector.get(n,i,o)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class C_ extends Bb{constructor(n){super(),this.moduleType=n,null!==Rn(n)&&function(t){const n=new Set;!function i(o){const c=Rn(o,!0),l=c.id;null!==l&&(function(t,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${t} - ${Ie(n)} vs ${Ie(n.name)}`)}(l,Wh.get(l),o),Wh.set(l,o));const f=wa(c.imports);for(const m of f)n.has(m)||(n.add(m),i(m))}(t)}(n)}create(n){return new ZD(this.moduleType,n)}}function w_(t){return n=>{setTimeout(t,void 0,n)}}const gu=class extends Te.xQ{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,o){var c,l,f;let m=n,w=i||(()=>null),N=o;if(n&&"object"==typeof n){const le=n;m=null===(c=le.next)||void 0===c?void 0:c.bind(le),w=null===(l=le.error)||void 0===l?void 0:l.bind(le),N=null===(f=le.complete)||void 0===f?void 0:f.bind(le)}this.__isAsync&&(w=w_(w),m&&(m=w_(m)),N&&(N=w_(N)));const q=super.subscribe({next:m,error:w,complete:N});return n instanceof U.w&&n.add(q),q}};function gT(){return this._results[cu()]()}class ry{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=cu(),o=ry.prototype;o[i]||(o[i]=gT)}get changes(){return this._changes||(this._changes=new gu)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const o=this;o.dirty=!1;const c=so(n);(this._changesDetected=!function(t,n,i){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){let c=t[o],l=n[o];if(i&&(c=i(c),l=i(l)),l!==c)return!1}return!0}(o._results,c,i))&&(o._results=c,o.length=c.length,o.last=c[this.length-1],o.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class D_{constructor(n){this.queryList=n,this.matches=null}clone(){return new D_(this.queryList)}setDirty(){this.queryList.setDirty()}}class T_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const o=null!==n.contentQueries?n.contentQueries[0]:i.length,c=[];for(let l=0;l<o;l++){const f=i.getByIndex(l);c.push(this.queries[f.indexInDeclarationView].clone())}return new T_(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==SE(n,i).matches&&this.queries[i].setDirty()}}class _E{constructor(n,i,o=null){this.predicate=n,this.flags=i,this.read=o}}class S_{constructor(n=[]){this.queries=n}elementStart(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let o=0;o<this.length;o++){const c=null!==i?i.length:0,l=this.getByIndex(o).embeddedTView(n,c);l&&(l.indexInDeclarationView=o,null!==i?i.push(l):i=[l])}return null!==i?new S_(i):null}template(n,i){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class A_{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new A_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==i;)o=o.parent;return i===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const l=o[c];this.matchTNodeWithReadOption(n,i,vT(i,l)),this.matchTNodeWithReadOption(n,i,Ws(i,n,l,!1,!1))}else o===Op?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Ws(i,n,o,!1,!1))}matchTNodeWithReadOption(n,i,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===pu||c===Xm||c===Op&&4&i.type)this.addMatch(i.index,-2);else{const l=Ws(i,n,c,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,o)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function vT(t,n){const i=t.localNames;if(null!==i)for(let o=0;o<i.length;o+=2)if(i[o]===n)return i[o+1];return null}function bT(t,n,i,o){return-1===i?function(t,n){return 11&t.type?Uh(t,n):4&t.type?Qm(t,n):null}(n,t):-2===i?function(t,n,i){return i===pu?Uh(n,t):i===Op?Qm(n,t):i===Xm?Hb(n,t):void 0}(t,n,o):T(t,t[1],i,n)}function bE(t,n,i,o){const c=n[19].queries[o];if(null===c.matches){const l=t.data,f=i.matches,m=[];for(let w=0;w<f.length;w+=2){const N=f[w];m.push(N<0?null:bT(n,l[N],f[w+1],i.metadata.read))}c.matches=m}return c.matches}function x_(t,n,i,o){const c=t.queries.getByIndex(i),l=c.matches;if(null!==l){const f=bE(t,n,c,i);for(let m=0;m<l.length;m+=2){const w=l[m];if(w>0)o.push(f[m/2]);else{const N=l[m+1],q=n[-w];for(let le=10;le<q.length;le++){const me=q[le];me[17]===me[3]&&x_(me[1],me,N,o)}if(null!==q[9]){const le=q[9];for(let me=0;me<le.length;me++){const Ne=le[me];x_(Ne[1],Ne,N,o)}}}}}return o}function EE(t){const n=jt(),i=kr(),o=Gs();Go(o+1);const c=SE(i,o);if(t.dirty&&Po(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const l=c.crossesNgTemplate?x_(i,n,o,[]):bE(i,n,c,o);t.reset(l,Pb),t.notifyOnChanges()}return!0}return!1}function IE(t,n,i){const o=kr();o.firstCreatePass&&(TE(o,new _E(t,n,i),-1),2==(2&n)&&(o.staticViewQueries=!0)),DE(o,jt(),n)}function CE(t,n,i,o){const c=kr();if(c.firstCreatePass){const l=Si();TE(c,new _E(n,i,o),l.index),function(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(c,t),2==(2&i)&&(c.staticContentQueries=!0)}DE(c,jt(),i)}function wE(){return t=jt(),n=Gs(),t[19].queries[n].queryList;var t,n}function DE(t,n,i){const o=new ry(4==(4&i));oc(t,n,o,o.destroy),null===n[19]&&(n[19]=new T_),n[19].queries.push(new D_(o))}function TE(t,n,i){null===t.queries&&(t.queries=new S_),t.queries.track(new A_(n,i))}function SE(t,n){return t.queries.getByIndex(n)}const jT=$r("Output",t=>({bindingPropertyName:t})),HT=$r("HostListener",(t,n)=>({eventName:t,args:n})),N_=new gr("Application Initializer");let Yh=(()=>{class t{constructor(i){this.appInits=i,this.resolve=Wm,this.reject=Wm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c})}runInitializers(){if(this.initialized)return;const i=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const l=this.appInits[c]();if(Dp(l))i.push(l);else if(Mm(l)){const f=new Promise((m,w)=>{l.subscribe({complete:m,error:w})});i.push(f)}}Promise.all(i).then(()=>{o()}).catch(c=>{this.reject(c)}),0===i.length&&o(),this.initialized=!0}}return t.\u0275fac=function(i){return new(i||t)(mi(N_,8))},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})();const zE=new gr("AppId"),JT={provide:zE,useFactory:function(){return`${F_()}${F_()}${F_()}`},deps:[]};function F_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WE=new gr("Platform Initializer"),qE=new gr("Platform ID"),YE=new gr("appBootstrapListener");let KE=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})();const oy=new gr("LocaleId"),ZE=new gr("DefaultCurrencyCode");class tS{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const L_=function(t){return new C_(t)},nS=L_,rS=function(t){return Promise.resolve(L_(t))},QE=function(t){const n=L_(t),o=wa(Rn(t).declarations).reduce((c,l)=>{const f=mr(l);return f&&c.push(new dE(f)),c},[]);return new tS(n,o)},iS=QE,sS=function(t){return Promise.resolve(QE(t))};let zp=(()=>{class t{constructor(){this.compileModuleSync=nS,this.compileModuleAsync=rS,this.compileModuleAndAllComponentsSync=iS,this.compileModuleAndAllComponentsAsync=sS}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})();const cS=(()=>Promise.resolve(0))();function V_(t){"undefined"==typeof Zone?cS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ga{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gu(!1),this.onMicrotaskEmpty=new gu(!1),this.onStable=new gu(!1),this.onError=new gu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&i,c.shouldCoalesceRunChangeDetection=o,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let t=it.requestAnimationFrame,n=it.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(t){const n=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(it,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,B_(t),t.isCheckStableRunning=!0,$_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),B_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,c,l,f,m)=>{try{return XE(t),i.invokeTask(c,l,f,m)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&n(),JE(t)}},onInvoke:(i,o,c,l,f,m,w)=>{try{return XE(t),i.invoke(c,l,f,m,w)}finally{t.shouldCoalesceRunChangeDetection&&n(),JE(t)}},onHasTask:(i,o,c,l)=>{i.hasTask(c,l),o===c&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,B_(t),$_(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(i,o,c,l)=>(i.handleError(c,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ga.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ga.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,o){return this._inner.run(n,i,o)}runTask(n,i,o,c){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+c,n,lS,Wm,Wm);try{return l.runTask(f,i,o)}finally{l.cancelTask(f)}}runGuarded(n,i,o){return this._inner.runGuarded(n,i,o)}runOutsideAngular(n){return this._outer.run(n)}}const lS={};function $_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function B_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function XE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function JE(t){t._nesting--,$_(t)}class fS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gu,this.onMicrotaskEmpty=new gu,this.onStable=new gu,this.onError=new gu}run(n,i,o){return n.apply(i,o)}runGuarded(n,i,o){return n.apply(i,o)}runOutsideAngular(n){return n()}runTask(n,i,o,c){return n.apply(i,o)}}let eI=(()=>{class t{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ga.assertNotInAngularZone(),V_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())V_(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,c){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:c})}whenStable(i,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,o,c){return[]}}return t.\u0275fac=function(i){return new(i||t)(mi(Ga))},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})(),tI=(()=>{class t{constructor(){this._applications=new Map,U_.addToWindow(this)}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return U_.findTestabilityInTree(this,i,o)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})();class pS{addToWindow(n){}findTestabilityInTree(n,i,o){return null}}function gS(t){U_=t}let U_=new pS,nI=!0,rI=!1;function mS(){if(rI)throw new Error("Cannot enable prod mode after platform setup.");nI=!1}let $c;const sI=new gr("AllowMultipleToken");class CS{constructor(n,i){this.name=n,this.token=i}}function oI(t,n,i=[]){const o=`Platform: ${n}`,c=new gr(o);return(l=[])=>{let f=aI();if(!f||f.injector.get(sI,!1))if(t)t(i.concat(l).concat({provide:c,useValue:!0}));else{const m=i.concat(l).concat({provide:c,useValue:!0},{provide:Wu,useValue:"platform"});!function(t){if($c&&!$c.destroyed&&!$c.injector.get(sI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");$c=t.get(cI);const n=t.get(WE,null);n&&n.forEach(i=>i())}(Vi.create({providers:m,name:o}))}return function(t){const n=aI();if(!n)throw new Error("No platform exists!");if(!n.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(c)}}function aI(){return $c&&!$c.destroyed?$c:null}let cI=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const m=function(t,n){let i;return i="noop"===t?new fS:("zone.js"===t?void 0:t)||new Ga({enableLongStackTrace:(rI=!0,nI),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),w=[{provide:Ga,useValue:m}];return m.run(()=>{const N=Vi.create({providers:w,parent:this.injector,name:i.moduleType.name}),q=i.create(N),le=q.injector.get(cl,null);if(!le)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return m.runOutsideAngular(()=>{const me=m.onError.subscribe({next:Ne=>{le.handleError(Ne)}});q.onDestroy(()=>{j_(this._modules,q),me.unsubscribe()})}),function(t,n,i){try{const o=i();return Dp(o)?o.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>t.handleError(o)),o}}(le,m,()=>{const me=q.injector.get(Yh);return me.runInitializers(),me.donePromise.then(()=>(e_(q.injector.get(oy,Um)||Um),this._moduleDoBootstrap(q),q))})})}bootstrapModule(i,o=[]){const c=uI({},o);return function(t,n,i){const o=new C_(i);return Promise.resolve(o)}(0,0,i).then(l=>this.bootstrapModuleFactory(l,c))}_moduleDoBootstrap(i){const o=i.injector.get(Wp);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>o.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${Ie(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(i){return new(i||t)(mi(Vi))},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})();function uI(t,n){return Array.isArray(n)?n.reduce(uI,t):Object.assign(Object.assign({},t),n)}let Wp=(()=>{class t{constructor(i,o,c,l,f){this._zone=i,this._injector=o,this._exceptionHandler=c,this._componentFactoryResolver=l,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new _.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),w=new _.y(N=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Ga.assertNotInAngularZone(),V_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const le=this._zone.onUnstable.subscribe(()=>{Ga.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{q.unsubscribe(),le.unsubscribe()}});this.isStable=function(...t){let n=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return(0,R.K)(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof _.y?t[0]:(0,De.J)(n)((0,Ue.n)(t,i))}(m,w.pipe(t=>(0,ne.x)()(function(t,n){return function(o){let c;c="function"==typeof t?t:function(){return t};const l=Object.create(o,pe.N);return l.source=o,l.subjectFactory=c,l}}(ye)(t))))}bootstrap(i,o){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=i instanceof xb?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(c.componentType);const l=function(t){return t.isBoundToModule}(c)?void 0:this._injector.get(wd),m=c.create(Vi.NULL,[],o||c.selector,l),w=m.location.nativeElement,N=m.injector.get(eI,null),q=N&&m.injector.get(tI);return N&&q&&q.registerApplication(w,N),m.onDestroy(()=>{this.detachView(m.hostView),j_(this.components,m),q&&q.unregisterApplication(w)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;j_(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(YE,[]).concat(this._bootstrapListeners).forEach(c=>c(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(i){return new(i||t)(mi(Ga),mi(Vi),mi(cl),mi(Bh),mi(Yh))},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})();function j_(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}class xS{}class RS{}const PS={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let OS=(()=>{class t{constructor(i,o){this._compiler=i,this._config=o||PS}load(i){return this.loadAndCompile(i)}loadAndCompile(i){let[o,c]=i.split("#");return void 0===c&&(c="default"),H(8255)(o).then(l=>l[c]).then(l=>fI(l,o,c)).then(l=>this._compiler.compileModuleAsync(l))}loadFactory(i){let[o,c]=i.split("#"),l="NgFactory";return void 0===c&&(c="default",l=""),H(8255)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(f=>f[c+l]).then(f=>fI(f,o,c))}}return t.\u0275fac=function(i){return new(i||t)(mi(zp),mi(RS,8))},t.\u0275prov=Yn({token:t,factory:t.\u0275fac}),t})();function fI(t,n,i){if(!t)throw new Error(`Cannot find '${i}' in '${n}'`);return t}const US=function(t){return null},HS=oI(null,"core",[{provide:qE,useValue:"unknown"},{provide:cI,deps:[Vi]},{provide:tI,deps:[]},{provide:KE,deps:[]}]),YS=[{provide:Wp,useClass:Wp,deps:[Ga,Vi,cl,Bh,Yh]},{provide:GD,deps:[Ga],useFactory:function(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}},{provide:Yh,useClass:Yh,deps:[[new ao,N_]]},{provide:zp,useClass:zp,deps:[]},JT,{provide:Ym,useFactory:function(){return Vw},deps:[]},{provide:Km,useFactory:function(){return $w},deps:[]},{provide:oy,useFactory:function(t){return e_(t=t||"undefined"!=typeof $localize&&$localize.locale||Um),t},deps:[[new ba(oy),new ao,new M]]},{provide:ZE,useValue:"USD"}];let ZS=(()=>{class t{constructor(i){}}return t.\u0275fac=function(i){return new(i||t)(mi(Wp))},t.\u0275mod=si({type:t}),t.\u0275inj=Zt({providers:YS}),t})()},841:(rn,et,H)=>{"use strict";H.d(et,{nm:()=>Rn});var _=H(4686),de=(H(639),H(127),H(2329),H(8239)),Te=H(8026),U=H(3910),pe=H(3854),Ee=H(5422);const Z=new Map,ne={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function se(Qe){return Z.get(Qe)||ne}function fe(Qe,L){Z.set(Qe,L)}function rt(){return ye}class ft{constructor(L,F,X,ue,Re){if(this.operation=L,this.retryPolicy=F,this.getWaitDuration=X,this.lowerBound=ue,this.upperBound=Re,this.pending=null,this.nextErrorWaitInterval=ue,ue>Re)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(L){var F=this;return(0,de.Z)(function*(){F.stop();try{F.pending=new pe.BH,yield(Qe=F.getNextRun(L),new Promise(L=>{setTimeout(L,Qe)})),F.pending.resolve(),yield F.pending.promise,F.pending=new pe.BH,yield F.operation(),F.pending.resolve(),yield F.pending.promise,F.process(!0).catch(()=>{})}catch(X){F.retryPolicy(X)?F.process(!1).catch(()=>{}):F.stop()}var Qe})()}getNextRun(L){if(L)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const F=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),F}}}const g=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xe(Qe){if(!se(Qe).activated)throw g.create("use-before-activation",{appName:Qe.name})}function ae(Qe,L){return oe.apply(this,arguments)}function oe(){return(oe=(0,de.Z)(function*({url:Qe,body:L},F){var X,ue;const Re={"Content-Type":"application/json"},xe=F.getImmediate({optional:!0});if(xe){const Nn=yield xe.getHeartbeatsHeader();Nn&&(Re["X-Firebase-Client"]=Nn)}const ut={method:"POST",body:JSON.stringify(L),headers:Re};let mt,bt;try{mt=yield fetch(Qe,ut)}catch(Nn){throw g.create("fetch-network-error",{originalErrorMessage:null===(X=Nn)||void 0===X?void 0:X.message})}if(200!==mt.status)throw g.create("fetch-status-error",{httpStatus:mt.status});try{bt=yield mt.json()}catch(Nn){throw g.create("fetch-parse-error",{originalErrorMessage:null===(ue=Nn)||void 0===ue?void 0:ue.message})}const Ut=bt.ttl.match(/^([\d.]+)(s)$/);if(!Ut||!Ut[2]||isNaN(Number(Ut[1])))throw g.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${bt.ttl}`});const hn=1e3*Number(Ut[1]),bn=Date.now();return{token:bt.token,expireTimeMillis:bn+hn,issuedAtTimeMillis:bn}})).apply(this,arguments)}function vt(Qe,L){const{projectId:F,appId:X,apiKey:ue}=Qe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${F}/apps/${X}:exchangeDebugToken?key=${ue}`,body:{debug_token:L}}}const Ge="firebase-app-check-store";let tt=null;function It(){return tt||(tt=new Promise((Qe,L)=>{var F;try{const X=indexedDB.open("firebase-app-check-database",1);X.onsuccess=ue=>{Qe(ue.target.result)},X.onerror=ue=>{var Re;L(g.create("storage-open",{originalErrorMessage:null===(Re=ue.target.error)||void 0===Re?void 0:Re.message}))},X.onupgradeneeded=ue=>{0===ue.oldVersion&&ue.target.result.createObjectStore(Ge,{keyPath:"compositeKey"})}}catch(X){L(g.create("storage-open",{originalErrorMessage:null===(F=X)||void 0===F?void 0:F.message}))}}),tt)}function Xt(){return(Xt=(0,de.Z)(function*(Qe,L){const X=(yield It()).transaction(Ge,"readwrite"),Re=X.objectStore(Ge).put({compositeKey:Qe,value:L});return new Promise((xe,ut)=>{Re.onsuccess=mt=>{xe()},X.onerror=mt=>{var bt;ut(g.create("storage-set",{originalErrorMessage:null===(bt=mt.target.error)||void 0===bt?void 0:bt.message}))}})})).apply(this,arguments)}const Yn=new Ee.Yd("@firebase/app-check");function Mn(Qe,L){return(0,pe.hl)()?function(Qe,L){return function(Qe,L){return Xt.apply(this,arguments)}(function(Qe){return`${Qe.options.appId}-${Qe.name}`}(Qe),L)}(Qe,L).catch(F=>{Yn.warn(`Failed to write token to IndexedDB. Error: ${F}`)}):Promise.resolve()}function jn(){return rt().enabled}function Yr(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,de.Z)(function*(){const Qe=rt();if(Qe.enabled&&Qe.token)return Qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ar={error:"UNKNOWN_ERROR"};function Fr(Qe){return pe.US.encodeString(JSON.stringify(Qe),!1)}function en(Qe){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,de.Z)(function*(Qe,L=!1){const F=Qe.app;Xe(F);const X=se(F);let Re,ue=X.token;if(ue&&!gn(ue)&&(fe(F,Object.assign(Object.assign({},X),{token:void 0})),ue=void 0),!ue){const mt=yield X.cachedTokenPromise;mt&&(gn(mt)?ue=mt:yield Mn(F,void 0))}if(!L&&ue&&gn(ue))return{token:ue.token};let ut,xe=!1;if(jn()){X.exchangeTokenPromise||(X.exchangeTokenPromise=ae(vt(F,yield Yr()),Qe.heartbeatServiceProvider).finally(()=>{X.exchangeTokenPromise=void 0}),xe=!0);const mt=yield X.exchangeTokenPromise;return yield Mn(F,mt),fe(F,Object.assign(Object.assign({},X),{token:mt})),{token:mt.token}}try{X.exchangeTokenPromise||(X.exchangeTokenPromise=X.provider.getToken().finally(()=>{X.exchangeTokenPromise=void 0}),xe=!0),ue=yield X.exchangeTokenPromise}catch(mt){"appCheck/throttled"===mt.code?Yn.warn(mt.message):Yn.error(mt),Re=mt}return ue?Re?ut=gn(ue)?{token:ue.token,internalError:Re}:lr(Re):(ut={token:ue.token},fe(F,Object.assign(Object.assign({},X),{token:ue})),yield Mn(F,ue)):ut=lr(Re),xe&&yt(F,ut),ut})).apply(this,arguments)}function Vt(Qe,L){const F=se(Qe),X=F.tokenObservers.filter(ue=>ue.next!==L);0===X.length&&F.tokenRefresher&&F.tokenRefresher.isRunning()&&F.tokenRefresher.stop(),fe(Qe,Object.assign(Object.assign({},F),{tokenObservers:X}))}function er(Qe){const{app:L}=Qe,F=se(L);let X=F.tokenRefresher;X||(X=function(Qe){const{app:L}=Qe;return new ft((0,de.Z)(function*(){let X;if(X=se(L).token?yield en(Qe,!0):yield en(Qe),X.error)throw X.error;if(X.internalError)throw X.internalError}),()=>!0,()=>{const F=se(L);if(F.token){let X=F.token.issuedAtTimeMillis+.5*(F.token.expireTimeMillis-F.token.issuedAtTimeMillis)+3e5;return X=Math.min(X,F.token.expireTimeMillis-3e5),Math.max(0,X-Date.now())}return 0},3e4,96e4)}(Qe),fe(L,Object.assign(Object.assign({},F),{tokenRefresher:X}))),!X.isRunning()&&F.isTokenAutoRefreshEnabled&&X.start()}function yt(Qe,L){const F=se(Qe).tokenObservers;for(const X of F)try{"EXTERNAL"===X.type&&null!=L.error?X.error(L.error):X.next(L)}catch(ue){}}function gn(Qe){return Qe.expireTimeMillis-Date.now()>0}function lr(Qe){return{token:Fr(ar),error:Qe}}class jr{constructor(L,F){this.app=L,this.heartbeatServiceProvider=F}_delete(){const{tokenObservers:L}=se(this.app);for(const F of L)Vt(this.app,F.next);return Promise.resolve()}}const dr="app-check-internal";(0,Te.Xd)(new U.wA("app-check",Qe=>function(Qe,L){return new jr(Qe,L)}(Qe.getProvider("app").getImmediate(),Qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Qe,L,F)=>{Qe.getProvider(dr).initialize()})),(0,Te.Xd)(new U.wA(dr,Qe=>function(Qe){return{getToken:L=>en(Qe,L),addTokenListener:L=>function(Qe,L,F,X){const{app:ue}=Qe,Re=se(ue),xe={next:F,error:X,type:L};if(fe(ue,Object.assign(Object.assign({},Re),{tokenObservers:[...Re.tokenObservers,xe]})),Re.token&&gn(Re.token)){const ut=Re.token;Promise.resolve().then(()=>{F({token:ut.token}),er(Qe)}).catch(()=>{})}Re.cachedTokenPromise.then(()=>er(Qe))}(Qe,"INTERNAL",L),removeTokenListener:L=>Vt(Qe.app,L)}}(Qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Te.KN)("@firebase/app-check","0.5.16");class Rn{constructor(){return(0,_.vb)("app-check")}}"undefined"!=typeof window&&window},127:(rn,et,H)=>{"use strict";H.d(et,{Ot:()=>Ue,z6:()=>de,Mq:()=>rt,ZF:()=>Ze,hX:()=>se});var _=H(2329),R=H(639),De=H(4686);class Ue{constructor(ft){return ft}}class de{constructor(){return(0,_.C6)()}}const pe=new R.OlP("angularfire2._apps"),Ee={provide:Ue,useFactory:function(qe){return qe&&1===qe.length?qe[0]:new Ue((0,_.Mq)())},deps:[[new R.FiY,pe]]},Z={provide:de,deps:[[new R.FiY,pe]]};function ne(qe){return(ft,_t)=>{const xt=ft.runOutsideAngular(()=>qe(_t));return new Ue(xt)}}let ye=(()=>{class qe{constructor(_t){(0,_.KN)("angularfire",De.q4.full,"core"),(0,_.KN)("angularfire",De.q4.full,"app"),(0,_.KN)("angular",R.q4F.full,_t.toString())}}return qe.\u0275fac=function(_t){return new(_t||qe)(R.LFG(R.Lbi))},qe.\u0275mod=R.oAB({type:qe}),qe.\u0275inj=R.cJS({providers:[Ee,Z]}),qe})();function se(qe,...ft){return{ngModule:ye,providers:[{provide:pe,useFactory:ne(qe),multi:!0,deps:[R.R0b,R.zs3,De.HU,...ft]}]}}const rt=(0,De.u3)(_.Mq,!0),Ze=(0,De.u3)(_.ZF,!0)},196:(rn,et,H)=>{"use strict";H.d(et,{gx:()=>ye,dh:()=>se,Xb:()=>ae,uJ:()=>tt,AR:()=>qe,e5:()=>Fr,w7:()=>er,EA:()=>_t});var _=H(4686),R=H(639),De=H(127),Ue=H(2329),de=H(841),Te=H(1952),U=H(8891);function Ee(Gt){return new U.y(function(it){return{unsubscribe:(0,Te.MX)(Gt,it.next.bind(it),it.error.bind(it),it.complete.bind(it))}})}class ye{constructor(it){return it}}class se{constructor(){return(0,_.vb)("auth")}}const rt=new R.OlP("angularfire2.auth-instances");function Ze(Gt){return(it,$t)=>{const Ot=it.runOutsideAngular(()=>Gt($t));return new ye(Ot)}}const $e={provide:se,deps:[[new R.FiY,rt]]},ht={provide:ye,useFactory:function(Gt,it){const $t=(0,_.JM)("auth",Gt,it);return $t&&new ye($t)},deps:[[new R.FiY,rt],De.Ot]};let Le=(()=>{class Gt{constructor(){(0,Ue.KN)("angularfire",_.q4.full,"auth")}}return Gt.\u0275fac=function($t){return new($t||Gt)},Gt.\u0275mod=R.oAB({type:Gt}),Gt.\u0275inj=R.cJS({providers:[ht,$e]}),Gt})();function qe(Gt,...it){return{ngModule:Le,providers:[{provide:rt,useFactory:Ze(Gt),multi:!0,deps:[R.R0b,R.zs3,_.HU,De.z6,[new R.FiY,de.nm],...it]}]}}const _t=(0,_.u3)(Ee,!0),ae=(0,_.u3)(Te.Xb,!0),tt=(0,_.u3)(Te.uJ,!0),Fr=(0,_.u3)(Te.e5,!0),er=(0,_.u3)(Te.w7,!0)},1186:(rn,et,H)=>{"use strict";H.d(et,{gg:()=>be,BS:()=>Nt,JU:()=>Sn,_1:()=>On,ad:()=>jr,Xo:()=>Cn,Cm:()=>ze,IO:()=>tn,pl:()=>ot});var _=H(4686),R=H(639),De=H(196),Ue=H(127),de=H(2329),Te=H(841),U=H(2491),pe=H(8891),Ee=H(8002),Z={includeMetadataChanges:!1};function ne(qt,Qt){return void 0===Qt&&(Qt=Z),new pe.y(function(kn){return{unsubscribe:(0,U.cf)(qt,Qt,{next:kn.next.bind(kn),error:kn.error.bind(kn),complete:kn.complete.bind(kn)})}})}function se(qt,Qt){return void 0===Qt&&(Qt={}),function(qt){return ne(qt,{includeMetadataChanges:!0})}(qt).pipe((0,Ee.U)(function(kn){return fe(kn,Qt)}))}function fe(qt,Qt){void 0===Qt&&(Qt={});var kn=qt.data();return!qt.exists()||"object"!=typeof kn||null===kn||Qt.idField&&(kn[Qt.idField]=qt.id),kn}function Xe(qt,Qt){return void 0===Qt&&(Qt={}),function(qt){return ne(qt,{includeMetadataChanges:!0}).pipe((0,Ee.U)(function(Qt){return Qt.docs}))}(qt).pipe((0,Ee.U)(function(kn){return kn.map(function(dr){return fe(dr,Qt)})}))}class be{constructor(Qt){return Qt}}const Q="firestore",ve=new R.OlP("angularfire2.firestore-instances");function vt(qt){return(Qt,kn)=>{const dr=Qt.runOutsideAngular(()=>qt(kn));return new be(dr)}}const Oe={provide:class{constructor(){return(0,_.vb)(Q)}},deps:[[new R.FiY,ve]]},He={provide:be,useFactory:function(qt,Qt){const kn=(0,_.JM)(Q,qt,Qt);return kn&&new be(kn)},deps:[[new R.FiY,ve],Ue.Ot]};let Ge=(()=>{class qt{constructor(){(0,de.KN)("angularfire",_.q4.full,"fst")}}return qt.\u0275fac=function(kn){return new(kn||qt)},qt.\u0275mod=R.oAB({type:qt}),qt.\u0275inj=R.cJS({providers:[He,Oe]}),qt})();function ze(qt,...Qt){return{ngModule:Ge,providers:[{provide:ve,useFactory:vt(qt),multi:!0,deps:[R.R0b,R.zs3,_.HU,Ue.z6,[new R.FiY,De.dh],[new R.FiY,Te.nm],...Qt]}]}}const Nt=(0,_.u3)(Xe,!0),On=(0,_.u3)(se,!0),Sn=(0,_.u3)(U.JU,!0),jr=(0,_.u3)(U.ad,!0),Cn=(0,_.u3)(U.Xo,!0),tn=(0,_.u3)(U.IO,!0),ot=(0,_.u3)(U.pl,!0)},4686:(rn,et,H)=>{"use strict";H.d(et,{q4:()=>Xa,HU:()=>Bl,vb:()=>wc,JM:()=>wu,u3:()=>ao});var _=H(639),R=H(2329),De=H(8239),Ue=H(8026),de=H(3854),Te=H(3910),U=H(5422),pe=H(2268);const Ee="@firebase/installations",Z="0.5.16",ye=`w:${Z}`,se="FIS_v2",ht=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(P){return P instanceof de.ZR&&P.code.includes("request-failed")}function qe({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function ft(P){return{token:P.token,requestStatus:2,expiresIn:Q(P.expiresIn),creationTime:Date.now()}}function _t(P,M){return xt.apply(this,arguments)}function xt(){return(xt=(0,De.Z)(function*(P,M){const he=(yield M.json()).error;return ht.create("request-failed",{requestName:P,serverCode:he.code,serverMessage:he.message,serverStatus:he.status})})).apply(this,arguments)}function g({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function Ce(P,{refreshToken:M}){const W=g(P);return W.append("Authorization",function(P){return`${se} ${P}`}(M)),W}function Xe(P){return be.apply(this,arguments)}function be(){return(be=(0,De.Z)(function*(P){const M=yield P();return M.status>=500&&M.status<600?P():M})).apply(this,arguments)}function Q(P){return Number(P.replace("s","000"))}function oe(P,M){return ve.apply(this,arguments)}function ve(){return(ve=(0,De.Z)(function*({appConfig:P,heartbeatServiceProvider:M},{fid:W}){const he=qe(P),We=g(P),dt=M.getImmediate({optional:!0});if(dt){const vr=yield dt.getHeartbeatsHeader();vr&&We.append("x-firebase-client",vr)}const vn={method:"POST",headers:We,body:JSON.stringify({fid:W,authVersion:se,appId:P.appId,sdkVersion:ye})},rr=yield Xe(()=>fetch(he,vn));if(rr.ok){const vr=yield rr.json();return{fid:vr.fid||W,registrationStatus:2,refreshToken:vr.refreshToken,authToken:ft(vr.authToken)}}throw yield _t("Create Installation",rr)})).apply(this,arguments)}function je(P){return new Promise(M=>{setTimeout(M,P)})}const Oe=/^[cdef][\w-]{21}$/;function Ge(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const W=function(P){return function(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Oe.test(W)?W:""}catch(P){return""}}function tt(P){return`${P.appName}!${P.appId}`}const It=new Map;function Ft(P,M){const W=tt(P);$n(W,M),function(P,M){const W=(!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=P=>{$n(P.data.key,P.data.fid)}),Xt);W&&W.postMessage({key:P,fid:M}),0===It.size&&Xt&&(Xt.close(),Xt=null)}(W,M)}function $n(P,M){const W=It.get(P);if(W)for(const he of W)he(M)}let Xt=null;const gt="firebase-installations-store";let Zt=null;function Mn(){return Zt||(Zt=(0,pe.X3)("firebase-installations-database",1,{upgrade:(P,M)=>{0===M&&P.createObjectStore(gt)}})),Zt}function Hn(P,M){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,De.Z)(function*(P,M){const W=tt(P),We=(yield Mn()).transaction(gt,"readwrite"),dt=We.objectStore(gt),Wt=yield dt.get(W);return yield dt.put(M,W),yield We.done,(!Wt||Wt.fid!==M.fid)&&Ft(P,M.fid),M})).apply(this,arguments)}function jn(P){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,De.Z)(function*(P){const M=tt(P),he=(yield Mn()).transaction(gt,"readwrite");yield he.objectStore(gt).delete(M),yield he.done})).apply(this,arguments)}function Sn(P,M){return fr.apply(this,arguments)}function fr(){return(fr=(0,De.Z)(function*(P,M){const W=tt(P),We=(yield Mn()).transaction(gt,"readwrite"),dt=We.objectStore(gt),Wt=yield dt.get(W),vn=M(Wt);return void 0===vn?yield dt.delete(W):yield dt.put(vn,W),yield We.done,vn&&(!Wt||Wt.fid!==vn.fid)&&Ft(P,vn.fid),vn})).apply(this,arguments)}function ar(P){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,De.Z)(function*(P){let M;const W=yield Sn(P.appConfig,he=>{const We=en(he),dt=Ln(P,We);return M=dt.registrationPromise,dt.installationEntry});return""===W.fid?{installationEntry:yield M}:{installationEntry:W,registrationPromise:M}})).apply(this,arguments)}function en(P){return gn(P||{fid:Ge(),registrationStatus:0})}function Ln(P,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(ht.create("app-offline"))};const W={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},he=function(P,M){return Vt.apply(this,arguments)}(P,W);return{installationEntry:W,registrationPromise:he}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:er(P)}:{installationEntry:M}}function Vt(){return(Vt=(0,De.Z)(function*(P,M){try{const W=yield oe(P,M);return Hn(P.appConfig,W)}catch(W){throw Le(W)&&409===W.customData.serverCode?yield jn(P.appConfig):yield Hn(P.appConfig,{fid:M.fid,registrationStatus:0}),W}})).apply(this,arguments)}function er(P){return yr.apply(this,arguments)}function yr(){return(yr=(0,De.Z)(function*(P){let M=yield yt(P.appConfig);for(;1===M.registrationStatus;)yield je(100),M=yield yt(P.appConfig);if(0===M.registrationStatus){const{installationEntry:W,registrationPromise:he}=yield ar(P);return he||W}return M})).apply(this,arguments)}function yt(P){return Sn(P,M=>{if(!M)throw ht.create("installation-not-found");return gn(M)})}function gn(P){return function(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function jr(P,M){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,De.Z)(function*({appConfig:P,heartbeatServiceProvider:M},W){const he=Lr(P,W),We=Ce(P,W),dt=M.getImmediate({optional:!0});if(dt){const vr=yield dt.getHeartbeatsHeader();vr&&We.append("x-firebase-client",vr)}const vn={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:ye,appId:P.appId}})},rr=yield Xe(()=>fetch(he,vn));if(rr.ok)return ft(yield rr.json());throw yield _t("Generate Auth Token",rr)})).apply(this,arguments)}function Lr(P,{fid:M}){return`${qe(P)}/${M}/authTokens:generate`}function Bn(P){return ui.apply(this,arguments)}function ui(){return(ui=(0,De.Z)(function*(P,M=!1){let W;const he=yield Sn(P.appConfig,dt=>{if(!tn(dt))throw ht.create("not-registered");const Wt=dt.authToken;if(!M&&Se(Wt))return dt;if(1===Wt.requestStatus)return W=Gt(P,M),dt;{if(!navigator.onLine)throw ht.create("app-offline");const vn=Be(dt);return W=Ot(P,vn),vn}});return W?yield W:he.authToken})).apply(this,arguments)}function Gt(P,M){return it.apply(this,arguments)}function it(){return(it=(0,De.Z)(function*(P,M){let W=yield $t(P.appConfig);for(;1===W.authToken.requestStatus;)yield je(100),W=yield $t(P.appConfig);const he=W.authToken;return 0===he.requestStatus?Bn(P,M):he})).apply(this,arguments)}function $t(P){return Sn(P,M=>{if(!tn(M))throw ht.create("not-registered");return function(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Ot(P,M){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,De.Z)(function*(P,M){try{const W=yield jr(P,M),he=Object.assign(Object.assign({},M),{authToken:W});return yield Hn(P.appConfig,he),W}catch(W){if(!Le(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const he=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield Hn(P.appConfig,he)}else yield jn(P.appConfig);throw W}})).apply(this,arguments)}function tn(P){return void 0!==P&&2===P.registrationStatus}function Se(P){return 2===P.requestStatus&&!function(P){const M=Date.now();return M<P.creationTime||P.creationTime+P.expiresIn<M+36e5}(P)}function Be(P){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:M})}function Jt(){return(Jt=(0,De.Z)(function*(P){const M=P,{installationEntry:W,registrationPromise:he}=yield ar(M);return he?he.catch(console.error):Bn(M).catch(console.error),W.fid})).apply(this,arguments)}function cr(){return(cr=(0,De.Z)(function*(P,M=!1){const W=P;return yield _r(W),(yield Bn(W,M)).token})).apply(this,arguments)}function _r(P){return ir.apply(this,arguments)}function ir(){return(ir=(0,De.Z)(function*(P){const{registrationPromise:M}=yield ar(P);M&&(yield M)})).apply(this,arguments)}function mr(P){return ht.create("missing-app-config-values",{valueName:P})}const Dr="installations";(0,Ue.Xd)(new Te.wA(Dr,P=>{const M=P.getProvider("app").getImmediate(),W=function(P){if(!P||!P.options)throw mr("App Configuration");if(!P.name)throw mr("App Name");const M=["projectId","apiKey","appId"];for(const W of M)if(!P.options[W])throw mr(W);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(M);return{app:M,appConfig:W,heartbeatServiceProvider:(0,Ue.qX)(M,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,Ue.Xd)(new Te.wA("installations-internal",P=>{const M=P.getProvider("app").getImmediate(),W=(0,Ue.qX)(M,Dr).getImmediate();return{getId:()=>function(P){return Jt.apply(this,arguments)}(W),getToken:We=>function(P){return cr.apply(this,arguments)}(W,We)}},"PRIVATE")),(0,Ue.KN)(Ee,Z),(0,Ue.KN)(Ee,Z,"esm2017");const Yt="@firebase/remote-config",Zn=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bn{constructor(M,W,he,We){this.client=M,this.storage=W,this.storageCache=he,this.logger=We}isCachedDataFresh(M,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const he=Date.now()-W,We=he<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${he}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${We}.`),We}fetch(M){var W=this;return(0,De.Z)(function*(){const[he,We]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(We&&W.isCachedDataFresh(M.cacheMaxAgeMillis,he))return We;M.eTag=We&&We.eTag;const dt=yield W.client.fetch(M),Wt=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&Wt.push(W.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all(Wt),dt})()}}function Nn(P=navigator){return P.languages&&P.languages[0]||P.language}class Fn{constructor(M,W,he,We,dt,Wt){this.firebaseInstallations=M,this.sdkVersion=W,this.namespace=he,this.projectId=We,this.apiKey=dt,this.appId=Wt}fetch(M){var W=this;return(0,De.Z)(function*(){var he,We,dt;const[Wt,vn]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),vr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,Sr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},sr={sdk_version:W.sdkVersion,app_instance_id:Wt,app_instance_id_token:vn,app_id:W.appId,language_code:Nn()},cs={method:"POST",headers:Sr,body:JSON.stringify(sr)},us=fetch(vr,cs),Kc=new Promise((Ls,Co)=>{M.signal.addEventListener(()=>{const Ea=new Error("The operation was aborted.");Ea.name="AbortError",Co(Ea)})});let ec;try{yield Promise.race([us,Kc]),ec=yield us}catch(Ls){let Co="fetch-client-network";throw"AbortError"===(null===(he=Ls)||void 0===he?void 0:he.name)&&(Co="fetch-timeout"),Zn.create(Co,{originalErrorMessage:null===(We=Ls)||void 0===We?void 0:We.message})}let Na=ec.status;const tc=ec.headers.get("ETag")||void 0;let la,$o;if(200===ec.status){let Ls;try{Ls=yield ec.json()}catch(Co){throw Zn.create("fetch-client-parse",{originalErrorMessage:null===(dt=Co)||void 0===dt?void 0:dt.message})}la=Ls.entries,$o=Ls.state}if("INSTANCE_STATE_UNSPECIFIED"===$o?Na=500:"NO_CHANGE"===$o?Na=304:("NO_TEMPLATE"===$o||"EMPTY_CONFIG"===$o)&&(la={}),304!==Na&&200!==Na)throw Zn.create("fetch-status",{httpStatus:Na});return{status:Na,eTag:tc,config:la}})()}}class Gr{constructor(M,W){this.client=M,this.storage=W}fetch(M){var W=this;return(0,De.Z)(function*(){const he=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(M,he)})()}attemptFetch(M,{throttleEndTimeMillis:W,backoffCount:he}){var We=this;return(0,De.Z)(function*(){yield function(P,M){return new Promise((W,he)=>{const We=Math.max(M-Date.now(),0),dt=setTimeout(W,We);P.addEventListener(()=>{clearTimeout(dt),he(Zn.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,W);try{const dt=yield We.client.fetch(M);return yield We.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function(P){if(!(P instanceof de.ZR&&P.customData))return!1;const M=Number(P.customData.httpStatus);return 429===M||500===M||503===M||504===M}(dt))throw dt;const Wt={throttleEndTimeMillis:Date.now()+(0,de.$s)(he),backoffCount:he+1};return yield We.storage.setThrottleMetadata(Wt),We.attemptFetch(M,Wt)}})()}}class Kr{constructor(M,W,he,We,dt){this.app=M,this._client=W,this._storageCache=he,this._storage=We,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ni(P,M){var W;const he=P.target.error||void 0;return Zn.create(M,{originalErrorMessage:he&&(null===(W=he)||void 0===W?void 0:W.message)})}const _i="app_namespace_store";class Is{constructor(M,W,he,We=function(){return new Promise((P,M)=>{var W;try{const he=indexedDB.open("firebase_remote_config",1);he.onerror=We=>{M(ni(We,"storage-open"))},he.onsuccess=We=>{P(We.target.result)},he.onupgradeneeded=We=>{0===We.oldVersion&&We.target.result.createObjectStore(_i,{keyPath:"compositeKey"})}}catch(he){M(Zn.create("storage-open",{originalErrorMessage:null===(W=he)||void 0===W?void 0:W.message}))}})}()){this.appId=M,this.appName=W,this.namespace=he,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var W=this;return(0,De.Z)(function*(){const he=yield W.openDbPromise;return new Promise((We,dt)=>{var Wt;const rr=he.transaction([_i],"readonly").objectStore(_i),vr=W.createCompositeKey(M);try{const Sr=rr.get(vr);Sr.onerror=sr=>{dt(ni(sr,"storage-get"))},Sr.onsuccess=sr=>{const cs=sr.target.result;We(cs?cs.value:void 0)}}catch(Sr){dt(Zn.create("storage-get",{originalErrorMessage:null===(Wt=Sr)||void 0===Wt?void 0:Wt.message}))}})})()}set(M,W){var he=this;return(0,De.Z)(function*(){const We=yield he.openDbPromise;return new Promise((dt,Wt)=>{var vn;const vr=We.transaction([_i],"readwrite").objectStore(_i),Sr=he.createCompositeKey(M);try{const sr=vr.put({compositeKey:Sr,value:W});sr.onerror=cs=>{Wt(ni(cs,"storage-set"))},sr.onsuccess=()=>{dt()}}catch(sr){Wt(Zn.create("storage-set",{originalErrorMessage:null===(vn=sr)||void 0===vn?void 0:vn.message}))}})})()}delete(M){var W=this;return(0,De.Z)(function*(){const he=yield W.openDbPromise;return new Promise((We,dt)=>{var Wt;const rr=he.transaction([_i],"readwrite").objectStore(_i),vr=W.createCompositeKey(M);try{const Sr=rr.delete(vr);Sr.onerror=sr=>{dt(ni(sr,"storage-delete"))},Sr.onsuccess=()=>{We()}}catch(Sr){dt(Zn.create("storage-delete",{originalErrorMessage:null===(Wt=Sr)||void 0===Wt?void 0:Wt.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Cs{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,De.Z)(function*(){const W=M.storage.getLastFetchStatus(),he=M.storage.getLastSuccessfulFetchTimestampMillis(),We=M.storage.getActiveConfig(),dt=yield W;dt&&(M.lastFetchStatus=dt);const Wt=yield he;Wt&&(M.lastSuccessfulFetchTimestampMillis=Wt);const vn=yield We;vn&&(M.activeConfig=vn)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Fe(){return _e.apply(this,arguments)}function _e(){return(_e=(0,De.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(P){return!1}})).apply(this,arguments)}(0,Ue.Xd)(new Te.wA("remote-config",function(M,{instanceIdentifier:W}){const he=M.getProvider("app").getImmediate(),We=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Zn.create("registration-window");if(!(0,de.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:dt,apiKey:Wt,appId:vn}=he.options;if(!dt)throw Zn.create("registration-project-id");if(!Wt)throw Zn.create("registration-api-key");if(!vn)throw Zn.create("registration-app-id");const rr=new Is(vn,he.name,W=W||"firebase"),vr=new Cs(rr),Sr=new U.Yd(Yt);Sr.logLevel=U.in.ERROR;const sr=new Fn(We,Ue.Jn,W,dt,Wt,vn),cs=new Gr(sr,rr),us=new bn(cs,rr,vr,Sr),Kc=new Kr(he,us,vr,rr,Sr);return function(P){const M=(0,de.m9)(P);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Kc),Kc},"PUBLIC").setMultipleInstances(!0)),(0,Ue.KN)(Yt,"0.3.15"),(0,Ue.KN)(Yt,"0.3.15","esm2017");const st="/firebase-messaging-sw.js",Ct="/firebase-cloud-messaging-push-scope",An="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Or="google.c.a.c_id",Ti="google.c.a.c_l",es="google.c.a.ts",ji="google.c.a.e";var Bs=(()=>{return(P=Bs||(Bs={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Bs;var P})();function Mi(P){const M=new Uint8Array(P);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function go(P){const W=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),he=atob(W),We=new Uint8Array(he.length);for(let dt=0;dt<he.length;++dt)We[dt]=he.charCodeAt(dt);return We}const bi="fcm_token_details_db",Ts="fcm_token_object_Store";function Qs(P){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,De.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(bi))return null;let M=null;return(yield(0,pe.X3)(bi,5,{upgrade:(he=(0,De.Z)(function*(We,dt,Wt,vn){var rr;if(dt<2||!We.objectStoreNames.contains(Ts))return;const vr=vn.objectStore(Ts),Sr=yield vr.index("fcmSenderId").get(P);if(yield vr.clear(),Sr)if(2===dt){const sr=Sr;if(!sr.auth||!sr.p256dh||!sr.endpoint)return;M={token:sr.fcmToken,createTime:null!==(rr=sr.createTime)&&void 0!==rr?rr:Date.now(),subscriptionOptions:{auth:sr.auth,p256dh:sr.p256dh,endpoint:sr.endpoint,swScope:sr.swScope,vapidKey:"string"==typeof sr.vapidKey?sr.vapidKey:Mi(sr.vapidKey)}}}else if(3===dt){const sr=Sr;M={token:sr.fcmToken,createTime:sr.createTime,subscriptionOptions:{auth:Mi(sr.auth),p256dh:Mi(sr.p256dh),endpoint:sr.endpoint,swScope:sr.swScope,vapidKey:Mi(sr.vapidKey)}}}else if(4===dt){const sr=Sr;M={token:sr.fcmToken,createTime:sr.createTime,subscriptionOptions:{auth:Mi(sr.auth),p256dh:Mi(sr.p256dh),endpoint:sr.endpoint,swScope:sr.swScope,vapidKey:Mi(sr.vapidKey)}}}}),function(dt,Wt,vn,rr){return he.apply(this,arguments)})})).close(),yield(0,pe.Lj)(bi),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Ro(M)?M:null;var he}),Hi.apply(this,arguments)}function Ro(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:M}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const ts="firebase-messaging-store";let As=null;function j(){return As||(As=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(P,M)=>{0===M&&P.createObjectStore(ts)}})),As}function ee(P){return B.apply(this,arguments)}function B(){return(B=(0,De.Z)(function*(P){const M=V(P),he=yield(yield j()).transaction(ts).objectStore(ts).get(M);if(he)return he;{const We=yield Qs(P.appConfig.senderId);if(We)return yield ce(P,We),We}})).apply(this,arguments)}function ce(P,M){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,De.Z)(function*(P,M){const W=V(P),We=(yield j()).transaction(ts,"readwrite");return yield We.objectStore(ts).put(M,W),yield We.done,M})).apply(this,arguments)}function Dt(P){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,De.Z)(function*(P){const M=V(P),he=(yield j()).transaction(ts,"readwrite");yield he.objectStore(ts).delete(M),yield he.done})).apply(this,arguments)}function V({appConfig:P}){return P.appId}const x=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function J(P,M){return nt.apply(this,arguments)}function nt(){return(nt=(0,De.Z)(function*(P,M){var W;const he=yield ur(P),We=ns(M),dt={method:"POST",headers:he,body:JSON.stringify(We)};let Wt;try{Wt=yield(yield fetch(Rr(P.appConfig),dt)).json()}catch(vn){throw x.create("token-subscribe-failed",{errorInfo:null===(W=vn)||void 0===W?void 0:W.toString()})}if(Wt.error)throw x.create("token-subscribe-failed",{errorInfo:Wt.error.message});if(!Wt.token)throw x.create("token-subscribe-no-token");return Wt.token})).apply(this,arguments)}function Kt(P,M){return zn.apply(this,arguments)}function zn(){return(zn=(0,De.Z)(function*(P,M){var W;const he=yield ur(P),We=ns(M.subscriptionOptions),dt={method:"PATCH",headers:he,body:JSON.stringify(We)};let Wt;try{Wt=yield(yield fetch(`${Rr(P.appConfig)}/${M.token}`,dt)).json()}catch(vn){throw x.create("token-update-failed",{errorInfo:null===(W=vn)||void 0===W?void 0:W.toString()})}if(Wt.error)throw x.create("token-update-failed",{errorInfo:Wt.error.message});if(!Wt.token)throw x.create("token-update-no-token");return Wt.token})).apply(this,arguments)}function Zr(P,M){return li.apply(this,arguments)}function li(){return(li=(0,De.Z)(function*(P,M){var W;const We={method:"DELETE",headers:yield ur(P)};try{const Wt=yield(yield fetch(`${Rr(P.appConfig)}/${M}`,We)).json();if(Wt.error)throw x.create("token-unsubscribe-failed",{errorInfo:Wt.error.message})}catch(dt){throw x.create("token-unsubscribe-failed",{errorInfo:null===(W=dt)||void 0===W?void 0:W.toString()})}})).apply(this,arguments)}function Rr({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function ur(P){return ki.apply(this,arguments)}function ki(){return(ki=(0,De.Z)(function*({appConfig:P,installations:M}){const W=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function ns({p256dh:P,auth:M,endpoint:W,vapidKey:he}){const We={web:{endpoint:W,auth:M,p256dh:P}};return he!==An&&(We.web.applicationPubKey=he),We}const Ei=6048e5;function Po(P){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,De.Z)(function*(P){const M=yield ta(P.swRegistration,P.vapidKey),W={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:M.endpoint,auth:Mi(M.getKey("auth")),p256dh:Mi(M.getKey("p256dh"))},he=yield ee(P.firebaseDependencies);if(he){if(ko(he.subscriptionOptions,W))return Date.now()>=he.createTime+Ei?js(P,{token:he.token,createTime:Date.now(),subscriptionOptions:W}):he.token;try{yield Zr(P.firebaseDependencies,he.token)}catch(We){console.warn(We)}return Un(P.firebaseDependencies,W)}return Un(P.firebaseDependencies,W)})).apply(this,arguments)}function Aa(P){return fs.apply(this,arguments)}function fs(){return(fs=(0,De.Z)(function*(P){const M=yield ee(P.firebaseDependencies);M&&(yield Zr(P.firebaseDependencies,M.token),yield Dt(P.firebaseDependencies));const W=yield P.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function js(P,M){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,De.Z)(function*(P,M){try{const W=yield Kt(P.firebaseDependencies,M),he=Object.assign(Object.assign({},M),{token:W,createTime:Date.now()});return yield ce(P.firebaseDependencies,he),W}catch(W){throw yield Aa(P),W}})).apply(this,arguments)}function Un(P,M){return xs.apply(this,arguments)}function xs(){return(xs=(0,De.Z)(function*(P,M){const he={token:yield J(P,M),createTime:Date.now(),subscriptionOptions:M};return yield ce(P,he),he.token})).apply(this,arguments)}function ta(P,M){return Js.apply(this,arguments)}function Js(){return(Js=(0,De.Z)(function*(P,M){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:go(M)})})).apply(this,arguments)}function ko(P,M){return M.vapidKey===P.vapidKey&&M.endpoint===P.endpoint&&M.auth===P.auth&&M.p256dh===P.p256dh}function jo(P){const M={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function(P,M){if(!M.notification)return;P.notification={};const W=M.notification.title;W&&(P.notification.title=W);const he=M.notification.body;he&&(P.notification.body=he);const We=M.notification.image;We&&(P.notification.image=We);const dt=M.notification.icon;dt&&(P.notification.icon=dt)}(M,P),function(P,M){!M.data||(P.data=M.data)}(M,P),function(P,M){var W,he,We,dt,Wt;if(!M.fcmOptions&&!(null===(W=M.notification)||void 0===W?void 0:W.click_action))return;P.fcmOptions={};const vn=null!==(We=null===(he=M.fcmOptions)||void 0===he?void 0:he.link)&&void 0!==We?We:null===(dt=M.notification)||void 0===dt?void 0:dt.click_action;vn&&(P.fcmOptions.link=vn);const rr=null===(Wt=M.fcmOptions)||void 0===Wt?void 0:Wt.analytics_label;rr&&(P.fcmOptions.analyticsLabel=rr)}(M,P),M}function kr(P){return"object"==typeof P&&!!P&&Or in P}function yo(P,M){const W=[];for(let he=0;he<P.length;he++)W.push(P.charAt(he)),he<M.length&&W.push(M.charAt(he));return W.join("")}function Rs(P){return x.create("missing-app-config-values",{valueName:P})}yo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ps{constructor(M,W,he){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function(P){if(!P||!P.options)throw Rs("App Configuration Object");if(!P.name)throw Rs("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:W}=P;for(const he of M)if(!W[he])throw Rs(he);return{appName:P.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:We,installations:W,analyticsProvider:he}}_delete(){return Promise.resolve()}}function Gi(P){return vo.apply(this,arguments)}function vo(){return(vo=(0,De.Z)(function*(P){var M;try{P.swRegistration=yield navigator.serviceWorker.register(st,{scope:Ct}),P.swRegistration.update().catch(()=>{})}catch(W){throw x.create("failed-service-worker-registration",{browserErrorMessage:null===(M=W)||void 0===M?void 0:M.message})}})).apply(this,arguments)}function Hs(P,M){return na.apply(this,arguments)}function na(){return(na=(0,De.Z)(function*(P,M){if(!M&&!P.swRegistration&&(yield Gi(P)),M||!P.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw x.create("invalid-sw-registration");P.swRegistration=M}})).apply(this,arguments)}function eo(P,M){return zi.apply(this,arguments)}function zi(){return(zi=(0,De.Z)(function*(P,M){M?P.vapidKey=M:P.vapidKey||(P.vapidKey=An)})).apply(this,arguments)}function Nr(){return(Nr=(0,De.Z)(function*(P,M){if(!navigator)throw x.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw x.create("permission-blocked");return yield eo(P,null==M?void 0:M.vapidKey),yield Hs(P,null==M?void 0:M.serviceWorkerRegistration),Po(P)})).apply(this,arguments)}function Ni(P,M,W){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,De.Z)(function*(P,M,W){const he=rs(M);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(he,{message_id:W[Or],message_name:W[Ti],message_time:W[es],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rs(P){switch(P){case Bs.NOTIFICATION_CLICKED:return"notification_open";case Bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ho(){return(Ho=(0,De.Z)(function*(P,M){const W=M.data;if(!W.isFirebaseMessaging)return;P.onMessageHandler&&W.messageType===Bs.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(jo(W)):P.onMessageHandler.next(jo(W)));const he=W.data;kr(he)&&"1"===he[ji]&&(yield Ni(P,W.messageType,he))})).apply(this,arguments)}const pi="@firebase/messaging";function Gs(){return Go.apply(this,arguments)}function Go(){return(Go=(0,De.Z)(function*(){try{yield(0,de.eu)()}catch(P){return!1}return"undefined"!=typeof window&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,Ue.Xd)(new Te.wA("messaging",P=>{const M=new Ps(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function(P,M){return Ho.apply(this,arguments)}(M,W)),M},"PUBLIC")),(0,Ue.Xd)(new Te.wA("messaging-internal",P=>{const M=P.getProvider("messaging").getImmediate();return{getToken:he=>function(P,M){return Nr.apply(this,arguments)}(M,he)}},"PRIVATE")),(0,Ue.KN)(pi,"0.10.0"),(0,Ue.KN)(pi,"0.10.0","esm2017");const te="analytics",Ye="firebase_id",lt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",un="https://www.googletagmanager.com/gtag/js",Wn=new U.Yd("@firebase/analytics");function Qr(P){return Promise.all(P.map(M=>M.catch(W=>W)))}function ln(P,M){const W=document.createElement("script");W.src=`${un}?l=${P}&id=${M}`,W.async=!0,document.head.appendChild(W)}function zs(P,M,W,he,We,dt){return nn.apply(this,arguments)}function nn(){return(nn=(0,De.Z)(function*(P,M,W,he,We,dt){const Wt=he[We];try{if(Wt)yield M[Wt];else{const rr=(yield Qr(W)).find(vr=>vr.measurementId===We);rr&&(yield M[rr.appId])}}catch(vn){Wn.error(vn)}P("config",We,dt)})).apply(this,arguments)}function Et(P,M,W,he,We){return kt.apply(this,arguments)}function kt(){return(kt=(0,De.Z)(function*(P,M,W,he,We){try{let dt=[];if(We&&We.send_to){let Wt=We.send_to;Array.isArray(Wt)||(Wt=[Wt]);const vn=yield Qr(W);for(const rr of Wt){const vr=vn.find(sr=>sr.measurementId===rr),Sr=vr&&M[vr.appId];if(!Sr){dt=[];break}dt.push(Sr)}}0===dt.length&&(dt=Object.values(M)),yield Promise.all(dt),P("event",he,We||{})}catch(dt){Wn.error(dt)}})).apply(this,arguments)}function mu(P){const M=window.document.getElementsByTagName("script");for(const W of Object.values(M))if(W.src&&W.src.includes(un)&&W.src.includes(P))return W;return null}const Wi=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),za=new class{constructor(M={},W=1e3){this.throttleMetadata=M,this.intervalMillis=W}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,W){this.throttleMetadata[M]=W}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function jc(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function hc(P){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,De.Z)(function*(P){var M;const{appId:W,apiKey:he}=P,We={method:"GET",headers:jc(he)},dt=lt.replace("{app-id}",W),Wt=yield fetch(dt,We);if(200!==Wt.status&&304!==Wt.status){let vn="";try{const rr=yield Wt.json();(null===(M=rr.error)||void 0===M?void 0:M.message)&&(vn=rr.error.message)}catch(rr){}throw Wi.create("config-fetch-failed",{httpStatus:Wt.status,responseMessage:vn})}return Wt.json()})).apply(this,arguments)}function hr(P){return _o.apply(this,arguments)}function _o(){return(_o=(0,De.Z)(function*(P,M=za,W){const{appId:he,apiKey:We,measurementId:dt}=P.options;if(!he)throw Wi.create("no-app-id");if(!We){if(dt)return{measurementId:dt,appId:he};throw Wi.create("no-api-key")}const Wt=M.getThrottleMetadata(he)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vn=new zr;return setTimeout((0,De.Z)(function*(){vn.abort()}),void 0!==W?W:6e4),ga({appId:he,apiKey:We,measurementId:dt},Wt,vn,M)})).apply(this,arguments)}function ga(P,M,W){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,De.Z)(function*(P,{throttleEndTimeMillis:M,backoffCount:W},he,We=za){var dt,Wt;const{appId:vn,measurementId:rr}=P;try{yield Jn(he,M)}catch(vr){if(rr)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rr} provided in the "measurementId" field in the local Firebase config. [${null===(dt=vr)||void 0===dt?void 0:dt.message}]`),{appId:vn,measurementId:rr};throw vr}try{const vr=yield hc(P);return We.deleteThrottleMetadata(vn),vr}catch(vr){const Sr=vr;if(!ma(Sr)){if(We.deleteThrottleMetadata(vn),rr)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rr} provided in the "measurementId" field in the local Firebase config. [${null==Sr?void 0:Sr.message}]`),{appId:vn,measurementId:rr};throw vr}const sr=503===Number(null===(Wt=null==Sr?void 0:Sr.customData)||void 0===Wt?void 0:Wt.httpStatus)?(0,de.$s)(W,We.intervalMillis,30):(0,de.$s)(W,We.intervalMillis),cs={throttleEndTimeMillis:Date.now()+sr,backoffCount:W+1};return We.setThrottleMetadata(vn,cs),Wn.debug(`Calling attemptFetch again in ${sr} millis`),ga(P,cs,he,We)}})).apply(this,arguments)}function Jn(P,M){return new Promise((W,he)=>{const We=Math.max(M-Date.now(),0),dt=setTimeout(W,We);P.addEventListener(()=>{clearTimeout(dt),he(Wi.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function ma(P){if(!(P instanceof de.ZR&&P.customData))return!1;const M=Number(P.customData.httpStatus);return 429===M||500===M||503===M||504===M}class zr{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Fo,ya;function on(){return(on=(0,De.Z)(function*(P,M,W,he,We){if(We&&We.global)P("event",W,he);else{const dt=yield M;P("event",W,Object.assign(Object.assign({},he),{send_to:dt}))}})).apply(this,arguments)}function ss(P){ya=P}function Lo(P){Fo=P}function Ra(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,De.Z)(function*(){var P;if(!(0,de.hl)())return Wn.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(M){return Wn.warn(Wi.create("indexeddb-unavailable",{errorInfo:null===(P=M)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function Wo(){return(Wo=(0,De.Z)(function*(P,M,W,he,We,dt,Wt){var vn;const rr=hr(P);rr.then(us=>{W[us.measurementId]=us.appId,P.options.measurementId&&us.measurementId!==P.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${us.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(us=>Wn.error(us)),M.push(rr);const vr=Ra().then(us=>{if(us)return he.getId()}),[Sr,sr]=yield Promise.all([rr,vr]);mu(dt)||ln(dt,Sr.measurementId),ya&&(We("consent","default",ya),ss(void 0)),We("js",new Date);const cs=null!==(vn=null==Wt?void 0:Wt.config)&&void 0!==vn?vn:{};return cs.origin="firebase",cs.update=!0,null!=sr&&(cs[Ye]=sr),We("config",Sr.measurementId,cs),Fo&&(We("set",Fo),Lo(void 0)),Sr.measurementId})).apply(this,arguments)}class at{constructor(M){this.app=M}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}}let ks={},os=[];const Gc={};let C,E,Ws="dataLayer",k=!1;function Ae(P,M,W){!function(){const P=[];if((0,de.ru)()&&P.push("This is a browser extension environment."),(0,de.zI)()||P.push("Cookies are not available."),P.length>0){const M=P.map((he,We)=>`(${We+1}) ${he}`).join(" "),W=Wi.create("invalid-analytics-context",{errorInfo:M});Wn.warn(W.message)}}();const he=P.options.appId;if(!he)throw Wi.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw Wi.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ks[he])throw Wi.create("already-exists",{id:he});if(!k){!function(P){let M=[];Array.isArray(window[P])?M=window[P]:window[P]=M}(Ws);const{wrappedGtag:dt,gtagCore:Wt}=function(P,M,W,he,We){let dt=function(...Wt){window[he].push(arguments)};return window[We]&&"function"==typeof window[We]&&(dt=window[We]),window[We]=function(P,M,W,he){function dt(){return(dt=(0,De.Z)(function*(Wt,vn,rr){try{"event"===Wt?yield Et(P,M,W,vn,rr):"config"===Wt?yield zs(P,M,W,he,vn,rr):"consent"===Wt?P("consent","update",rr):P("set",vn)}catch(vr){Wn.error(vr)}})).apply(this,arguments)}return function(Wt,vn,rr){return dt.apply(this,arguments)}}(dt,P,M,W),{gtagCore:dt,wrappedGtag:window[We]}}(ks,os,Gc,Ws,"gtag");E=dt,C=Wt,k=!0}return ks[he]=function(P,M,W,he,We,dt,Wt){return Wo.apply(this,arguments)}(P,os,Gc,M,C,Ws,W),new at(P)}function fn(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,De.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(P){return!1}})).apply(this,arguments)}const Eo="@firebase/analytics";(0,Ue.Xd)(new Te.wA(te,(M,{options:W})=>Ae(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,Ue.Xd)(new Te.wA("analytics-internal",function(M){try{const W=M.getProvider(te).getImmediate();return{logEvent:(he,We,dt)=>function(P,M,W,he){P=(0,de.m9)(P),function(P,M,W,he,We){return on.apply(this,arguments)}(E,ks[P.app.options.appId],M,W,he).catch(We=>Wn.error(We))}(W,he,We,dt)}}catch(W){throw Wi.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,Ue.KN)(Eo,"0.8.4"),(0,Ue.KN)(Eo,"0.8.4","esm2017");var oa=H(5319);class Di extends oa.w{constructor(M,W){super()}schedule(M,W=0){return this}}class va extends Di{constructor(M,W){super(M,W),this.scheduler=M,this.work=W,this.pending=!1}schedule(M,W=0){if(this.closed)return this;this.state=M;const he=this.id,We=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(We,he,W)),this.pending=!0,this.delay=W,this.id=this.id||this.requestAsyncId(We,this.id,W),this}requestAsyncId(M,W,he=0){return setInterval(M.flush.bind(M,this),he)}recycleAsyncId(M,W,he=0){if(null!==he&&this.delay===he&&!1===this.pending)return W;clearInterval(W)}execute(M,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(M,W);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,W){let We,he=!1;try{this.work(M)}catch(dt){he=!0,We=!!dt&&dt||new Error(dt)}if(he)return this.unsubscribe(),We}_unsubscribe(){const M=this.id,W=this.scheduler,he=W.actions,We=he.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==We&&he.splice(We,1),null!=M&&(this.id=this.recycleAsyncId(W,M,null)),this.delay=null}}let vu=(()=>{class P{constructor(W,he=P.now){this.SchedulerAction=W,this.now=he}schedule(W,he=0,We){return new this.SchedulerAction(this,W).schedule(We,he)}}return P.now=()=>Date.now(),P})();class qs extends vu{constructor(M,W=vu.now){super(M,()=>qs.delegate&&qs.delegate!==this?qs.delegate.now():W()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(M,W=0,he){return qs.delegate&&qs.delegate!==this?qs.delegate.schedule(M,W,he):super.schedule(M,W,he)}flush(M){const{actions:W}=this;if(this.active)return void W.push(M);let he;this.active=!0;do{if(he=M.execute(M.state,M.delay))break}while(M=W.shift());if(this.active=!1,he){for(;M=W.shift();)M.unsubscribe();throw he}}}const aa=new class extends qs{}(class extends va{constructor(M,W){super(M,W),this.scheduler=M,this.work=W}schedule(M,W=0){return W>0?super.schedule(M,W):(this.delay=W,this.state=M,this.scheduler.flush(this),this)}execute(M,W){return W>0||this.closed?super.execute(M,W):this._execute(M,W)}requestAsyncId(M,W,he=0){return null!==he&&he>0||null===he&&this.delay>0?super.requestAsyncId(M,W,he):M.flush(this)}}),gc=new qs(va);var io=H(8891);let Li=1;const Yo=Promise.resolve(),ys={};function yc(P){return P in ys&&(delete ys[P],!0)}const ca={setImmediate(P){const M=Li++;return ys[M]=!0,Yo.then(()=>yc(M)&&P()),M},clearImmediate(P){yc(P)}},Ys=new class extends qs{flush(M){this.active=!0,this.scheduled=void 0;const{actions:W}=this;let he,We=-1,dt=W.length;M=M||W.shift();do{if(he=M.execute(M.state,M.delay))break}while(++We<dt&&(M=W.shift()));if(this.active=!1,he){for(;++We<dt&&(M=W.shift());)M.unsubscribe();throw he}}}(class extends va{constructor(M,W){super(M,W),this.scheduler=M,this.work=W}requestAsyncId(M,W,he=0){return null!==he&&he>0?super.requestAsyncId(M,W,he):(M.actions.push(this),M.scheduled||(M.scheduled=ca.setImmediate(M.flush.bind(M,null))))}recycleAsyncId(M,W,he=0){if(null!==he&&he>0||null===he&&this.delay>0)return super.recycleAsyncId(M,W,he);0===M.actions.length&&(ca.clearImmediate(W),M.scheduled=void 0)}});var _c=H(9796);class Wc extends io.y{constructor(M,W=0,he=Ys){var P;super(),this.source=M,this.delayTime=W,this.scheduler=he,(!(!(0,_c.k)(P=W)&&P-parseFloat(P)+1>=0)||W<0)&&(this.delayTime=0),(!he||"function"!=typeof he.schedule)&&(this.scheduler=Ys)}static create(M,W=0,he=Ys){return new Wc(M,W,he)}static dispatch(M){const{source:W,subscriber:he}=M;return this.add(W.subscribe(he))}_subscribe(M){return this.scheduler.schedule(Wc.dispatch,this.delayTime,{source:this.source,subscriber:M})}}function Za(P,M=0){return function(he){return he.lift(new bu(P,M))}}class bu{constructor(M,W){this.scheduler=M,this.delay=W}call(M,W){return new Wc(W,this.delay,this.scheduler).subscribe(M)}}var bc=H(7393),Fs=H(9193),Ec=H(5917);class Ki{constructor(M,W,he){this.kind=M,this.value=W,this.error=he,this.hasValue="N"===M}observe(M){switch(this.kind){case"N":return M.next&&M.next(this.value);case"E":return M.error&&M.error(this.error);case"C":return M.complete&&M.complete()}}do(M,W,he){switch(this.kind){case"N":return M&&M(this.value);case"E":return W&&W(this.error);case"C":return he&&he()}}accept(M,W,he){return M&&"function"==typeof M.next?this.observe(M):this.do(M,W,he)}toObservable(){switch(this.kind){case"N":return(0,Ec.of)(this.value);case"E":return P=this.error,new io.y(W=>W.error(P));case"C":return(0,Fs.c)()}var P;throw new Error("unexpected notification kind value")}static createNext(M){return void 0!==M?new Ki("N",M):Ki.undefinedValueNotification}static createError(M){return new Ki("E",void 0,M)}static createComplete(){return Ki.completeNotification}}function di(P,M=0){return function(he){return he.lift(new $l(P,M))}}Ki.completeNotification=new Ki("C"),Ki.undefinedValueNotification=new Ki("N",void 0);class $l{constructor(M,W=0){this.scheduler=M,this.delay=W}call(M,W){return W.subscribe(new qc(M,this.scheduler,this.delay))}}class qc extends bc.L{constructor(M,W,he=0){super(M),this.scheduler=W,this.delay=he}static dispatch(M){const{notification:W,destination:he}=M;W.observe(he),this.unsubscribe()}scheduleMessage(M){this.destination.add(this.scheduler.schedule(qc.dispatch,this.delay,new Pa(M,this.destination)))}_next(M){this.scheduleMessage(Ki.createNext(M))}_error(M){this.scheduleMessage(Ki.createError(M)),this.unsubscribe()}_complete(){this.scheduleMessage(Ki.createComplete()),this.unsubscribe()}}class Pa{constructor(M,W){this.notification=M,this.destination=W}}var Oa=H(3342);const Xa=new _.GfV("7.4.1"),_a="__angularfire_symbol__analyticsIsSupportedValue",Yc="__angularfire_symbol__analyticsIsSupported",Ko="__angularfire_symbol__remoteConfigIsSupportedValue",Ic="__angularfire_symbol__remoteConfigIsSupported",Ii="__angularfire_symbol__messagingIsSupportedValue",nl="__angularfire_symbol__messagingIsSupported";function wu(P,M,W){if(M){if(1===M.length)return M[0];const dt=M.filter(Wt=>Wt.app===W);if(1===dt.length)return dt[0]}return W.container.getProvider(P).getImmediate({optional:!0})}globalThis[Yc]||(globalThis[Yc]=fn().then(P=>globalThis[_a]=P).catch(()=>globalThis[_a]=!1)),globalThis[nl]||(globalThis[nl]=Gs().then(P=>globalThis[Ii]=P).catch(()=>globalThis[Ii]=!1)),globalThis[Ic]||(globalThis[Ic]=Fe().then(P=>globalThis[Ko]=P).catch(()=>globalThis[Ko]=!1));const wc=(P,M)=>{const W=M?[M]:(0,R.C6)(),he=[];return W.forEach(We=>{We.container.getProvider(P).instances.forEach(Wt=>{he.includes(Wt)||he.push(Wt)})}),he};function oo(){}class Vo{constructor(M,W=aa){this.zone=M,this.delegate=W}now(){return this.delegate.now()}schedule(M,W,he){const We=this.zone;return this.delegate.schedule(function(Wt){We.runGuarded(()=>{M.apply(this,[Wt])})},W,he)}}class mi{constructor(M){this.zone=M,this.task=null}call(M,W){const he=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)),W.pipe((0,Oa.b)({next:he,complete:he,error:he})).subscribe(M).add(he)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bl=(()=>{class P{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Vo(Zone.current)),this.insideAngular=W.run(()=>new Vo(Zone.current,gc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(W){return new(W||P)(_.LFG(_.R0b))},P.\u0275prov=_.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function ka(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function ua(P){return ka().ngZone.runOutsideAngular(()=>P())}function qi(P){return ka().ngZone.run(()=>P())}function Dc(P){return ka(),function(P){return function(W){return(W=W.lift(new mi(P.ngZone))).pipe(Za(P.outsideAngular),di(P.insideAngular))}}(ka())(P)}const ba=(P,M)=>{const W=void 0;return function(){const he=arguments;return M&&setTimeout(()=>{"scheduled"===M.state&&M.invoke()},10),qi(()=>P.apply(W,he))}},ao=(P,M)=>function(){let W;const he=arguments;for(let dt=0;dt<arguments.length;dt++)"function"==typeof he[dt]&&(M&&(W||(W=qi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)))),he[dt]=ba(he[dt],W));const We=ua(()=>P.apply(this,he));if(!M){if(We instanceof io.y){const dt=ka();return We.pipe(Za(dt.outsideAngular),di(dt.insideAngular))}return qi(()=>We)}return We instanceof io.y?We.pipe(Dc):We instanceof Promise?qi(()=>new Promise((dt,Wt)=>We.then(vn=>qi(()=>dt(vn)),vn=>qi(()=>Wt(vn))))):"function"==typeof We&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),We.apply(this,arguments)}:qi(()=>We)}},665:(rn,et,H)=>{"use strict";H.d(et,{qu:()=>Dt,u:()=>Qi,sg:()=>Mr,u5:()=>B,JU:()=>ye,a5:()=>Mn,JJ:()=>Yr,JL:()=>Sn,On:()=>L,UX:()=>ce,kI:()=>xt,_Y:()=>F});var _=H(639),R=H(8583),De=H(8891),Ue=H(9796),de=H(8002),Te=H(1555),U=H(4402);function Ee(V,O){return new De.y(x=>{const J=V.length;if(0===J)return void x.complete();const nt=new Array(J);let Kt=0,zn=0;for(let Zr=0;Zr<J;Zr++){const li=(0,U.D)(V[Zr]);let Rr=!1;x.add(li.subscribe({next:ur=>{Rr||(Rr=!0,zn++),nt[Zr]=ur},error:ur=>x.error(ur),complete:()=>{Kt++,(Kt===J||!Rr)&&(zn===J&&x.next(O?O.reduce((ur,ki,ns)=>(ur[ki]=nt[ns],ur),{}):nt),x.complete())}}))}})}let Z=(()=>{class V{constructor(x,J){this._renderer=x,this._elementRef=J,this.onChange=nt=>{},this.onTouched=()=>{}}setProperty(x,J){this._renderer.setProperty(this._elementRef.nativeElement,x,J)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return V.\u0275fac=function(x){return new(x||V)(_.Y36(_.Qsj),_.Y36(_.SBq))},V.\u0275dir=_.lG2({type:V}),V})(),ne=(()=>{class V extends Z{}return V.\u0275fac=function(){let O;return function(J){return(O||(O=_.n5z(V)))(J||V)}}(),V.\u0275dir=_.lG2({type:V,features:[_.qOj]}),V})();const ye=new _.OlP("NgValueAccessor"),rt={provide:ye,useExisting:(0,_.Gpc)(()=>$e),multi:!0},Ze=new _.OlP("CompositionEventMode");let $e=(()=>{class V extends Z{constructor(x,J,nt){super(x,J),this._compositionMode=nt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const V=(0,R.q)()?(0,R.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(x){this.setProperty("value",null==x?"":x)}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return V.\u0275fac=function(x){return new(x||V)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Ze,8))},V.\u0275dir=_.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,J){1&x&&_.NdJ("input",function(Kt){return J._handleInput(Kt.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(Kt){return J._compositionEnd(Kt.target.value)})},features:[_._Bn([rt]),_.qOj]}),V})();function ht(V){return null==V||0===V.length}function Le(V){return null!=V&&"number"==typeof V.length}const qe=new _.OlP("NgValidators"),ft=new _.OlP("NgAsyncValidators"),_t=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xt{static min(O){return V=O,O=>{if(ht(O.value)||ht(V))return null;const x=parseFloat(O.value);return!isNaN(x)&&x<V?{min:{min:V,actual:O.value}}:null};var V}static max(O){return V=O,O=>{if(ht(O.value)||ht(V))return null;const x=parseFloat(O.value);return!isNaN(x)&&x>V?{max:{max:V,actual:O.value}}:null};var V}static required(O){return ht(O.value)?{required:!0}:null}static requiredTrue(O){return!0===O.value?null:{required:!0}}static email(O){return ht((V=O).value)||_t.test(V.value)?null:{email:!0};var V}static minLength(O){return V=O,O=>ht(O.value)||!Le(O.value)?null:O.value.length<V?{minlength:{requiredLength:V,actualLength:O.value.length}}:null;var V}static maxLength(O){return V=O,O=>Le(O.value)&&O.value.length>V?{maxlength:{requiredLength:V,actualLength:O.value.length}}:null;var V}static pattern(O){return function(V){if(!V)return je;let O,x;return"string"==typeof V?(x="","^"!==V.charAt(0)&&(x+="^"),x+=V,"$"!==V.charAt(V.length-1)&&(x+="$"),O=new RegExp(x)):(x=V.toString(),O=V),J=>{if(ht(J.value))return null;const nt=J.value;return O.test(nt)?null:{pattern:{requiredPattern:x,actualValue:nt}}}}(O)}static nullValidator(O){return null}static compose(O){return It(O)}static composeAsync(O){return sn(O)}}function je(V){return null}function vt(V){return null!=V}function Oe(V){const O=(0,_.QGY)(V)?(0,U.D)(V):V;return(0,_.CqO)(O),O}function He(V){let O={};return V.forEach(x=>{O=null!=x?Object.assign(Object.assign({},O),x):O}),0===Object.keys(O).length?null:O}function Ge(V,O){return O.map(x=>x(V))}function tt(V){return V.map(O=>function(V){return!V.validate}(O)?O:x=>O.validate(x))}function It(V){if(!V)return null;const O=V.filter(vt);return 0==O.length?null:function(x){return He(Ge(x,O))}}function Ft(V){return null!=V?It(tt(V)):null}function sn(V){if(!V)return null;const O=V.filter(vt);return 0==O.length?null:function(x){return function(...V){if(1===V.length){const O=V[0];if((0,Ue.k)(O))return Ee(O,null);if((0,Te.K)(O)&&Object.getPrototypeOf(O)===Object.prototype){const x=Object.keys(O);return Ee(x.map(J=>O[J]),x)}}if("function"==typeof V[V.length-1]){const O=V.pop();return Ee(V=1===V.length&&(0,Ue.k)(V[0])?V[0]:V,null).pipe((0,de.U)(x=>O(...x)))}return Ee(V,null)}(Ge(x,O).map(Oe)).pipe((0,de.U)(He))}}function Nt(V){return null!=V?sn(tt(V)):null}function $n(V,O){return null===V?[O]:Array.isArray(V)?[...V,O]:[V,O]}function On(V){return V._rawValidators}function Xt(V){return V._rawAsyncValidators}function _n(V){return V?Array.isArray(V)?V:[V]:[]}function Xn(V,O){return Array.isArray(V)?V.includes(O):V===O}function xr(V,O){const x=_n(O);return _n(V).forEach(nt=>{Xn(x,nt)||x.push(nt)}),x}function Yn(V,O){return _n(O).filter(x=>!Xn(V,x))}let gt=(()=>{class V{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,J){return!!this.control&&this.control.hasError(x,J)}getError(x,J){return this.control?this.control.getError(x,J):null}}return V.\u0275fac=function(x){return new(x||V)},V.\u0275dir=_.lG2({type:V}),V})(),Zt=(()=>{class V extends gt{get formDirective(){return null}get path(){return null}}return V.\u0275fac=function(){let O;return function(J){return(O||(O=_.n5z(V)))(J||V)}}(),V.\u0275dir=_.lG2({type:V,features:[_.qOj]}),V})();class Mn extends gt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hn{constructor(O){this._cd=O}is(O){var x,J,nt;return"submitted"===O?!!(null===(x=this._cd)||void 0===x?void 0:x.submitted):!!(null===(nt=null===(J=this._cd)||void 0===J?void 0:J.control)||void 0===nt?void 0:nt[O])}}let Yr=(()=>{class V extends Hn{constructor(x){super(x)}}return V.\u0275fac=function(x){return new(x||V)(_.Y36(Mn,2))},V.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,J){2&x&&_.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))},features:[_.qOj]}),V})(),Sn=(()=>{class V extends Hn{constructor(x){super(x)}}return V.\u0275fac=function(x){return new(x||V)(_.Y36(Zt,10))},V.\u0275dir=_.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,J){2&x&&_.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))("ng-submitted",J.is("submitted"))},features:[_.qOj]}),V})();function jr(V,O){return[...O.path,V]}function Dn(V,O){Gt(V,O),O.valueAccessor.writeValue(V.value),function(V,O){O.valueAccessor.registerOnChange(x=>{V._pendingValue=x,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&Cn(V,O)})}(V,O),function(V,O){const x=(J,nt)=>{O.valueAccessor.writeValue(J),nt&&O.viewToModelUpdate(J)};V.registerOnChange(x),O._registerOnDestroy(()=>{V._unregisterOnChange(x)})}(V,O),function(V,O){O.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&Cn(V,O),"submit"!==V.updateOn&&V.markAsTouched()})}(V,O),function(V,O){if(O.valueAccessor.setDisabledState){const x=J=>{O.valueAccessor.setDisabledState(J)};V.registerOnDisabledChange(x),O._registerOnDestroy(()=>{V._unregisterOnDisabledChange(x)})}}(V,O)}function Lr(V,O,x=!0){const J=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(J),O.valueAccessor.registerOnTouched(J)),it(V,O),V&&(O._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function Bn(V,O){V.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(O)})}function Gt(V,O){const x=On(V);null!==O.validator?V.setValidators($n(x,O.validator)):"function"==typeof x&&V.setValidators([x]);const J=Xt(V);null!==O.asyncValidator?V.setAsyncValidators($n(J,O.asyncValidator)):"function"==typeof J&&V.setAsyncValidators([J]);const nt=()=>V.updateValueAndValidity();Bn(O._rawValidators,nt),Bn(O._rawAsyncValidators,nt)}function it(V,O){let x=!1;if(null!==V){if(null!==O.validator){const nt=On(V);if(Array.isArray(nt)&&nt.length>0){const Kt=nt.filter(zn=>zn!==O.validator);Kt.length!==nt.length&&(x=!0,V.setValidators(Kt))}}if(null!==O.asyncValidator){const nt=Xt(V);if(Array.isArray(nt)&&nt.length>0){const Kt=nt.filter(zn=>zn!==O.asyncValidator);Kt.length!==nt.length&&(x=!0,V.setAsyncValidators(Kt))}}}const J=()=>{};return Bn(O._rawValidators,J),Bn(O._rawAsyncValidators,J),x}function Cn(V,O){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function ot(V,O){if(!V.hasOwnProperty("model"))return!1;const x=V.model;return!!x.isFirstChange()||!Object.is(O,x.currentValue)}function cr(V,O){if(!O)return null;let x,J,nt;return Array.isArray(O),O.forEach(Kt=>{Kt.constructor===$e?x=Kt:function(V){return Object.getPrototypeOf(V.constructor)===ne}(Kt)?J=Kt:nt=Kt}),nt||J||x||null}function _r(V,O){const x=V.indexOf(O);x>-1&&V.splice(x,1)}const pr="VALID",In="INVALID",wr="PENDING",si="DISABLED";function Qt(V){return(Dr(V)?V.validators:V)||null}function kn(V){return Array.isArray(V)?Ft(V):V||null}function dr(V,O){return(Dr(O)?O.asyncValidators:V)||null}function mr(V){return Array.isArray(V)?Nt(V):V||null}function Dr(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class Cr{constructor(O,x){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=x,this._composedValidatorFn=kn(this._rawValidators),this._composedAsyncValidatorFn=mr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===pr}get invalid(){return this.status===In}get pending(){return this.status==wr}get disabled(){return this.status===si}get enabled(){return this.status!==si}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=kn(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=mr(O)}addValidators(O){this.setValidators(xr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(xr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Yn(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Yn(O,this._rawAsyncValidators))}hasValidator(O){return Xn(this._rawValidators,O)}hasAsyncValidator(O){return Xn(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=wr,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const x=this._parentMarkedDirty(O.onlySelf);this.status=si,this.errors=null,this._forEachChild(J=>{J.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:x})),this._onDisabledChange.forEach(J=>J(!0))}enable(O={}){const x=this._parentMarkedDirty(O.onlySelf);this.status=pr,this._forEachChild(J=>{J.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:x})),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pr||this.status===wr)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?si:pr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=wr,this._hasOwnPendingAsyncValidator=!0;const x=Oe(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,x={}){this.errors=O,this._updateControlsErrors(!1!==x.emitEvent)}get(O){return function(V,O,x){if(null==O||(Array.isArray(O)||(O=O.split(".")),Array.isArray(O)&&0===O.length))return null;let J=V;return O.forEach(nt=>{J=J instanceof zt?J.controls.hasOwnProperty(nt)?J.controls[nt]:null:J instanceof pn&&J.at(nt)||null}),J}(this,O)}getError(O,x){const J=x?this.get(x):this;return J&&J.errors?J.errors[O]:null}hasError(O,x){return!!this.getError(O,x)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?si:this.errors?In:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wr)?wr:this._anyControlsHaveStatus(In)?In:pr}_anyControlsHaveStatus(O){return this._anyControls(x=>x.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){Dr(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rn extends Cr{constructor(O=null,x,J){super(Qt(x),dr(J,x)),this._onChange=[],this._applyFormState(O),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(O,x={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(O,x={}){this.setValue(O,x)}reset(O=null,x={}){this._applyFormState(O),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){_r(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){_r(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class zt extends Cr{constructor(O,x,J){super(Qt(x),dr(J,x)),this.controls=O,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,x){return this.controls[O]?this.controls[O]:(this.controls[O]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(O,x,J={}){this.registerControl(O,x),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(O,x={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(O,x,J={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],x&&this.registerControl(O,x),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,x={}){this._checkAllValuesPresent(O),Object.keys(O).forEach(J=>{this._throwIfControlMissing(J),this.controls[J].setValue(O[J],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(O,x={}){null!=O&&(Object.keys(O).forEach(J=>{this.controls[J]&&this.controls[J].patchValue(O[J],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(O={},x={}){this._forEachChild((J,nt)=>{J.reset(O[nt],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(O,x,J)=>(O[J]=x instanceof Rn?x.value:x.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(x,J)=>!!J._syncPendingControls()||x);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[O])throw new Error(`Cannot find form control with name: ${O}.`)}_forEachChild(O){Object.keys(this.controls).forEach(x=>{const J=this.controls[x];J&&O(J,x)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const x of Object.keys(this.controls)){const J=this.controls[x];if(this.contains(x)&&O(J))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,x,J)=>((x.enabled||this.disabled)&&(O[J]=x.value),O))}_reduceChildren(O,x){let J=O;return this._forEachChild((nt,Kt)=>{J=x(J,nt,Kt)}),J}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(O){this._forEachChild((x,J)=>{if(void 0===O[J])throw new Error(`Must supply a value for form control with name: '${J}'.`)})}}class pn extends Cr{constructor(O,x,J){super(Qt(x),dr(J,x)),this.controls=O,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,x={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(O,x,J={}){this.controls.splice(O,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(O,x={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(O,x,J={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),x&&(this.controls.splice(O,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,x={}){this._checkAllValuesPresent(O),O.forEach((J,nt)=>{this._throwIfControlMissing(nt),this.at(nt).setValue(J,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(O,x={}){null!=O&&(O.forEach((J,nt)=>{this.at(nt)&&this.at(nt).patchValue(J,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(O=[],x={}){this._forEachChild((J,nt)=>{J.reset(O[nt],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(O=>O instanceof Rn?O.value:O.getRawValue())}clear(O={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((x,J)=>!!J._syncPendingControls()||x,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_throwIfControlMissing(O){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(O))throw new Error(`Cannot find form control at index ${O}`)}_forEachChild(O){this.controls.forEach((x,J)=>{O(x,J)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(x=>x.enabled&&O(x))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_checkAllValuesPresent(O){this._forEachChild((x,J)=>{if(void 0===O[J])throw new Error(`Must supply a value for form control at index: ${J}.`)})}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}const hi={provide:Mn,useExisting:(0,_.Gpc)(()=>L)},Qe=(()=>Promise.resolve(null))();let L=(()=>{class V extends Mn{constructor(x,J,nt,Kt){super(),this.control=new Rn,this._registered=!1,this.update=new _.vpe,this._parent=x,this._setValidators(J),this._setAsyncValidators(nt),this.valueAccessor=cr(0,Kt)}ngOnChanges(x){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in x&&this._updateDisabled(x),ot(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?jr(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Qe.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1})})}_updateDisabled(x){const J=x.isDisabled.currentValue,nt=""===J||J&&"false"!==J;Qe.then(()=>{nt&&!this.control.disabled?this.control.disable():!nt&&this.control.disabled&&this.control.enable()})}}return V.\u0275fac=function(x){return new(x||V)(_.Y36(Zt,9),_.Y36(qe,10),_.Y36(ft,10),_.Y36(ye,10))},V.\u0275dir=_.lG2({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_._Bn([hi]),_.qOj,_.TTD]}),V})(),F=(()=>{class V{}return V.\u0275fac=function(x){return new(x||V)},V.\u0275dir=_.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})(),ut=(()=>{class V{}return V.\u0275fac=function(x){return new(x||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({}),V})();const bn=new _.OlP("NgModelWithFormControlWarning"),ti={provide:Zt,useExisting:(0,_.Gpc)(()=>Mr)};let Mr=(()=>{class V extends Zt{constructor(x,J){super(),this.validators=x,this.asyncValidators=J,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(x),this._setAsyncValidators(J)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(it(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const J=this.form.get(x.path);return Dn(J,x),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),J}getControl(x){return this.form.get(x.path)}removeControl(x){Lr(x.control||null,x,!1),_r(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,J){this.form.get(x.path).setValue(J)}onSubmit(x){return this.submitted=!0,function(V,O){V._syncPendingControls(),O.forEach(x=>{const J=x.control;"submit"===J.updateOn&&J._pendingChange&&(x.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const J=x.control,nt=this.form.get(x.path);J!==nt&&(Lr(J||null,x),nt instanceof Rn&&(Dn(nt,x),x.control=nt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const J=this.form.get(x.path);(function(V,O){Gt(V,O)})(J,x),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const J=this.form.get(x.path);J&&function(V,O){return it(V,O)}(J,x)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gt(this.form,this),this._oldForm&&it(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(x){return new(x||V)(_.Y36(qe,10),_.Y36(ft,10))},V.\u0275dir=_.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(x,J){1&x&&_.NdJ("submit",function(Kt){return J.onSubmit(Kt)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([ti]),_.qOj,_.TTD]}),V})();const _i={provide:Mn,useExisting:(0,_.Gpc)(()=>Qi)};let Qi=(()=>{class V extends Mn{constructor(x,J,nt,Kt,zn){super(),this._ngModelWarningConfig=zn,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(J),this._setAsyncValidators(nt),this.valueAccessor=cr(0,Kt)}set isDisabled(x){}ngOnChanges(x){this._added||this._setUpControl(),ot(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return jr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return V.\u0275fac=function(x){return new(x||V)(_.Y36(Zt,13),_.Y36(qe,10),_.Y36(ft,10),_.Y36(ye,10),_.Y36(bn,8))},V.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([_i]),_.qOj,_.TTD]}),V._ngModelWarningSentOnce=!1,V})(),ee=(()=>{class V{}return V.\u0275fac=function(x){return new(x||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[[ut]]}),V})(),B=(()=>{class V{}return V.\u0275fac=function(x){return new(x||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[ee]}),V})(),ce=(()=>{class V{static withConfig(x){return{ngModule:V,providers:[{provide:bn,useValue:x.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(x){return new(x||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[ee]}),V})(),Dt=(()=>{class V{group(x,J=null){const nt=this._reduceControls(x);let Zr,Kt=null,zn=null;return null!=J&&(function(V){return void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn}(J)?(Kt=null!=J.validators?J.validators:null,zn=null!=J.asyncValidators?J.asyncValidators:null,Zr=null!=J.updateOn?J.updateOn:void 0):(Kt=null!=J.validator?J.validator:null,zn=null!=J.asyncValidator?J.asyncValidator:null)),new zt(nt,{asyncValidators:zn,updateOn:Zr,validators:Kt})}control(x,J,nt){return new Rn(x,J,nt)}array(x,J,nt){const Kt=x.map(zn=>this._createControl(zn));return new pn(Kt,J,nt)}_reduceControls(x){const J={};return Object.keys(x).forEach(nt=>{J[nt]=this._createControl(x[nt])}),J}_createControl(x){return x instanceof Rn||x instanceof zt||x instanceof pn?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}}return V.\u0275fac=function(x){return new(x||V)},V.\u0275prov=(0,_.Yz7)({factory:function(){return new V},token:V,providedIn:ce}),V})()},2465:(rn,et,H)=>{"use strict";H.d(et,{gz:()=>Kr,y6:()=>kt,OD:()=>Ln,eC:()=>Ot,wm:()=>zr,wN:()=>Qr,F0:()=>Ri,rH:()=>hc,Bz:()=>Ya,Hx:()=>Pr});var _=H(8583),R=H(639),De=H(4869),Ue=H(9796),de=H(7393);class Te extends de.L{notifyNext(C,E,k,z,ie){this.destination.next(E)}notifyError(C,E){this.destination.error(C)}notifyComplete(C){this.destination.complete()}}class U extends de.L{constructor(C,E,k){super(),this.parent=C,this.outerValue=E,this.outerIndex=k,this.index=0}_next(C){this.parent.notifyNext(this.outerValue,C,this.outerIndex,this.index++,this)}_error(C){this.parent.notifyError(C,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var pe=H(7444),Ee=H(8891);function Z(T,C,E,k,z=new U(T,E,k)){if(!z.closed)return C instanceof Ee.y?C.subscribe(z):(0,pe.s)(C)(z)}var ne=H(6693);const ye={};class fe{constructor(C){this.resultSelector=C}call(C,E){return E.subscribe(new rt(C,this.resultSelector))}}class rt extends Te{constructor(C,E){super(C),this.resultSelector=E,this.active=0,this.values=[],this.observables=[]}_next(C){this.values.push(ye),this.observables.push(C)}_complete(){const C=this.observables,E=C.length;if(0===E)this.destination.complete();else{this.active=E,this.toRespond=E;for(let k=0;k<E;k++)this.add(Z(this,C[k],void 0,k))}}notifyComplete(C){0==(this.active-=1)&&this.destination.complete()}notifyNext(C,E,k){const z=this.values,Ae=this.toRespond?z[k]===ye?--this.toRespond:this.toRespond:0;z[k]=E,0===Ae&&(this.resultSelector?this._tryResultSelector(z):this.destination.next(z.slice()))}_tryResultSelector(C){let E;try{E=this.resultSelector.apply(this,C)}catch(k){return void this.destination.error(k)}this.destination.next(E)}}const Ze=(()=>{function T(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return T.prototype=Object.create(Error.prototype),T})();var $e=H(5917),ht=H(3282);function qe(...T){return(0,ht.J)(1)((0,$e.of)(...T))}var ft=H(4402),_t=H(9193);function xt(T){return new Ee.y(C=>{let E;try{E=T()}catch(z){return void C.error(z)}return(E?(0,ft.D)(E):(0,_t.c)()).subscribe(C)})}var g=H(6215),Ce=H(2441),Xe=H(7709);function Q(T,C){let E=!1;return arguments.length>=2&&(E=!0),function(z){return z.lift(new ae(T,C,E))}}class ae{constructor(C,E,k=!1){this.accumulator=C,this.seed=E,this.hasSeed=k}call(C,E){return E.subscribe(new oe(C,this.accumulator,this.seed,this.hasSeed))}}class oe extends de.L{constructor(C,E,k,z){super(C),this.accumulator=E,this._seed=k,this.hasSeed=z,this.index=0}get seed(){return this._seed}set seed(C){this.hasSeed=!0,this._seed=C}_next(C){if(this.hasSeed)return this._tryNext(C);this.seed=C,this.destination.next(C)}_tryNext(C){const E=this.index++;let k;try{k=this.accumulator(this.seed,C,E)}catch(z){this.destination.error(z)}this.seed=k,this.destination.next(k)}}var ve=H(5345);function je(T){return function(E){const k=new vt(T),z=E.lift(k);return k.caught=z}}class vt{constructor(C){this.selector=C}call(C,E){return E.subscribe(new Oe(C,this.selector,this.caught))}}class Oe extends ve.Ds{constructor(C,E,k){super(C),this.selector=E,this.caught=k}error(C){if(!this.isStopped){let E;try{E=this.selector(C,this.caught)}catch(ie){return void super.error(ie)}this._unsubscribeAndRecycle();const k=new ve.IY(this);this.add(k);const z=(0,ve.ft)(E,k);z!==k&&this.add(z)}}}var He=H(9773);function Ge(T,C){return(0,He.zg)(T,C,1)}var ze=H(5435),tt=H(7108);function It(T){return function(E){return 0===T?(0,_t.c)():E.lift(new Ft(T))}}class Ft{constructor(C){if(this.total=C,this.total<0)throw new tt.W}call(C,E){return E.subscribe(new sn(C,this.total))}}class sn extends de.L{constructor(C,E){super(C),this.total=E,this.ring=new Array,this.count=0}_next(C){const E=this.ring,k=this.total,z=this.count++;E.length<k?E.push(C):E[z%k]=C}_complete(){const C=this.destination;let E=this.count;if(E>0){const k=this.count>=this.total?this.total:this.count,z=this.ring;for(let ie=0;ie<k;ie++){const Ae=E++%k;C.next(z[Ae])}}C.complete()}}function Nt(T=Xt){return C=>C.lift(new $n(T))}class $n{constructor(C){this.errorFactory=C}call(C,E){return E.subscribe(new On(C,this.errorFactory))}}class On extends de.L{constructor(C,E){super(C),this.errorFactory=E,this.hasValue=!1}_next(C){this.hasValue=!0,this.destination.next(C)}_complete(){if(this.hasValue)return this.destination.complete();{let C;try{C=this.errorFactory()}catch(E){C=E}this.destination.error(C)}}}function Xt(){return new Ze}function _n(T=null){return C=>C.lift(new Xn(T))}class Xn{constructor(C){this.defaultValue=C}call(C,E){return E.subscribe(new xr(C,this.defaultValue))}}class xr extends de.L{constructor(C,E){super(C),this.defaultValue=E,this.isEmpty=!0}_next(C){this.isEmpty=!1,this.destination.next(C)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Yn=H(4487),Zt=H(5257);function Mn(T,C){const E=arguments.length>=2;return k=>k.pipe(T?(0,ze.h)((z,ie)=>T(z,ie,k)):Yn.y,(0,Zt.q)(1),E?_n(C):Nt(()=>new Ze))}var Hn=H(5319);class jn{constructor(C){this.callback=C}call(C,E){return E.subscribe(new Yr(C,this.callback))}}class Yr extends de.L{constructor(C,E){super(C),this.add(new Hn.w(E))}}var Sn=H(8002),fr=H(3190),ar=H(3342),Fr=H(1307);class en{constructor(C,E){this.id=C,this.url=E}}class Ln extends en{constructor(C,E,k="imperative",z=null){super(C,E),this.navigationTrigger=k,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pt extends en{constructor(C,E,k){super(C,E),this.urlAfterRedirects=k}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vt extends en{constructor(C,E,k){super(C,E),this.reason=k}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class er extends en{constructor(C,E,k){super(C,E),this.error=k}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yr extends en{constructor(C,E,k,z){super(C,E),this.urlAfterRedirects=k,this.state=z}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yt extends en{constructor(C,E,k,z){super(C,E),this.urlAfterRedirects=k,this.state=z}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn extends en{constructor(C,E,k,z,ie){super(C,E),this.urlAfterRedirects=k,this.state=z,this.shouldActivate=ie}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lr extends en{constructor(C,E,k,z){super(C,E),this.urlAfterRedirects=k,this.state=z}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends en{constructor(C,E,k,z){super(C,E),this.urlAfterRedirects=k,this.state=z}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lr{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bn{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ui{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(C,E,k){this.routerEvent=C,this.position=E,this.anchor=k}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class Cn{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const E=this.params[C];return Array.isArray(E)?E[0]:E}return null}getAll(C){if(this.has(C)){const E=this.params[C];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function tn(T){return new Cn(T)}const Se="ngNavigationCancelingError";function we(T){const C=Error("NavigationCancelingError: "+T);return C[Se]=!0,C}function Tt(T,C,E){const k=E.path.split("/");if(k.length>T.length||"full"===E.pathMatch&&(C.hasChildren()||k.length<T.length))return null;const z={};for(let ie=0;ie<k.length;ie++){const Ae=k[ie],Ve=T[ie];if(Ae.startsWith(":"))z[Ae.substring(1)]=Ve;else if(Ae!==Ve.path)return null}return{consumed:T.slice(0,k.length),posParams:z}}function Jt(T,C){const E=T?Object.keys(T):void 0,k=C?Object.keys(C):void 0;if(!E||!k||E.length!=k.length)return!1;let z;for(let ie=0;ie<E.length;ie++)if(z=E[ie],!En(T[z],C[z]))return!1;return!0}function En(T,C){if(Array.isArray(T)&&Array.isArray(C)){if(T.length!==C.length)return!1;const E=[...T].sort(),k=[...C].sort();return E.every((z,ie)=>k[ie]===z)}return T===C}function cr(T){return Array.prototype.concat.apply([],T)}function _r(T){return T.length>0?T[T.length-1]:null}function pr(T,C){for(const E in T)T.hasOwnProperty(E)&&C(T[E],E)}function In(T){return(0,R.CqO)(T)?T:(0,R.QGY)(T)?(0,ft.D)(Promise.resolve(T)):(0,$e.of)(T)}const si={exact:function dr(T,C,E){if(!Kn(T.segments,C.segments)||!Rn(T.segments,C.segments,E)||T.numberOfChildren!==C.numberOfChildren)return!1;for(const k in C.children)if(!T.children[k]||!dr(T.children[k],C.children[k],E))return!1;return!0},subset:Dr},qt={exact:function(T,C){return Jt(T,C)},subset:function(T,C){return Object.keys(C).length<=Object.keys(T).length&&Object.keys(C).every(E=>En(T[E],C[E]))},ignored:()=>!0};function Qt(T,C,E){return si[E.paths](T.root,C.root,E.matrixParams)&&qt[E.queryParams](T.queryParams,C.queryParams)&&!("exact"===E.fragment&&T.fragment!==C.fragment)}function Dr(T,C,E){return Cr(T,C,C.segments,E)}function Cr(T,C,E,k){if(T.segments.length>E.length){const z=T.segments.slice(0,E.length);return!(!Kn(z,E)||C.hasChildren()||!Rn(z,E,k))}if(T.segments.length===E.length){if(!Kn(T.segments,E)||!Rn(T.segments,E,k))return!1;for(const z in C.children)if(!T.children[z]||!Dr(T.children[z],C.children[z],k))return!1;return!0}{const z=E.slice(0,T.segments.length),ie=E.slice(T.segments.length);return!!(Kn(T.segments,z)&&Rn(T.segments,z,k)&&T.children[Ot])&&Cr(T.children[Ot],C,ie,k)}}function Rn(T,C,E){return C.every((k,z)=>qt[E](T[z].parameters,k.parameters))}class zt{constructor(C,E,k){this.root=C,this.queryParams=E,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return gi.serialize(this)}}class pn{constructor(C,E){this.segments=C,this.children=E,this.parent=null,pr(E,(k,z)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Er(this)}}class Yt{constructor(C,E){this.path=C,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=tn(this.parameters)),this._parameterMap}toString(){return F(this)}}function Kn(T,C){return T.length===C.length&&T.every((E,k)=>E.path===C[k].path)}class Pr{}class Zn{parse(C){const E=new hn(C);return new zt(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(C){const E=`/${Vr(C.root,!0)}`,k=function(T){const C=Object.keys(T).map(E=>{const k=T[E];return Array.isArray(k)?k.map(z=>`${Pn(E)}=${Pn(z)}`).join("&"):`${Pn(E)}=${Pn(k)}`}).filter(E=>!!E);return C.length?`?${C.join("&")}`:""}(C.queryParams);var T;return`${E}${k}${"string"==typeof C.fragment?`#${T=C.fragment,encodeURI(T)}`:""}`}}const gi=new Zn;function Er(T){return T.segments.map(C=>F(C)).join("/")}function Vr(T,C){if(!T.hasChildren())return Er(T);if(C){const E=T.children[Ot]?Vr(T.children[Ot],!1):"",k=[];return pr(T.children,(z,ie)=>{ie!==Ot&&k.push(`${ie}:${Vr(z,!1)}`)}),k.length>0?`${E}(${k.join("//")})`:E}{const E=function(T,C){let E=[];return pr(T.children,(k,z)=>{z===Ot&&(E=E.concat(C(k,z)))}),pr(T.children,(k,z)=>{z!==Ot&&(E=E.concat(C(k,z)))}),E}(T,(k,z)=>z===Ot?[Vr(T.children[Ot],!1)]:[`${z}:${Vr(k,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ot]?`${Er(T)}/${E[0]}`:`${Er(T)}/(${E.join("//")})`}}function oi(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pn(T){return oi(T).replace(/%3B/gi,";")}function vi(T){return oi(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qe(T){return decodeURIComponent(T)}function L(T){return Qe(T.replace(/\+/g,"%20"))}function F(T){return`${vi(T.path)}${function(T){return Object.keys(T).map(C=>`;${vi(C)}=${vi(T[C])}`).join("")}(T.parameters)}`}const Re=/^[^\/()?;=#]+/;function xe(T){const C=T.match(Re);return C?C[0]:""}const ut=/^[^=?&#]+/,bt=/^[^?&#]+/;class hn{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(C.length>0||Object.keys(E).length>0)&&(k[Ot]=new pn(C,E)),k}parseSegment(){const C=xe(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new Yt(Qe(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const E=xe(this.remaining);if(!E)return;this.capture(E);let k="";if(this.consumeOptional("=")){const z=xe(this.remaining);z&&(k=z,this.capture(k))}C[Qe(E)]=Qe(k)}parseQueryParam(C){const E=function(T){const C=T.match(ut);return C?C[0]:""}(this.remaining);if(!E)return;this.capture(E);let k="";if(this.consumeOptional("=")){const Ae=function(T){const C=T.match(bt);return C?C[0]:""}(this.remaining);Ae&&(k=Ae,this.capture(k))}const z=L(E),ie=L(k);if(C.hasOwnProperty(z)){let Ae=C[z];Array.isArray(Ae)||(Ae=[Ae],C[z]=Ae),Ae.push(ie)}else C[z]=ie}parseParens(C){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=xe(this.remaining),z=this.remaining[k.length];if("/"!==z&&")"!==z&&";"!==z)throw new Error(`Cannot parse url '${this.url}'`);let ie;k.indexOf(":")>-1?(ie=k.substr(0,k.indexOf(":")),this.capture(ie),this.capture(":")):C&&(ie=Ot);const Ae=this.parseChildren();E[ie]=1===Object.keys(Ae).length?Ae[Ot]:new pn([],Ae),this.consumeOptional("//")}return E}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}class bn{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const E=this.pathFromRoot(C);return E.length>1?E[E.length-2]:null}children(C){const E=Nn(C,this._root);return E?E.children.map(k=>k.value):[]}firstChild(C){const E=Nn(C,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(C){const E=Fn(C,this._root);return E.length<2?[]:E[E.length-2].children.map(z=>z.value).filter(z=>z!==C)}pathFromRoot(C){return Fn(C,this._root).map(E=>E.value)}}function Nn(T,C){if(T===C.value)return C;for(const E of C.children){const k=Nn(T,E);if(k)return k}return null}function Fn(T,C){if(T===C.value)return[C];for(const E of C.children){const k=Fn(T,E);if(k.length)return k.unshift(C),k}return[]}class ti{constructor(C,E){this.value=C,this.children=E}toString(){return`TreeNode(${this.value})`}}function Mr(T){const C={};return T&&T.children.forEach(E=>C[E.value.outlet]=E),C}class Gr extends bn{constructor(C,E){super(C),this.snapshot=E,Ji(this,C)}toString(){return this.snapshot.toString()}}function fi(T,C){const E=function(T,C){const Ae=new Qi([],{},{},"",{},Ot,C,null,T.root,-1,{});return new Es("",new ti(Ae,[]))}(T,C),k=new g.X([new Yt("",{})]),z=new g.X({}),ie=new g.X({}),Ae=new g.X({}),Ve=new g.X(""),St=new Kr(k,z,Ae,Ve,ie,Ot,C,E.root);return St.snapshot=E.root,new Gr(new ti(St,[]),E)}class Kr{constructor(C,E,k,z,ie,Ae,Ve,St){this.url=C,this.params=E,this.queryParams=k,this.fragment=z,this.data=ie,this.outlet=Ae,this.component=Ve,this._futureSnapshot=St}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Sn.U)(C=>tn(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Sn.U)(C=>tn(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ni(T,C="emptyOnly"){const E=T.pathFromRoot;let k=0;if("always"!==C)for(k=E.length-1;k>=1;){const z=E[k],ie=E[k-1];if(z.routeConfig&&""===z.routeConfig.path)k--;else{if(ie.component)break;k--}}return function(T){return T.reduce((C,E)=>({params:Object.assign(Object.assign({},C.params),E.params),data:Object.assign(Object.assign({},C.data),E.data),resolve:Object.assign(Object.assign({},C.resolve),E._resolvedData)}),{params:{},data:{},resolve:{}})}(E.slice(k))}class Qi{constructor(C,E,k,z,ie,Ae,Ve,St,fn,Tr,yn){this.url=C,this.params=E,this.queryParams=k,this.fragment=z,this.data=ie,this.outlet=Ae,this.component=Ve,this.routeConfig=St,this._urlSegment=fn,this._lastPathIndex=Tr,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Es extends bn{constructor(C,E){super(E),this.url=C,Ji(this,E)}toString(){return Is(this._root)}}function Ji(T,C){C.value._routerState=T,C.children.forEach(E=>Ji(T,E))}function Is(T){const C=T.children.length>0?` { ${T.children.map(Is).join(", ")} } `:"";return`${T.value}${C}`}function Cs(T){if(T.snapshot){const C=T.snapshot,E=T._futureSnapshot;T.snapshot=E,Jt(C.queryParams,E.queryParams)||T.queryParams.next(E.queryParams),C.fragment!==E.fragment&&T.fragment.next(E.fragment),Jt(C.params,E.params)||T.params.next(E.params),function(T,C){if(T.length!==C.length)return!1;for(let E=0;E<T.length;++E)if(!Jt(T[E],C[E]))return!1;return!0}(C.url,E.url)||T.url.next(E.url),Jt(C.data,E.data)||T.data.next(E.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function ws(T,C){const E=Jt(T.params,C.params)&&function(T,C){return Kn(T,C)&&T.every((E,k)=>Jt(E.parameters,C[k].parameters))}(T.url,C.url);return E&&!(!T.parent!=!C.parent)&&(!T.parent||ws(T.parent,C.parent))}function Me(T,C,E){if(E&&T.shouldReuseRoute(C.value,E.value.snapshot)){const k=E.value;k._futureSnapshot=C.value;const z=function(T,C,E){return C.children.map(k=>{for(const z of E.children)if(T.shouldReuseRoute(k.value,z.value.snapshot))return Me(T,k,z);return Me(T,k)})}(T,C,E);return new ti(k,z)}{if(T.shouldAttach(C.value)){const ie=T.retrieve(C.value);if(null!==ie){const Ae=ie.route;return Fe(C,Ae),Ae}}const k=function(T){return new Kr(new g.X(T.url),new g.X(T.params),new g.X(T.queryParams),new g.X(T.fragment),new g.X(T.data),T.outlet,T.component,T)}(C.value),z=C.children.map(ie=>Me(T,ie));return new ti(k,z)}}function Fe(T,C){if(T.value.routeConfig!==C.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(T.children.length!==C.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");C.value._futureSnapshot=T.value;for(let E=0;E<T.children.length;++E)Fe(T.children[E],C.children[E])}function An(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Gn(T){return"object"==typeof T&&null!=T&&T.outlets}function Or(T,C,E,k,z){let ie={};return k&&pr(k,(Ae,Ve)=>{ie[Ve]=Array.isArray(Ae)?Ae.map(St=>`${St}`):`${Ae}`}),new zt(E.root===T?C:Ti(E.root,T,C),ie,z)}function Ti(T,C,E){const k={};return pr(T.children,(z,ie)=>{k[ie]=z===C?E:Ti(z,C,E)}),new pn(T.segments,k)}class es{constructor(C,E,k){if(this.isAbsolute=C,this.numberOfDoubleDots=E,this.commands=k,C&&k.length>0&&An(k[0]))throw new Error("Root segment cannot have matrix parameters");const z=k.find(Gn);if(z&&z!==_r(k))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $s{constructor(C,E,k){this.segmentGroup=C,this.processChildren=E,this.index=k}}function bi(T,C,E){if(T||(T=new pn([],{})),0===T.segments.length&&T.hasChildren())return Us(T,C,E);const k=function(T,C,E){let k=0,z=C;const ie={match:!1,pathIndex:0,commandIndex:0};for(;z<T.segments.length;){if(k>=E.length)return ie;const Ae=T.segments[z],Ve=E[k];if(Gn(Ve))break;const St=`${Ve}`,fn=k<E.length-1?E[k+1]:null;if(z>0&&void 0===St)break;if(St&&fn&&"object"==typeof fn&&void 0===fn.outlets){if(!mo(St,fn,Ae))return ie;k+=2}else{if(!mo(St,{},Ae))return ie;k++}z++}return{match:!0,pathIndex:z,commandIndex:k}}(T,C,E),z=E.slice(k.commandIndex);if(k.match&&k.pathIndex<T.segments.length){const ie=new pn(T.segments.slice(0,k.pathIndex),{});return ie.children[Ot]=new pn(T.segments.slice(k.pathIndex),T.children),Us(ie,0,z)}return k.match&&0===z.length?new pn(T.segments,{}):k.match&&!T.hasChildren()?Qs(T,C,E):k.match?Us(T,0,z):Qs(T,C,E)}function Us(T,C,E){if(0===E.length)return new pn(T.segments,{});{const k=function(T){return Gn(T[0])?T[0].outlets:{[Ot]:T}}(E),z={};return pr(k,(ie,Ae)=>{"string"==typeof ie&&(ie=[ie]),null!==ie&&(z[Ae]=bi(T.children[Ae],C,ie))}),pr(T.children,(ie,Ae)=>{void 0===k[Ae]&&(z[Ae]=ie)}),new pn(T.segments,z)}}function Qs(T,C,E){const k=T.segments.slice(0,C);let z=0;for(;z<E.length;){const ie=E[z];if(Gn(ie)){const St=Hi(ie.outlets);return new pn(k,St)}if(0===z&&An(E[0])){k.push(new Yt(T.segments[C].path,Ro(E[0]))),z++;continue}const Ae=Gn(ie)?ie.outlets[Ot]:`${ie}`,Ve=z<E.length-1?E[z+1]:null;Ae&&Ve&&An(Ve)?(k.push(new Yt(Ae,Ro(Ve))),z+=2):(k.push(new Yt(Ae,{})),z++)}return new pn(k,{})}function Hi(T){const C={};return pr(T,(E,k)=>{"string"==typeof E&&(E=[E]),null!==E&&(C[k]=Qs(new pn([],{}),0,E))}),C}function Ro(T){const C={};return pr(T,(E,k)=>C[k]=`${E}`),C}function mo(T,C,E){return T==E.path&&Jt(C,E.parameters)}class ts{constructor(C,E,k,z){this.routeReuseStrategy=C,this.futureState=E,this.currState=k,this.forwardEvent=z}activate(C){const E=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,k,C),Cs(this.futureState.root),this.activateChildRoutes(E,k,C)}deactivateChildRoutes(C,E,k){const z=Mr(E);C.children.forEach(ie=>{const Ae=ie.value.outlet;this.deactivateRoutes(ie,z[Ae],k),delete z[Ae]}),pr(z,(ie,Ae)=>{this.deactivateRouteAndItsChildren(ie,k)})}deactivateRoutes(C,E,k){const z=C.value,ie=E?E.value:null;if(z===ie)if(z.component){const Ae=k.getContext(z.outlet);Ae&&this.deactivateChildRoutes(C,E,Ae.children)}else this.deactivateChildRoutes(C,E,k);else ie&&this.deactivateRouteAndItsChildren(E,k)}deactivateRouteAndItsChildren(C,E){this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,E):this.deactivateRouteAndOutlet(C,E)}detachAndStoreRouteSubtree(C,E){const k=E.getContext(C.value.outlet);if(k&&k.outlet){const z=k.outlet.detach(),ie=k.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:z,route:C,contexts:ie})}}deactivateRouteAndOutlet(C,E){const k=E.getContext(C.value.outlet),z=k&&C.value.component?k.children:E,ie=Mr(C);for(const Ae of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[Ae],z);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(C,E,k){const z=Mr(E);C.children.forEach(ie=>{this.activateRoutes(ie,z[ie.value.outlet],k),this.forwardEvent(new it(ie.value.snapshot))}),C.children.length&&this.forwardEvent(new ui(C.value.snapshot))}activateRoutes(C,E,k){const z=C.value,ie=E?E.value:null;if(Cs(z),z===ie)if(z.component){const Ae=k.getOrCreateContext(z.outlet);this.activateChildRoutes(C,E,Ae.children)}else this.activateChildRoutes(C,E,k);else if(z.component){const Ae=k.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Ve=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Ae.children.onOutletReAttached(Ve.contexts),Ae.attachRef=Ve.componentRef,Ae.route=Ve.route.value,Ae.outlet&&Ae.outlet.attach(Ve.componentRef,Ve.route.value),As(Ve.route)}else{const Ve=function(T){for(let C=T.parent;C;C=C.parent){const E=C.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig;if(E&&E.component)return null}return null}(z.snapshot),St=Ve?Ve.module.componentFactoryResolver:null;Ae.attachRef=null,Ae.route=z,Ae.resolver=St,Ae.outlet&&Ae.outlet.activateWith(z,St),this.activateChildRoutes(C,null,Ae.children)}}else this.activateChildRoutes(C,null,k)}}function As(T){Cs(T.value),T.children.forEach(As)}class ee{constructor(C,E){this.routes=C,this.module=E}}function B(T){return"function"==typeof T}function Pe(T){return T instanceof zt}const x=Symbol("INITIAL_VALUE");function J(){return(0,fr.w)(T=>function(...T){let C,E;return(0,De.K)(T[T.length-1])&&(E=T.pop()),"function"==typeof T[T.length-1]&&(C=T.pop()),1===T.length&&(0,Ue.k)(T[0])&&(T=T[0]),(0,ne.n)(T,E).lift(new fe(C))}(T.map(C=>C.pipe((0,Zt.q)(1),function(...T){const C=T[T.length-1];return(0,De.K)(C)?(T.pop(),E=>qe(T,E,C)):E=>qe(T,E)}(x)))).pipe(Q((C,E)=>{let k=!1;return E.reduce((z,ie,Ae)=>z!==x?z:(ie===x&&(k=!0),k||!1!==ie&&Ae!==E.length-1&&!Pe(ie)?z:ie),C)},x),(0,ze.h)(C=>C!==x),(0,Sn.U)(C=>Pe(C)?C:!0===C),(0,Zt.q)(1)))}let nt=(()=>{class T{}return T.\u0275fac=function(E){return new(E||T)},T.\u0275cmp=R.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(E,k){1&E&&R._UZ(0,"router-outlet")},directives:function(){return[Wr]},encapsulation:2}),T})();function Kt(T,C=""){for(let E=0;E<T.length;E++){const k=T[E];zn(k,Zr(C,k))}}function zn(T,C){T.children&&Kt(T.children,C)}function Zr(T,C){return C?T||C.path?T&&!C.path?`${T}/`:!T&&C.path?C.path:`${T}/${C.path}`:"":T}function li(T){const C=T.children&&T.children.map(li),E=C?Object.assign(Object.assign({},T),{children:C}):Object.assign({},T);return!E.component&&(C||E.loadChildren)&&E.outlet&&E.outlet!==Ot&&(E.component=nt),E}function Rr(T){return T.outlet||Ot}function ur(T,C){const E=T.filter(k=>Rr(k)===C);return E.push(...T.filter(k=>Rr(k)!==C)),E}const ki={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ns(T,C,E){var k;if(""===C.path)return"full"===C.pathMatch&&(T.hasChildren()||E.length>0)?Object.assign({},ki):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ie=(C.matcher||Tt)(E,T,C);if(!ie)return Object.assign({},ki);const Ae={};pr(ie.posParams,(St,fn)=>{Ae[fn]=St.path});const Ve=ie.consumed.length>0?Object.assign(Object.assign({},Ae),ie.consumed[ie.consumed.length-1].parameters):Ae;return{matched:!0,consumedSegments:ie.consumed,lastChild:ie.consumed.length,parameters:Ve,positionalParamSegments:null!==(k=ie.posParams)&&void 0!==k?k:{}}}function Ei(T,C,E,k,z="corrected"){if(E.length>0&&function(T,C,E){return E.some(k=>js(T,C,k)&&Rr(k)!==Ot)}(T,E,k)){const Ae=new pn(C,function(T,C,E,k){const z={};z[Ot]=k,k._sourceSegment=T,k._segmentIndexShift=C.length;for(const ie of E)if(""===ie.path&&Rr(ie)!==Ot){const Ae=new pn([],{});Ae._sourceSegment=T,Ae._segmentIndexShift=C.length,z[Rr(ie)]=Ae}return z}(T,C,k,new pn(E,T.children)));return Ae._sourceSegment=T,Ae._segmentIndexShift=C.length,{segmentGroup:Ae,slicedSegments:[]}}if(0===E.length&&function(T,C,E){return E.some(k=>js(T,C,k))}(T,E,k)){const Ae=new pn(T.segments,function(T,C,E,k,z,ie){const Ae={};for(const Ve of k)if(js(T,E,Ve)&&!z[Rr(Ve)]){const St=new pn([],{});St._sourceSegment=T,St._segmentIndexShift="legacy"===ie?T.segments.length:C.length,Ae[Rr(Ve)]=St}return Object.assign(Object.assign({},z),Ae)}(T,C,E,k,T.children,z));return Ae._sourceSegment=T,Ae._segmentIndexShift=C.length,{segmentGroup:Ae,slicedSegments:E}}const ie=new pn(T.segments,T.children);return ie._sourceSegment=T,ie._segmentIndexShift=C.length,{segmentGroup:ie,slicedSegments:E}}function js(T,C,E){return(!(T.hasChildren()||C.length>0)||"full"!==E.pathMatch)&&""===E.path}function Xs(T,C,E,k){return!!(Rr(T)===k||k!==Ot&&js(C,E,T))&&("**"===T.path||ns(C,T,E).matched)}function Un(T,C,E){return 0===C.length&&!T.children[E]}class xs{constructor(C){this.segmentGroup=C||null}}class ta{constructor(C){this.urlTree=C}}function Js(T){return new Ee.y(C=>C.error(new xs(T)))}function ko(T){return new Ee.y(C=>C.error(new ta(T)))}function jo(T){return new Ee.y(C=>C.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${T}'`)))}class jt{constructor(C,E,k,z,ie){this.configLoader=E,this.urlSerializer=k,this.urlTree=z,this.config=ie,this.allowRedirects=!0,this.ngModule=C.get(R.h0i)}apply(){const C=Ei(this.urlTree.root,[],[],this.config).segmentGroup,E=new pn(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,E,Ot).pipe((0,Sn.U)(ie=>this.createUrlTree(yo(ie),this.urlTree.queryParams,this.urlTree.fragment))).pipe(je(ie=>{if(ie instanceof ta)return this.allowRedirects=!1,this.match(ie.urlTree);throw ie instanceof xs?this.noMatchError(ie):ie}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,Ot).pipe((0,Sn.U)(z=>this.createUrlTree(yo(z),C.queryParams,C.fragment))).pipe(je(z=>{throw z instanceof xs?this.noMatchError(z):z}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,E,k){const z=C.segments.length>0?new pn([],{[Ot]:C}):C;return new zt(z,E,k)}expandSegmentGroup(C,E,k,z){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(C,E,k).pipe((0,Sn.U)(ie=>new pn([],ie))):this.expandSegment(C,k,E,k.segments,z,!0)}expandChildren(C,E,k){const z=[];for(const ie of Object.keys(k.children))"primary"===ie?z.unshift(ie):z.push(ie);return(0,ft.D)(z).pipe(Ge(ie=>{const Ae=k.children[ie],Ve=ur(E,ie);return this.expandSegmentGroup(C,Ve,Ae,ie).pipe((0,Sn.U)(St=>({segment:St,outlet:ie})))}),Q((ie,Ae)=>(ie[Ae.outlet]=Ae.segment,ie),{}),function(T,C){const E=arguments.length>=2;return k=>k.pipe(T?(0,ze.h)((z,ie)=>T(z,ie,k)):Yn.y,It(1),E?_n(C):Nt(()=>new Ze))}())}expandSegment(C,E,k,z,ie,Ae){return(0,ft.D)(k).pipe(Ge(Ve=>this.expandSegmentAgainstRoute(C,E,k,Ve,z,ie,Ae).pipe(je(fn=>{if(fn instanceof xs)return(0,$e.of)(null);throw fn}))),Mn(Ve=>!!Ve),je((Ve,St)=>{if(Ve instanceof Ze||"EmptyError"===Ve.name){if(Un(E,z,ie))return(0,$e.of)(new pn([],{}));throw new xs(E)}throw Ve}))}expandSegmentAgainstRoute(C,E,k,z,ie,Ae,Ve){return Xs(z,E,ie,Ae)?void 0===z.redirectTo?this.matchSegmentAgainstRoute(C,E,z,ie,Ae):Ve&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,E,k,z,ie,Ae):Js(E):Js(E)}expandSegmentAgainstRouteUsingRedirect(C,E,k,z,ie,Ae){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,k,z,Ae):this.expandRegularSegmentAgainstRouteUsingRedirect(C,E,k,z,ie,Ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,E,k,z){const ie=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?ko(ie):this.lineralizeSegments(k,ie).pipe((0,He.zg)(Ae=>{const Ve=new pn(Ae,{});return this.expandSegment(C,Ve,E,Ae,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,E,k,z,ie,Ae){const{matched:Ve,consumedSegments:St,lastChild:fn,positionalParamSegments:Tr}=ns(E,z,ie);if(!Ve)return Js(E);const yn=this.applyRedirectCommands(St,z.redirectTo,Tr);return z.redirectTo.startsWith("/")?ko(yn):this.lineralizeSegments(z,yn).pipe((0,He.zg)(Xr=>this.expandSegment(C,E,k,Xr.concat(ie.slice(fn)),Ae,!1)))}matchSegmentAgainstRoute(C,E,k,z,ie){if("**"===k.path)return k.loadChildren?(k._loadedConfig?(0,$e.of)(k._loadedConfig):this.configLoader.load(C.injector,k)).pipe((0,Sn.U)(Xr=>(k._loadedConfig=Xr,new pn(z,{})))):(0,$e.of)(new pn(z,{}));const{matched:Ae,consumedSegments:Ve,lastChild:St}=ns(E,k,z);if(!Ae)return Js(E);const fn=z.slice(St);return this.getChildConfig(C,k,z).pipe((0,He.zg)(yn=>{const Xr=yn.module,qn=yn.routes,{segmentGroup:$r,slicedSegments:qo}=Ei(E,Ve,fn,qn),as=new pn($r.segments,$r.children);if(0===qo.length&&as.hasChildren())return this.expandChildren(Xr,qn,as).pipe((0,Sn.U)(pc=>new pn(Ve,pc)));if(0===qn.length&&0===qo.length)return(0,$e.of)(new pn(Ve,{}));const ms=Rr(k)===ie;return this.expandSegment(Xr,as,qn,qo,ms?Ot:ie,!0).pipe((0,Sn.U)(gr=>new pn(Ve.concat(gr.segments),gr.children)))}))}getChildConfig(C,E,k){return E.children?(0,$e.of)(new ee(E.children,C)):E.loadChildren?void 0!==E._loadedConfig?(0,$e.of)(E._loadedConfig):this.runCanLoadGuards(C.injector,E,k).pipe((0,He.zg)(z=>{return z?this.configLoader.load(C.injector,E).pipe((0,Sn.U)(ie=>(E._loadedConfig=ie,ie))):(T=E,new Ee.y(C=>C.error(we(`Cannot load children because the guard of the route "path: '${T.path}'" returned false`))));var T})):(0,$e.of)(new ee([],C))}runCanLoadGuards(C,E,k){const z=E.canLoad;if(!z||0===z.length)return(0,$e.of)(!0);const ie=z.map(Ae=>{const Ve=C.get(Ae);let St;if((T=Ve)&&B(T.canLoad))St=Ve.canLoad(E,k);else{if(!B(Ve))throw new Error("Invalid CanLoad guard");St=Ve(E,k)}var T;return In(St)});return(0,$e.of)(ie).pipe(J(),(0,ar.b)(Ae=>{if(!Pe(Ae))return;const Ve=we(`Redirecting to "${this.urlSerializer.serialize(Ae)}"`);throw Ve.url=Ae,Ve}),(0,Sn.U)(Ae=>!0===Ae))}lineralizeSegments(C,E){let k=[],z=E.root;for(;;){if(k=k.concat(z.segments),0===z.numberOfChildren)return(0,$e.of)(k);if(z.numberOfChildren>1||!z.children[Ot])return jo(C.redirectTo);z=z.children[Ot]}}applyRedirectCommands(C,E,k){return this.applyRedirectCreatreUrlTree(E,this.urlSerializer.parse(E),C,k)}applyRedirectCreatreUrlTree(C,E,k,z){const ie=this.createSegmentGroup(C,E.root,k,z);return new zt(ie,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(C,E){const k={};return pr(C,(z,ie)=>{if("string"==typeof z&&z.startsWith(":")){const Ve=z.substring(1);k[ie]=E[Ve]}else k[ie]=z}),k}createSegmentGroup(C,E,k,z){const ie=this.createSegments(C,E.segments,k,z);let Ae={};return pr(E.children,(Ve,St)=>{Ae[St]=this.createSegmentGroup(C,Ve,k,z)}),new pn(ie,Ae)}createSegments(C,E,k,z){return E.map(ie=>ie.path.startsWith(":")?this.findPosParam(C,ie,z):this.findOrReturn(ie,k))}findPosParam(C,E,k){const z=k[E.path.substring(1)];if(!z)throw new Error(`Cannot redirect to '${C}'. Cannot find '${E.path}'.`);return z}findOrReturn(C,E){let k=0;for(const z of E){if(z.path===C.path)return E.splice(k),z;k++}return C}}function yo(T){const C={};for(const k of Object.keys(T.children)){const ie=yo(T.children[k]);(ie.segments.length>0||ie.hasChildren())&&(C[k]=ie)}return function(T){if(1===T.numberOfChildren&&T.children[Ot]){const C=T.children[Ot];return new pn(T.segments.concat(C.segments),C.children)}return T}(new pn(T.segments,C))}class Rs{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Ps{constructor(C,E){this.component=C,this.route=E}}function Gi(T,C,E){const k=T._root;return eo(k,C?C._root:null,E,[k.value])}function Hs(T,C,E){const k=function(T){if(!T)return null;for(let C=T.parent;C;C=C.parent){const E=C.routeConfig;if(E&&E._loadedConfig)return E._loadedConfig}return null}(C);return(k?k.module.injector:E).get(T)}function eo(T,C,E,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Mr(C);return T.children.forEach(Ae=>{(function(T,C,E,k,z={canDeactivateChecks:[],canActivateChecks:[]}){const ie=T.value,Ae=C?C.value:null,Ve=E?E.getContext(T.value.outlet):null;if(Ae&&ie.routeConfig===Ae.routeConfig){const St=function(T,C,E){if("function"==typeof E)return E(T,C);switch(E){case"pathParamsChange":return!Kn(T.url,C.url);case"pathParamsOrQueryParamsChange":return!Kn(T.url,C.url)||!Jt(T.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ws(T,C)||!Jt(T.queryParams,C.queryParams);default:return!ws(T,C)}}(Ae,ie,ie.routeConfig.runGuardsAndResolvers);St?z.canActivateChecks.push(new Rs(k)):(ie.data=Ae.data,ie._resolvedData=Ae._resolvedData),eo(T,C,ie.component?Ve?Ve.children:null:E,k,z),St&&Ve&&Ve.outlet&&Ve.outlet.isActivated&&z.canDeactivateChecks.push(new Ps(Ve.outlet.component,Ae))}else Ae&&Nr(C,Ve,z),z.canActivateChecks.push(new Rs(k)),eo(T,null,ie.component?Ve?Ve.children:null:E,k,z)})(Ae,ie[Ae.value.outlet],E,k.concat([Ae.value]),z),delete ie[Ae.value.outlet]}),pr(ie,(Ae,Ve)=>Nr(Ae,E.getContext(Ve),z)),z}function Nr(T,C,E){const k=Mr(T),z=T.value;pr(k,(ie,Ae)=>{Nr(ie,z.component?C?C.children.getContext(Ae):null:C,E)}),E.canDeactivateChecks.push(new Ps(z.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,z))}class No{}function is(T){return new Ee.y(C=>C.error(T))}class Go{constructor(C,E,k,z,ie,Ae){this.rootComponentType=C,this.config=E,this.urlTree=k,this.url=z,this.paramsInheritanceStrategy=ie,this.relativeLinkResolution=Ae}recognize(){const C=Ei(this.urlTree.root,[],[],this.config.filter(Ae=>void 0===Ae.redirectTo),this.relativeLinkResolution).segmentGroup,E=this.processSegmentGroup(this.config,C,Ot);if(null===E)return null;const k=new Qi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),z=new ti(k,E),ie=new Es(this.url,z);return this.inheritParamsAndData(ie._root),ie}inheritParamsAndData(C){const E=C.value,k=ni(E,this.paramsInheritanceStrategy);E.params=Object.freeze(k.params),E.data=Object.freeze(k.data),C.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(C,E,k){return 0===E.segments.length&&E.hasChildren()?this.processChildren(C,E):this.processSegment(C,E,E.segments,k)}processChildren(C,E){const k=[];for(const ie of Object.keys(E.children)){const Ae=E.children[ie],Ve=ur(C,ie),St=this.processSegmentGroup(Ve,Ae,ie);if(null===St)return null;k.push(...St)}const z=no(k);return z.sort((C,E)=>C.value.outlet===Ot?-1:E.value.outlet===Ot?1:C.value.outlet.localeCompare(E.value.outlet)),z}processSegment(C,E,k,z){for(const ie of C){const Ae=this.processSegmentAgainstRoute(ie,E,k,z);if(null!==Ae)return Ae}return Un(E,k,z)?[]:null}processSegmentAgainstRoute(C,E,k,z){if(C.redirectTo||!Xs(C,E,k,z))return null;let ie,Ae=[],Ve=[];if("**"===C.path){const qn=k.length>0?_r(k).parameters:{};ie=new Qi(k,qn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$(C),Rr(C),C.component,C,S(E),b(E)+k.length,te(C))}else{const qn=ns(E,C,k);if(!qn.matched)return null;Ae=qn.consumedSegments,Ve=k.slice(qn.lastChild),ie=new Qi(Ae,qn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$(C),Rr(C),C.component,C,S(E),b(E)+Ae.length,te(C))}const St=(T=C).children?T.children:T.loadChildren?T._loadedConfig.routes:[],{segmentGroup:fn,slicedSegments:Tr}=Ei(E,Ae,Ve,St.filter(qn=>void 0===qn.redirectTo),this.relativeLinkResolution);var T;if(0===Tr.length&&fn.hasChildren()){const qn=this.processChildren(St,fn);return null===qn?null:[new ti(ie,qn)]}if(0===St.length&&0===Tr.length)return[new ti(ie,[])];const yn=Rr(C)===z,Xr=this.processSegment(St,fn,Tr,yn?Ot:z);return null===Xr?null:[new ti(ie,Xr)]}}function Ma(T){const C=T.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function no(T){const C=[],E=new Set;for(const k of T){if(!Ma(k)){C.push(k);continue}const z=C.find(ie=>k.value.routeConfig===ie.value.routeConfig);void 0!==z?(z.children.push(...k.children),E.add(z)):C.push(k)}for(const k of E){const z=no(k.children);C.push(new ti(k.value,z))}return C.filter(k=>!E.has(k))}function S(T){let C=T;for(;C._sourceSegment;)C=C._sourceSegment;return C}function b(T){let C=T,E=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,E+=C._segmentIndexShift?C._segmentIndexShift:0;return E-1}function $(T){return T.data||{}}function te(T){return T.resolve||{}}function Wn(T){return(0,fr.w)(C=>{const E=T(C);return E?(0,ft.D)(E).pipe((0,Sn.U)(()=>C)):(0,$e.of)(C)})}class Qr{}class xn extends class{shouldDetach(C){return!1}store(C,E){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,E){return C.routeConfig===E.routeConfig}}{}const zs=new R.OlP("ROUTES");class nn{constructor(C,E,k,z){this.loader=C,this.compiler=E,this.onLoadStartListener=k,this.onLoadEndListener=z}load(C,E){if(E._loader$)return E._loader$;this.onLoadStartListener&&this.onLoadStartListener(E);const z=this.loadModuleFactory(E.loadChildren).pipe((0,Sn.U)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(E);const Ae=ie.create(C);return new ee(cr(Ae.injector.get(zs,void 0,R.XFs.Self|R.XFs.Optional)).map(li),Ae)}),je(ie=>{throw E._loader$=void 0,ie}));return E._loader$=new Ce.c(z,()=>new Xe.xQ).pipe((0,Fr.x)()),E._loader$}loadModuleFactory(C){return"string"==typeof C?(0,ft.D)(this.loader.load(C)):In(C()).pipe((0,He.zg)(E=>E instanceof R.YKP?(0,$e.of)(E):(0,ft.D)(this.compiler.compileModuleAsync(E))))}}class Et{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kt,this.attachRef=null}}class kt{constructor(){this.contexts=new Map}onChildOutletCreated(C,E){const k=this.getOrCreateContext(C);k.outlet=E,this.contexts.set(C,k)}onChildOutletDestroyed(C){const E=this.getContext(C);E&&(E.outlet=null,E.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let E=this.getContext(C);return E||(E=new Et,this.contexts.set(C,E)),E}getContext(C){return this.contexts.get(C)||null}}class dc{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,E){return C}}function mu(T){throw T}function zo(T,C,E){return C.parse("/")}function Wi(T,C){return(0,$e.of)(null)}const el={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ri=(()=>{class T{constructor(E,k,z,ie,Ae,Ve,St,fn){this.rootComponentType=E,this.urlSerializer=k,this.rootContexts=z,this.location=ie,this.config=fn,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xe.xQ,this.errorHandler=mu,this.malformedUriErrorHandler=zo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wi,afterPreactivation:Wi},this.urlHandlingStrategy=new dc,this.routeReuseStrategy=new xn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ae.get(R.h0i),this.console=Ae.get(R.c2e);const Xr=Ae.get(R.R0b);this.isNgZoneEnabled=Xr instanceof R.R0b&&R.R0b.isInAngularZone(),this.resetConfig(fn),this.currentUrlTree=new zt(new pn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nn(Ve,St,qn=>this.triggerEvent(new Dn(qn)),qn=>this.triggerEvent(new Lr(qn))),this.routerState=fi(this.currentUrlTree,this.rootComponentType),this.transitions=new g.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var E;return null===(E=this.location.getState())||void 0===E?void 0:E.\u0275routerPageId}setupNavigations(E){const k=this.events;return E.pipe((0,ze.h)(z=>0!==z.id),(0,Sn.U)(z=>Object.assign(Object.assign({},z),{extractedUrl:this.urlHandlingStrategy.extract(z.rawUrl)})),(0,fr.w)(z=>{let ie=!1,Ae=!1;return(0,$e.of)(z).pipe((0,ar.b)(Ve=>{this.currentNavigation={id:Ve.id,initialUrl:Ve.currentRawUrl,extractedUrl:Ve.extractedUrl,trigger:Ve.source,extras:Ve.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,fr.w)(Ve=>{const St=this.browserUrlTree.toString(),fn=!this.navigated||Ve.extractedUrl.toString()!==St||St!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||fn)&&this.urlHandlingStrategy.shouldProcessUrl(Ve.rawUrl))return jc(Ve.source)&&(this.browserUrlTree=Ve.extractedUrl),(0,$e.of)(Ve).pipe((0,fr.w)(yn=>{const Xr=this.transitions.getValue();return k.next(new Ln(yn.id,this.serializeUrl(yn.extractedUrl),yn.source,yn.restoredState)),Xr!==this.transitions.getValue()?_t.E:Promise.resolve(yn)}),function(T,C,E,k){return(0,fr.w)(z=>function(T,C,E,k,z){return new jt(T,C,E,k,z).apply()}(T,C,E,z.extractedUrl,k).pipe((0,Sn.U)(ie=>Object.assign(Object.assign({},z),{urlAfterRedirects:ie}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ar.b)(yn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:yn.urlAfterRedirects})}),function(T,C,E,k,z){return(0,He.zg)(ie=>function(T,C,E,k,z="emptyOnly",ie="legacy"){try{const Ae=new Go(T,C,E,k,z,ie).recognize();return null===Ae?is(new No):(0,$e.of)(Ae)}catch(Ae){return is(Ae)}}(T,C,ie.urlAfterRedirects,E(ie.urlAfterRedirects),k,z).pipe((0,Sn.U)(Ae=>Object.assign(Object.assign({},ie),{targetSnapshot:Ae}))))}(this.rootComponentType,this.config,yn=>this.serializeUrl(yn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ar.b)(yn=>{"eager"===this.urlUpdateStrategy&&(yn.extras.skipLocationChange||this.setBrowserUrl(yn.urlAfterRedirects,yn),this.browserUrlTree=yn.urlAfterRedirects);const Xr=new yr(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot);k.next(Xr)}));if(fn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Xr,extractedUrl:qn,source:$r,restoredState:qo,extras:as}=Ve,ms=new Ln(Xr,this.serializeUrl(qn),$r,qo);k.next(ms);const Eo=fi(qn,this.rootComponentType).snapshot;return(0,$e.of)(Object.assign(Object.assign({},Ve),{targetSnapshot:Eo,urlAfterRedirects:qn,extras:Object.assign(Object.assign({},as),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ve.rawUrl,this.browserUrlTree=Ve.urlAfterRedirects,Ve.resolve(null),_t.E}),Wn(Ve=>{const{targetSnapshot:St,id:fn,extractedUrl:Tr,rawUrl:yn,extras:{skipLocationChange:Xr,replaceUrl:qn}}=Ve;return this.hooks.beforePreactivation(St,{navigationId:fn,appliedUrlTree:Tr,rawUrlTree:yn,skipLocationChange:!!Xr,replaceUrl:!!qn})}),(0,ar.b)(Ve=>{const St=new yt(Ve.id,this.serializeUrl(Ve.extractedUrl),this.serializeUrl(Ve.urlAfterRedirects),Ve.targetSnapshot);this.triggerEvent(St)}),(0,Sn.U)(Ve=>Object.assign(Object.assign({},Ve),{guards:Gi(Ve.targetSnapshot,Ve.currentSnapshot,this.rootContexts)})),function(T,C){return(0,He.zg)(E=>{const{targetSnapshot:k,currentSnapshot:z,guards:{canActivateChecks:ie,canDeactivateChecks:Ae}}=E;return 0===Ae.length&&0===ie.length?(0,$e.of)(Object.assign(Object.assign({},E),{guardsResult:!0})):function(T,C,E,k){return(0,ft.D)(T).pipe((0,He.zg)(z=>function(T,C,E,k,z){const ie=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,$e.of)(!0);const Ae=ie.map(Ve=>{const St=Hs(Ve,C,z);let fn;if(function(T){return T&&B(T.canDeactivate)}(St))fn=In(St.canDeactivate(T,C,E,k));else{if(!B(St))throw new Error("Invalid CanDeactivate guard");fn=In(St(T,C,E,k))}return fn.pipe(Mn())});return(0,$e.of)(Ae).pipe(J())}(z.component,z.route,E,C,k)),Mn(z=>!0!==z,!0))}(Ae,k,z,T).pipe((0,He.zg)(Ve=>Ve&&function(T){return"boolean"==typeof T}(Ve)?function(T,C,E,k){return(0,ft.D)(C).pipe(Ge(z=>qe(function(T,C){return null!==T&&C&&C(new Bn(T)),(0,$e.of)(!0)}(z.route.parent,k),function(T,C){return null!==T&&C&&C(new Gt(T)),(0,$e.of)(!0)}(z.route,k),function(T,C,E){const k=C[C.length-1],ie=C.slice(0,C.length-1).reverse().map(Ae=>function(T){const C=T.routeConfig?T.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:T,guards:C}:null}(Ae)).filter(Ae=>null!==Ae).map(Ae=>xt(()=>{const Ve=Ae.guards.map(St=>{const fn=Hs(St,Ae.node,E);let Tr;if(function(T){return T&&B(T.canActivateChild)}(fn))Tr=In(fn.canActivateChild(k,T));else{if(!B(fn))throw new Error("Invalid CanActivateChild guard");Tr=In(fn(k,T))}return Tr.pipe(Mn())});return(0,$e.of)(Ve).pipe(J())}));return(0,$e.of)(ie).pipe(J())}(T,z.path,E),function(T,C,E){const k=C.routeConfig?C.routeConfig.canActivate:null;if(!k||0===k.length)return(0,$e.of)(!0);const z=k.map(ie=>xt(()=>{const Ae=Hs(ie,C,E);let Ve;if(function(T){return T&&B(T.canActivate)}(Ae))Ve=In(Ae.canActivate(C,T));else{if(!B(Ae))throw new Error("Invalid CanActivate guard");Ve=In(Ae(C,T))}return Ve.pipe(Mn())}));return(0,$e.of)(z).pipe(J())}(T,z.route,E))),Mn(z=>!0!==z,!0))}(k,ie,T,C):(0,$e.of)(Ve)),(0,Sn.U)(Ve=>Object.assign(Object.assign({},E),{guardsResult:Ve})))})}(this.ngModule.injector,Ve=>this.triggerEvent(Ve)),(0,ar.b)(Ve=>{if(Pe(Ve.guardsResult)){const fn=we(`Redirecting to "${this.serializeUrl(Ve.guardsResult)}"`);throw fn.url=Ve.guardsResult,fn}const St=new gn(Ve.id,this.serializeUrl(Ve.extractedUrl),this.serializeUrl(Ve.urlAfterRedirects),Ve.targetSnapshot,!!Ve.guardsResult);this.triggerEvent(St)}),(0,ze.h)(Ve=>!!Ve.guardsResult||(this.restoreHistory(Ve),this.cancelNavigationTransition(Ve,""),!1)),Wn(Ve=>{if(Ve.guards.canActivateChecks.length)return(0,$e.of)(Ve).pipe((0,ar.b)(St=>{const fn=new lr(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);this.triggerEvent(fn)}),(0,fr.w)(St=>{let fn=!1;return(0,$e.of)(St).pipe(function(T,C){return(0,He.zg)(E=>{const{targetSnapshot:k,guards:{canActivateChecks:z}}=E;if(!z.length)return(0,$e.of)(E);let ie=0;return(0,ft.D)(z).pipe(Ge(Ae=>function(T,C,E,k){return function(T,C,E,k){const z=Object.keys(T);if(0===z.length)return(0,$e.of)({});const ie={};return(0,ft.D)(z).pipe((0,He.zg)(Ae=>function(T,C,E,k){const z=Hs(T,C,k);return In(z.resolve?z.resolve(C,E):z(C,E))}(T[Ae],C,E,k).pipe((0,ar.b)(Ve=>{ie[Ae]=Ve}))),It(1),(0,He.zg)(()=>Object.keys(ie).length===z.length?(0,$e.of)(ie):_t.E))}(T._resolve,T,C,k).pipe((0,Sn.U)(ie=>(T._resolvedData=ie,T.data=Object.assign(Object.assign({},T.data),ni(T,E).resolve),null)))}(Ae.route,k,T,C)),(0,ar.b)(()=>ie++),It(1),(0,He.zg)(Ae=>ie===z.length?(0,$e.of)(E):_t.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ar.b)({next:()=>fn=!0,complete:()=>{fn||(this.restoreHistory(St),this.cancelNavigationTransition(St,"At least one route resolver didn't emit any value."))}}))}),(0,ar.b)(St=>{const fn=new jr(St.id,this.serializeUrl(St.extractedUrl),this.serializeUrl(St.urlAfterRedirects),St.targetSnapshot);this.triggerEvent(fn)}))}),Wn(Ve=>{const{targetSnapshot:St,id:fn,extractedUrl:Tr,rawUrl:yn,extras:{skipLocationChange:Xr,replaceUrl:qn}}=Ve;return this.hooks.afterPreactivation(St,{navigationId:fn,appliedUrlTree:Tr,rawUrlTree:yn,skipLocationChange:!!Xr,replaceUrl:!!qn})}),(0,Sn.U)(Ve=>{const St=function(T,C,E){const k=Me(T,C._root,E?E._root:void 0);return new Gr(k,C)}(this.routeReuseStrategy,Ve.targetSnapshot,Ve.currentRouterState);return Object.assign(Object.assign({},Ve),{targetRouterState:St})}),(0,ar.b)(Ve=>{this.currentUrlTree=Ve.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ve.urlAfterRedirects,Ve.rawUrl),this.routerState=Ve.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ve.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ve),this.browserUrlTree=Ve.urlAfterRedirects)}),((T,C,E)=>(0,Sn.U)(k=>(new ts(C,k.targetRouterState,k.currentRouterState,E).activate(T),k)))(this.rootContexts,this.routeReuseStrategy,Ve=>this.triggerEvent(Ve)),(0,ar.b)({next(){ie=!0},complete(){ie=!0}}),function(T){return C=>C.lift(new jn(T))}(()=>{var Ve;if(!ie&&!Ae){const St=`Navigation ID ${z.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(z),this.cancelNavigationTransition(z,St)):this.cancelNavigationTransition(z,St)}(null===(Ve=this.currentNavigation)||void 0===Ve?void 0:Ve.id)===z.id&&(this.currentNavigation=null)}),je(Ve=>{if(Ae=!0,function(T){return T&&T[Se]}(Ve)){const St=Pe(Ve.url);St||(this.navigated=!0,this.restoreHistory(z,!0));const fn=new Vt(z.id,this.serializeUrl(z.extractedUrl),Ve.message);k.next(fn),St?setTimeout(()=>{const Tr=this.urlHandlingStrategy.merge(Ve.url,this.rawUrlTree),yn={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jc(z.source)};this.scheduleNavigation(Tr,"imperative",null,yn,{resolve:z.resolve,reject:z.reject,promise:z.promise})},0):z.resolve(!1)}else{this.restoreHistory(z,!0);const St=new er(z.id,this.serializeUrl(z.extractedUrl),Ve);k.next(St);try{z.resolve(this.errorHandler(Ve))}catch(fn){z.reject(fn)}}return _t.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}getTransition(){const E=this.transitions.value;return E.urlAfterRedirects=this.browserUrlTree,E}setTransition(E){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),E))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const k=this.extractLocationChangeInfoFromEvent(E);this.shouldScheduleNavigation(this.lastLocationChangeInfo,k)&&setTimeout(()=>{const{source:z,state:ie,urlTree:Ae}=k,Ve={replaceUrl:!0};if(ie){const St=Object.assign({},ie);delete St.navigationId,delete St.\u0275routerPageId,0!==Object.keys(St).length&&(Ve.state=St)}this.scheduleNavigation(Ae,z,ie,Ve)},0),this.lastLocationChangeInfo=k}))}extractLocationChangeInfoFromEvent(E){var k;return{source:"popstate"===E.type?"popstate":"hashchange",urlTree:this.parseUrl(E.url),state:(null===(k=E.state)||void 0===k?void 0:k.navigationId)?E.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(E,k){if(!E)return!0;const z=k.urlTree.toString()===E.urlTree.toString();return k.transitionId!==E.transitionId||!z||!("hashchange"===k.source&&"popstate"===E.source||"popstate"===k.source&&"hashchange"===E.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){Kt(E),this.config=E.map(li),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,k={}){const{relativeTo:z,queryParams:ie,fragment:Ae,queryParamsHandling:Ve,preserveFragment:St}=k,fn=z||this.routerState.root,Tr=St?this.currentUrlTree.fragment:Ae;let yn=null;switch(Ve){case"merge":yn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ie);break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=ie||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),function(T,C,E,k,z){if(0===E.length)return Or(C.root,C.root,C,k,z);const ie=function(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new es(!0,0,T);let C=0,E=!1;const k=T.reduce((z,ie,Ae)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Ve={};return pr(ie.outlets,(St,fn)=>{Ve[fn]="string"==typeof St?St.split("/"):St}),[...z,{outlets:Ve}]}if(ie.segmentPath)return[...z,ie.segmentPath]}return"string"!=typeof ie?[...z,ie]:0===Ae?(ie.split("/").forEach((Ve,St)=>{0==St&&"."===Ve||(0==St&&""===Ve?E=!0:".."===Ve?C++:""!=Ve&&z.push(Ve))}),z):[...z,ie]},[]);return new es(E,C,k)}(E);if(ie.toRoot())return Or(C.root,new pn([],{}),C,k,z);const Ae=function(T,C,E){if(T.isAbsolute)return new $s(C.root,!0,0);if(-1===E.snapshot._lastPathIndex){const ie=E.snapshot._urlSegment;return new $s(ie,ie===C.root,0)}const k=An(T.commands[0])?0:1;return function(T,C,E){let k=T,z=C,ie=E;for(;ie>z;){if(ie-=z,k=k.parent,!k)throw new Error("Invalid number of '../'");z=k.segments.length}return new $s(k,!1,z-ie)}(E.snapshot._urlSegment,E.snapshot._lastPathIndex+k,T.numberOfDoubleDots)}(ie,C,T),Ve=Ae.processChildren?Us(Ae.segmentGroup,Ae.index,ie.commands):bi(Ae.segmentGroup,Ae.index,ie.commands);return Or(Ae.segmentGroup,Ve,C,k,z)}(fn,this.currentUrlTree,E,yn,null!=Tr?Tr:null)}navigateByUrl(E,k={skipLocationChange:!1}){const z=Pe(E)?E:this.parseUrl(E),ie=this.urlHandlingStrategy.merge(z,this.rawUrlTree);return this.scheduleNavigation(ie,"imperative",null,k)}navigate(E,k={skipLocationChange:!1}){return function(T){for(let C=0;C<T.length;C++){const E=T[C];if(null==E)throw new Error(`The requested path contains ${E} segment at index ${C}`)}}(E),this.navigateByUrl(this.createUrlTree(E,k),k)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let k;try{k=this.urlSerializer.parse(E)}catch(z){k=this.malformedUriErrorHandler(z,this.urlSerializer,E)}return k}isActive(E,k){let z;if(z=!0===k?Object.assign({},el):!1===k?Object.assign({},tl):k,Pe(E))return Qt(this.currentUrlTree,E,z);const ie=this.parseUrl(E);return Qt(this.currentUrlTree,ie,z)}removeEmptyProps(E){return Object.keys(E).reduce((k,z)=>{const ie=E[z];return null!=ie&&(k[z]=ie),k},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Pt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,k,z,ie,Ae){var Ve,St;if(this.disposed)return Promise.resolve(!1);const fn=this.getTransition(),Tr=jc(k)&&fn&&!jc(fn.source),qn=(this.lastSuccessfulId===fn.id||this.currentNavigation?fn.rawUrl:fn.urlAfterRedirects).toString()===E.toString();if(Tr&&qn)return Promise.resolve(!0);let $r,qo,as;Ae?($r=Ae.resolve,qo=Ae.reject,as=Ae.promise):as=new Promise((gr,pc)=>{$r=gr,qo=pc});const ms=++this.navigationId;let Eo;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(z=this.location.getState()),Eo=z&&z.\u0275routerPageId?z.\u0275routerPageId:ie.replaceUrl||ie.skipLocationChange?null!==(Ve=this.browserPageId)&&void 0!==Ve?Ve:0:(null!==(St=this.browserPageId)&&void 0!==St?St:0)+1):Eo=0,this.setTransition({id:ms,targetPageId:Eo,source:k,restoredState:z,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:ie,resolve:$r,reject:qo,promise:as,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),as.catch(gr=>Promise.reject(gr))}setBrowserUrl(E,k){const z=this.urlSerializer.serialize(E),ie=Object.assign(Object.assign({},k.extras.state),this.generateNgRouterState(k.id,k.targetPageId));this.location.isCurrentPathEqualTo(z)||k.extras.replaceUrl?this.location.replaceState(z,"",ie):this.location.go(z,"",ie)}restoreHistory(E,k=!1){var z,ie;if("computed"===this.canceledNavigationResolution){const Ae=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)||0===Ae?this.currentUrlTree===(null===(ie=this.currentNavigation)||void 0===ie?void 0:ie.finalUrl)&&0===Ae&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ae)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,k){const z=new Vt(E.id,this.serializeUrl(E.extractedUrl),k);this.triggerEvent(z),E.resolve(!1)}generateNgRouterState(E,k){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:k}:{navigationId:E}}}return T.\u0275fac=function(E){return new(E||T)(R.LFG(R.DyG),R.LFG(Pr),R.LFG(kt),R.LFG(_.Ye),R.LFG(R.zs3),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(void 0))},T.\u0275prov=R.Yz7({token:T,factory:T.\u0275fac}),T})();function jc(T){return"imperative"!==T}let hc=(()=>{class T{constructor(E,k,z,ie,Ae){this.router=E,this.route=k,this.commands=[],this.onChanges=new Xe.xQ,null==z&&ie.setAttribute(Ae.nativeElement,"tabindex","0")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:[]}onClick(){const E={skipLocationChange:hr(this.skipLocationChange),replaceUrl:hr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:hr(this.preserveFragment)})}}return T.\u0275fac=function(E){return new(E||T)(R.Y36(Ri),R.Y36(Kr),R.$8M("tabindex"),R.Y36(R.Qsj),R.Y36(R.SBq))},T.\u0275dir=R.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,k){1&E&&R.NdJ("click",function(){return k.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[R.TTD]}),T})();function hr(T){return""===T||!!T}let Wr=(()=>{class T{constructor(E,k,z,ie,Ae){this.parentContexts=E,this.location=k,this.resolver=z,this.changeDetector=Ae,this.activated=null,this._activatedRoute=null,this.activateEvents=new R.vpe,this.deactivateEvents=new R.vpe,this.name=ie||Ot,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,E}attach(E,k){this.activated=E,this._activatedRoute=k,this.location.insert(E.hostView)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,k){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=E;const Ae=(k=k||this.resolver).resolveComponentFactory(E._futureSnapshot.routeConfig.component),Ve=this.parentContexts.getOrCreateContext(this.name).children,St=new Jn(E,Ve,this.location.injector);this.activated=this.location.createComponent(Ae,this.location.length,St),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(E){return new(E||T)(R.Y36(kt),R.Y36(R.s_b),R.Y36(R._Vd),R.$8M("name"),R.Y36(R.sBO))},T.\u0275dir=R.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),T})();class Jn{constructor(C,E,k){this.route=C,this.childContexts=E,this.parent=k}get(C,E){return C===Kr?this.route:C===kt?this.childContexts:this.parent.get(C,E)}}class ma{}class zr{preload(C,E){return E().pipe(je(()=>(0,$e.of)(null)))}}class Fo{preload(C,E){return(0,$e.of)(null)}}let Ai=(()=>{class T{constructor(E,k,z,ie,Ae){this.router=E,this.injector=ie,this.preloadingStrategy=Ae,this.loader=new nn(k,z,fn=>E.triggerEvent(new Dn(fn)),fn=>E.triggerEvent(new Lr(fn)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ze.h)(E=>E instanceof Pt),Ge(()=>this.preload())).subscribe(()=>{})}preload(){const E=this.injector.get(R.h0i);return this.processRoutes(E,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,k){const z=[];for(const ie of k)if(ie.loadChildren&&!ie.canLoad&&ie._loadedConfig){const Ae=ie._loadedConfig;z.push(this.processRoutes(Ae.module,Ae.routes))}else ie.loadChildren&&!ie.canLoad?z.push(this.preloadConfig(E,ie)):ie.children&&z.push(this.processRoutes(E,ie.children));return(0,ft.D)(z).pipe((0,ht.J)(),(0,Sn.U)(ie=>{}))}preloadConfig(E,k){return this.preloadingStrategy.preload(k,()=>(k._loadedConfig?(0,$e.of)(k._loadedConfig):this.loader.load(E.injector,k)).pipe((0,He.zg)(ie=>(k._loadedConfig=ie,this.processRoutes(ie.module,ie.routes)))))}}return T.\u0275fac=function(E){return new(E||T)(R.LFG(Ri),R.LFG(R.v3s),R.LFG(R.Sil),R.LFG(R.zs3),R.LFG(ma))},T.\u0275prov=R.Yz7({token:T,factory:T.\u0275fac}),T})(),on=(()=>{class T{constructor(E,k,z={}){this.router=E,this.viewportScroller=k,this.options=z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},z.scrollPositionRestoration=z.scrollPositionRestoration||"disabled",z.anchorScrolling=z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof Ln?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Pt&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof $t&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,k){this.router.triggerEvent(new $t(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(E){return new(E||T)(R.LFG(Ri),R.LFG(_.EM),R.LFG(void 0))},T.\u0275prov=R.Yz7({token:T,factory:T.\u0275fac}),T})();const Os=new R.OlP("ROUTER_CONFIGURATION"),bo=new R.OlP("ROUTER_FORROOT_GUARD"),qa=[_.Ye,{provide:Pr,useClass:Zn},{provide:Ri,useFactory:function(T,C,E,k,z,ie,Ae,Ve={},St,fn){const Tr=new Ri(null,T,C,E,k,z,ie,cr(Ae));return St&&(Tr.urlHandlingStrategy=St),fn&&(Tr.routeReuseStrategy=fn),function(T,C){T.errorHandler&&(C.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(C.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(C.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(C.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(C.urlUpdateStrategy=T.urlUpdateStrategy)}(Ve,Tr),Ve.enableTracing&&Tr.events.subscribe(yn=>{var Xr,qn;null===(Xr=console.group)||void 0===Xr||Xr.call(console,`Router Event: ${yn.constructor.name}`),console.log(yn.toString()),console.log(yn),null===(qn=console.groupEnd)||void 0===qn||qn.call(console)}),Tr},deps:[Pr,kt,_.Ye,R.zs3,R.v3s,R.Sil,zs,Os,[class{},new R.FiY],[Qr,new R.FiY]]},kt,{provide:Kr,useFactory:function(T){return T.routerState.root},deps:[Ri]},{provide:R.v3s,useClass:R.EAV},Ai,Fo,zr,{provide:Os,useValue:{enableTracing:!1}}];function Hc(){return new R.PXZ("Router",Ri)}let Ya=(()=>{class T{constructor(E,k){}static forRoot(E,k){return{ngModule:T,providers:[qa,Lo(E),{provide:bo,useFactory:ss,deps:[[Ri,new R.FiY,new R.tp0]]},{provide:Os,useValue:k||{}},{provide:_.S$,useFactory:ya,deps:[_.lw,[new R.tBr(_.mr),new R.FiY],Os]},{provide:on,useFactory:sa,deps:[Ri,_.EM,Os]},{provide:ma,useExisting:k&&k.preloadingStrategy?k.preloadingStrategy:Fo},{provide:R.PXZ,multi:!0,useFactory:Hc},[Wo,{provide:R.ip1,multi:!0,useFactory:at,deps:[Wo]},{provide:os,useFactory:ks,deps:[Wo]},{provide:R.tb,multi:!0,useExisting:os}]]}}static forChild(E){return{ngModule:T,providers:[Lo(E)]}}}return T.\u0275fac=function(E){return new(E||T)(R.LFG(bo,8),R.LFG(Ri,8))},T.\u0275mod=R.oAB({type:T}),T.\u0275inj=R.cJS({}),T})();function sa(T,C,E){return E.scrollOffset&&C.setOffset(E.scrollOffset),new on(T,C,E)}function ya(T,C,E={}){return E.useHash?new _.Do(T,C):new _.b0(T,C)}function ss(T){return"guarded"}function Lo(T){return[{provide:R.deG,multi:!0,useValue:T},{provide:zs,multi:!0,useValue:T}]}let Wo=(()=>{class T{constructor(E){this.injector=E,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xe.xQ}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let k=null;const z=new Promise(Ve=>k=Ve),ie=this.injector.get(Ri),Ae=this.injector.get(Os);return"disabled"===Ae.initialNavigation?(ie.setUpLocationChangeListener(),k(!0)):"enabled"===Ae.initialNavigation||"enabledBlocking"===Ae.initialNavigation?(ie.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,k(!0),this.resultOfPreactivationDone),ie.initialNavigation()):k(!0),z})}bootstrapListener(E){const k=this.injector.get(Os),z=this.injector.get(Ai),ie=this.injector.get(on),Ae=this.injector.get(Ri),Ve=this.injector.get(R.z2F);E===Ve.components[0]&&(("enabledNonBlocking"===k.initialNavigation||void 0===k.initialNavigation)&&Ae.initialNavigation(),z.setUpPreloading(),ie.init(),Ae.resetRootComponentType(Ve.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return T.\u0275fac=function(E){return new(E||T)(R.LFG(R.zs3))},T.\u0275prov=R.Yz7({token:T,factory:T.\u0275fac}),T})();function at(T){return T.appInitializer.bind(T)}function ks(T){return T.bootstrapListener.bind(T)}const os=new R.OlP("Router Initializer")},8384:(rn,et,H)=>{"use strict";H.d(et,{dV:()=>se,Uw:()=>Ze,fo:()=>fe});var _=H(8239);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var pe=(()=>{return(be=pe||(pe={})).Unimplemented="UNIMPLEMENTED",be.Unavailable="UNAVAILABLE",pe;var be})();class Ee extends Error{constructor(Q,ae,oe){super(Q),this.message=Q,this.code=ae,this.data=oe}}const ne=be=>{var Q,ae,oe,ve,je;const vt=be.CapacitorCustomPlatform||null,Oe=be.Capacitor||{},He=Oe.Plugins=Oe.Plugins||{},Ge=be.CapacitorPlatforms,tt=(null===(Q=null==Ge?void 0:Ge.currentPlatform)||void 0===Q?void 0:Q.getPlatform)||(()=>null!==vt?vt.name:(be=>{var Q,ae;return(null==be?void 0:be.androidBridge)?"android":(null===(ae=null===(Q=null==be?void 0:be.webkit)||void 0===Q?void 0:Q.messageHandlers)||void 0===ae?void 0:ae.bridge)?"ios":"web"})(be)),Ft=(null===(ae=null==Ge?void 0:Ge.currentPlatform)||void 0===ae?void 0:ae.isNativePlatform)||(()=>"web"!==tt()),Nt=(null===(oe=null==Ge?void 0:Ge.currentPlatform)||void 0===oe?void 0:oe.isPluginAvailable)||(gt=>{const Zt=Xn.get(gt);return!(!(null==Zt?void 0:Zt.platforms.has(tt()))&&!On(gt))}),On=(null===(ve=null==Ge?void 0:Ge.currentPlatform)||void 0===ve?void 0:ve.getPluginHeader)||(gt=>{var Zt;return null===(Zt=Oe.PluginHeaders)||void 0===Zt?void 0:Zt.find(Mn=>Mn.name===gt)}),Xn=new Map,Yn=(null===(je=null==Ge?void 0:Ge.currentPlatform)||void 0===je?void 0:je.registerPlugin)||((gt,Zt={})=>{const Mn=Xn.get(gt);if(Mn)return console.warn(`Capacitor plugin "${gt}" already registered. Cannot register plugins twice.`),Mn.proxy;const Hn=tt(),Vn=On(gt);let jn;const Yr=function(){var Pt=(0,_.Z)(function*(){return!jn&&Hn in Zt?jn=jn="function"==typeof Zt[Hn]?yield Zt[Hn]():Zt[Hn]:null!==vt&&!jn&&"web"in Zt&&(jn=jn="function"==typeof Zt.web?yield Zt.web():Zt.web),jn});return function(){return Pt.apply(this,arguments)}}(),fr=Pt=>{let Vt;const er=(...yr)=>{const yt=Yr().then(gn=>{const lr=((Pt,Vt)=>{var er,yr;if(!Vn){if(Pt)return null===(yr=Pt[Vt])||void 0===yr?void 0:yr.bind(Pt);throw new Ee(`"${gt}" plugin is not implemented on ${Hn}`,pe.Unimplemented)}{const yt=null==Vn?void 0:Vn.methods.find(gn=>Vt===gn.name);if(yt)return"promise"===yt.rtype?gn=>Oe.nativePromise(gt,Vt.toString(),gn):(gn,lr)=>Oe.nativeCallback(gt,Vt.toString(),gn,lr);if(Pt)return null===(er=Pt[Vt])||void 0===er?void 0:er.bind(Pt)}})(gn,Pt);if(lr){const jr=lr(...yr);return Vt=null==jr?void 0:jr.remove,jr}throw new Ee(`"${gt}.${Pt}()" is not implemented on ${Hn}`,pe.Unimplemented)});return"addListener"===Pt&&(yt.remove=(0,_.Z)(function*(){return Vt()})),yt};return er.toString=()=>`${Pt.toString()}() { [capacitor code] }`,Object.defineProperty(er,"name",{value:Pt,writable:!1,configurable:!1}),er},ar=fr("addListener"),Fr=fr("removeListener"),en=(Pt,Vt)=>{const er=ar({eventName:Pt},Vt),yr=function(){var gn=(0,_.Z)(function*(){const lr=yield er;Fr({eventName:Pt,callbackId:lr},Vt)});return function(){return gn.apply(this,arguments)}}(),yt=new Promise(gn=>er.then(()=>gn({remove:yr})));return yt.remove=(0,_.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield yr()}),yt},Ln=new Proxy({},{get(Pt,Vt){switch(Vt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Vn?en:ar;case"removeListener":return Fr;default:return fr(Vt)}}});return He[gt]=Ln,Xn.set(gt,{name:gt,proxy:Ln,platforms:new Set([...Object.keys(Zt),...Vn?[Hn]:[]])}),Ln});return Oe.convertFileSrc||(Oe.convertFileSrc=gt=>gt),Oe.getPlatform=tt,Oe.handleError=gt=>be.console.error(gt),Oe.isNativePlatform=Ft,Oe.isPluginAvailable=Nt,Oe.pluginMethodNoop=(gt,Zt,Mn)=>Promise.reject(`${Mn} does not have an implementation of "${Zt}".`),Oe.registerPlugin=Yn,Oe.Exception=Ee,Oe.DEBUG=!!Oe.DEBUG,Oe.isLoggingEnabled=!!Oe.isLoggingEnabled,Oe.platform=Oe.getPlatform(),Oe.isNative=Oe.isNativePlatform(),Oe},se=(be=>be.Capacitor=ne(be))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),fe=se.registerPlugin;class Ze{constructor(Q){this.listeners={},this.windowListeners={},Q&&(console.warn(`Capacitor WebPlugin "${Q.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Q)}addListener(Q,ae){var oe=this;this.listeners[Q]||(this.listeners[Q]=[]),this.listeners[Q].push(ae);const je=this.windowListeners[Q];je&&!je.registered&&this.addWindowListener(je);const vt=function(){var He=(0,_.Z)(function*(){return oe.removeListener(Q,ae)});return function(){return He.apply(this,arguments)}}(),Oe=Promise.resolve({remove:vt});return Object.defineProperty(Oe,"remove",{value:(He=(0,_.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield vt()}),function(){return He.apply(this,arguments)})}),Oe;var He}removeAllListeners(){var Q=this;return(0,_.Z)(function*(){Q.listeners={};for(const ae in Q.windowListeners)Q.removeWindowListener(Q.windowListeners[ae]);Q.windowListeners={}})()}notifyListeners(Q,ae){const oe=this.listeners[Q];oe&&oe.forEach(ve=>ve(ae))}hasListeners(Q){return!!this.listeners[Q].length}registerWindowListener(Q,ae){this.windowListeners[ae]={registered:!1,windowEventName:Q,pluginEventName:ae,handler:oe=>{this.notifyListeners(ae,oe)}}}unimplemented(Q="not implemented"){return new se.Exception(Q,pe.Unimplemented)}unavailable(Q="not available"){return new se.Exception(Q,pe.Unavailable)}removeListener(Q,ae){var oe=this;return(0,_.Z)(function*(){const ve=oe.listeners[Q];if(!ve)return;const je=ve.indexOf(ae);oe.listeners[Q].splice(je,1),oe.listeners[Q].length||oe.removeWindowListener(oe.windowListeners[Q])})()}addWindowListener(Q){window.addEventListener(Q.windowEventName,Q.handler),Q.registered=!0}removeWindowListener(Q){!Q||(window.removeEventListener(Q.windowEventName,Q.handler),Q.registered=!1)}}const ht=be=>encodeURIComponent(be).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class Le extends Ze{setCookie(Q){return(0,_.Z)(function*(){try{const ae=ht(Q.key),oe=ht(Q.value),ve=`; expires=${(Q.expires||"").replace("expires=","")}`,je=(Q.path||"/").replace("path=","");document.cookie=`${ae}=${oe||""}${ve}; path=${je}`}catch(ae){return Promise.reject(ae)}})()}deleteCookie(Q){return(0,_.Z)(function*(){try{document.cookie=`${Q.key}=; Max-Age=0`}catch(ae){return Promise.reject(ae)}})()}clearCookies(){return(0,_.Z)(function*(){try{const Q=document.cookie.split(";")||[];for(const ae of Q)document.cookie=ae.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Q){return Promise.reject(Q)}})()}clearAllCookies(){var Q=this;return(0,_.Z)(function*(){try{yield Q.clearCookies()}catch(ae){return Promise.reject(ae)}})()}}fe("CapacitorCookies",{web:()=>new Le});const ft=function(){var be=(0,_.Z)(function*(Q){return new Promise((ae,oe)=>{const ve=new FileReader;ve.onload=()=>{const je=ve.result;ae(je.indexOf(",")>=0?je.split(",")[1]:je)},ve.onerror=je=>oe(je),ve.readAsDataURL(Q)})});return function(ae){return be.apply(this,arguments)}}();class Ce extends Ze{request(Q){return(0,_.Z)(function*(){const ae=((be,Q={})=>{const ae=Object.assign({method:be.method||"GET",headers:be.headers},Q),ve=((be={})=>{const Q=Object.keys(be);return Object.keys(be).map(ve=>ve.toLocaleLowerCase()).reduce((ve,je,vt)=>(ve[je]=be[Q[vt]],ve),{})})(be.headers)["content-type"]||"";if("string"==typeof be.data)ae.body=be.data;else if(ve.includes("application/x-www-form-urlencoded")){const je=new URLSearchParams;for(const[vt,Oe]of Object.entries(be.data||{}))je.set(vt,Oe);ae.body=je.toString()}else if(ve.includes("multipart/form-data")){const je=new FormData;if(be.data instanceof FormData)be.data.forEach((Oe,He)=>{je.append(He,Oe)});else for(const Oe of Object.keys(be.data))je.append(Oe,be.data[Oe]);ae.body=je;const vt=new Headers(ae.headers);vt.delete("content-type"),ae.headers=vt}else(ve.includes("application/json")||"object"==typeof be.data)&&(ae.body=JSON.stringify(be.data));return ae})(Q,Q.webFetchExtra),oe=((be,Q=!0)=>be?Object.entries(be).reduce((oe,ve)=>{const[je,vt]=ve;let Oe,He;return Array.isArray(vt)?(He="",vt.forEach(Ge=>{Oe=Q?encodeURIComponent(Ge):Ge,He+=`${je}=${Oe}&`}),He.slice(0,-1)):(Oe=Q?encodeURIComponent(vt):vt,He=`${je}=${Oe}`),`${oe}&${He}`},"").substr(1):null)(Q.params,Q.shouldEncodeUrlParams),ve=oe?`${Q.url}?${oe}`:Q.url,je=yield fetch(ve,ae),vt=je.headers.get("content-type")||"";let He,Ge,{responseType:Oe="text"}=je.ok?Q:{};switch(vt.includes("application/json")&&(Oe="json"),Oe){case"arraybuffer":case"blob":Ge=yield je.blob(),He=yield ft(Ge);break;case"json":He=yield je.json();break;default:He=yield je.text()}const ze={};return je.headers.forEach((tt,It)=>{ze[It]=tt}),{data:He,headers:ze,status:je.status,url:je.url}})()}get(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"GET"}))})()}post(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"POST"}))})()}put(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"PUT"}))})()}patch(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"PATCH"}))})()}delete(Q){var ae=this;return(0,_.Z)(function*(){return ae.request(Object.assign(Object.assign({},Q),{method:"DELETE"}))})()}}fe("CapacitorHttp",{web:()=>new Ce})},1796:(rn,et,H)=>{"use strict";H.d(et,{u:()=>R});const R=(0,H(8384).fo)("Preferences",{web:()=>H.e(5034).then(H.bind(H,5034)).then(De=>new De.PreferencesWeb)})},9311:(rn,et,H)=>{"use strict";H.d(et,{Xb:()=>No,AP:()=>Eo,uJ:()=>jn,MX:()=>Ri,e5:()=>Gs,w7:()=>hr});var _=H(8239),R=H(3854),De=H(8026),Ue=H(5422);function pe(I,d){var p={};for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&d.indexOf(D)<0&&(p[D]=I[D]);if(null!=I&&"function"==typeof Object.getOwnPropertySymbols){var K=0;for(D=Object.getOwnPropertySymbols(I);K<D.length;K++)d.indexOf(D[K])<0&&Object.prototype.propertyIsEnumerable.call(I,D[K])&&(p[D[K]]=I[D[K]])}return p}var ve=H(3910);const Ft=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},sn=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$n=new Ue.Yd("@firebase/auth");function On(I,...d){$n.logLevel<=Ue.in.ERROR&&$n.error(`Auth (${De.Jn}): ${I}`,...d)}function Xt(I,...d){throw Yn(I,...d)}function _n(I,...d){return Yn(I,...d)}function Xn(I,d,p){const D=Object.assign(Object.assign({},Ft()),{[d]:p});return new R.LL("auth","Firebase",D).create(d,{appName:I.name})}function Yn(I,...d){if("string"!=typeof I){const p=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=I.name),I._errorFactory.create(p,...D)}return sn.create(I,...d)}function gt(I,d,...p){if(!I)throw Yn(d,...p)}function Zt(I){const d="INTERNAL ASSERTION FAILED: "+I;throw On(d),new Error(d)}function Mn(I,d){I||Zt(d)}const Hn=new Map;function Vn(I){Mn(I instanceof Function,"Expected a class definition");let d=Hn.get(I);return d?(Mn(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,Hn.set(I,d),d)}function jn(I,d){const p=(0,De.qX)(I,"auth");if(p.isInitialized()){const K=p.getImmediate(),re=p.getOptions();if((0,R.vZ)(re,null!=d?d:{}))return K;Xt(K,"already-initialized")}return p.initialize({options:d})}function ar(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ln{constructor(d,p){this.shortDelay=d,this.longDelay=p,Mn(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===ar()||"https:"===ar()||(0,R.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class Vt{static initialize(d,p,D){this.fetchImpl=d,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const er={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yr=new Ln(3e4,6e4);function yt(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function gn(I,d,p,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,_.Z)(function*(I,d,p,D,K={}){return jr(I,K,(0,_.Z)(function*(){let re={},Ke={};D&&("GET"===d?Ke=D:re={body:JSON.stringify(D)});const At=(0,R.xO)(Object.assign({key:I.config.apiKey},Ke)).slice(1),mn=yield I._getAdditionalHeaders();return mn["Content-Type"]="application/json",I.languageCode&&(mn["X-Firebase-Locale"]=I.languageCode),Vt.fetch()(ui(I,I.config.apiHost,p,At),Object.assign({method:d,headers:mn,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function jr(I,d,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,_.Z)(function*(I,d,p){I._canInitEmulator=!1;const D=Object.assign(Object.assign({},er),d);try{const K=new Gt(I),re=yield Promise.race([p(),K.promise]);K.clearNetworkTimeout();const Ke=yield re.json();if("needConfirmation"in Ke)throw it(I,"account-exists-with-different-credential",Ke);if(re.ok&&!("errorMessage"in Ke))return Ke;{const At=re.ok?Ke.errorMessage:Ke.error.message,[mn,an]=At.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mn)throw it(I,"credential-already-in-use",Ke);if("EMAIL_EXISTS"===mn)throw it(I,"email-already-in-use",Ke);if("USER_DISABLED"===mn)throw it(I,"user-disabled",Ke);const nr=D[mn]||mn.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw Xn(I,nr,an);Xt(I,nr)}}catch(K){if(K instanceof R.ZR)throw K;Xt(I,"network-request-failed")}})).apply(this,arguments)}function Lr(I,d,p,D){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,_.Z)(function*(I,d,p,D,K={}){const re=yield gn(I,d,p,D,K);return"mfaPendingCredential"in re&&Xt(I,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function ui(I,d,p,D){const K=`${d}${p}?${D}`;return I.config.emulator?function(I,d){Mn(I.emulator,"Emulator should always be set here");const{url:p}=I.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}(I.config,K):`${I.config.apiScheme}://${K}`}class Gt{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(_n(this.auth,"network-request-failed")),yr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function it(I,d,p){const D={appName:I.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const K=_n(I,d,D);return K.customData._tokenResponse=p,K}function Ot(){return(Ot=(0,_.Z)(function*(I,d){return gn(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Se(I,d){return we.apply(this,arguments)}function we(){return(we=(0,_.Z)(function*(I,d){return gn(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Be(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function Jt(){return(Jt=(0,_.Z)(function*(I,d=!1){const p=(0,R.m9)(I),D=yield p.getIdToken(d),K=cr(D);gt(K&&K.exp&&K.auth_time&&K.iat,p.auth,"internal-error");const re="object"==typeof K.firebase?K.firebase:void 0,Ke=null==re?void 0:re.sign_in_provider;return{claims:K,token:D,authTime:Be(En(K.auth_time)),issuedAtTime:Be(En(K.iat)),expirationTime:Be(En(K.exp)),signInProvider:Ke||null,signInSecondFactor:(null==re?void 0:re.sign_in_second_factor)||null}})).apply(this,arguments)}function En(I){return 1e3*Number(I)}function cr(I){var d;const[p,D,K]=I.split(".");if(void 0===p||void 0===D||void 0===K)return On("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,R.tV)(D);return re?JSON.parse(re):(On("Failed to decode base64 JWT payload"),null)}catch(re){return On("Caught error parsing JWT payload as JSON",null===(d=re)||void 0===d?void 0:d.toString()),null}}function ir(I,d){return pr.apply(this,arguments)}function pr(){return(pr=(0,_.Z)(function*(I,d,p=!1){if(p)return d;try{return yield d}catch(D){throw D instanceof R.ZR&&In(D)&&I.auth.currentUser===I&&(yield I.auth.signOut()),D}})).apply(this,arguments)}function In({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class wr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const K=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,_.Z)(function*(){yield p.iteration()}),D)}iteration(){var d=this;return(0,_.Z)(function*(){var p;try{yield d.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(p=D)||void 0===p?void 0:p.code)&&d.schedule(!0))}d.schedule()})()}}class si{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Be(this.lastLoginAt),this.creationTime=Be(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qt(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,_.Z)(function*(I){var d;const p=I.auth,D=yield I.getIdToken(),K=yield ir(I,Se(p,{idToken:D}));gt(null==K?void 0:K.users.length,p,"internal-error");const re=K.users[0];I._notifyReloadListener(re);const Ke=(null===(d=re.providerUserInfo)||void 0===d?void 0:d.length)?Dr(re.providerUserInfo):[],At=mr(I.providerData,Ke),nr=!!I.isAnonymous&&!(I.email&&re.passwordHash||(null==At?void 0:At.length)),ai={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:At,metadata:new si(re.createdAt,re.lastLoginAt),isAnonymous:nr};Object.assign(I,ai)})).apply(this,arguments)}function dr(){return(dr=(0,_.Z)(function*(I){const d=(0,R.m9)(I);yield qt(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function mr(I,d){return[...I.filter(D=>!d.some(K=>K.providerId===D.providerId)),...d]}function Dr(I){return I.map(d=>{var{providerId:p}=d,D=pe(d,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Rn(){return(Rn=(0,_.Z)(function*(I,d){const p=yield jr(I,{},(0,_.Z)(function*(){const D=(0,R.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:K,apiKey:re}=I.config,Ke=ui(I,K,"/v1/token",`key=${re}`),At=yield I._getAdditionalHeaders();return At["Content-Type"]="application/x-www-form-urlencoded",Vt.fetch()(Ke,{method:"POST",headers:At,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){gt(d.idToken,"internal-error"),gt(void 0!==d.idToken,"internal-error"),gt(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function(I){const d=cr(I);return gt(d,"internal-error"),gt(void 0!==d.exp,"internal-error"),gt(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var D=this;return(0,_.Z)(function*(){return gt(!D.accessToken||D.refreshToken,d,"user-token-expired"),p||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var D=this;return(0,_.Z)(function*(){const{accessToken:K,refreshToken:re,expiresIn:Ke}=yield function(I,d){return Rn.apply(this,arguments)}(d,p);D.updateTokensAndExpiration(K,re,Number(Ke))})()}updateTokensAndExpiration(d,p,D){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,p){const{refreshToken:D,accessToken:K,expirationTime:re}=p,Ke=new zt;return D&&(gt("string"==typeof D,"internal-error",{appName:d}),Ke.refreshToken=D),K&&(gt("string"==typeof K,"internal-error",{appName:d}),Ke.accessToken=K),re&&(gt("number"==typeof re,"internal-error",{appName:d}),Ke.expirationTime=re),Ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function pn(I,d){gt("string"==typeof I||void 0===I,"internal-error",{appName:d})}class Yt{constructor(d){var{uid:p,auth:D,stsTokenManager:K}=d,re=pe(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new si(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,_.Z)(function*(){const D=yield ir(p,p.stsTokenManager.getToken(p.auth,d));return gt(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(d){return function(I){return Jt.apply(this,arguments)}(this,d)}reload(){return function(I){return dr.apply(this,arguments)}(this)}_assign(d){this!==d&&(gt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new Yt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var D=this;return(0,_.Z)(function*(){let K=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),K=!0),p&&(yield qt(D)),yield D.auth._persistUserIfCurrent(D),K&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,_.Z)(function*(){const p=yield d.getIdToken();return yield ir(d,function(I,d){return Ot.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var D,K,re,Ke,At,mn,an,nr;const ai=null!==(D=p.displayName)&&void 0!==D?D:void 0,ri=null!==(K=p.email)&&void 0!==K?K:void 0,Ks=null!==(re=p.phoneNumber)&&void 0!==re?re:void 0,yi=null!==(Ke=p.photoURL)&&void 0!==Ke?Ke:void 0,Zi=null!==(At=p.tenantId)&&void 0!==At?At:void 0,Au=null!==(mn=p._redirectEventId)&&void 0!==mn?mn:void 0,xu=null!==(an=p.createdAt)&&void 0!==an?an:void 0,Ac=null!==(nr=p.lastLoginAt)&&void 0!==nr?nr:void 0,{uid:Qo,emailVerified:ol,isAnonymous:ql,providerData:xc,stsTokenManager:Yl}=p;gt(Qo&&Yl,d,"internal-error");const sf=zt.fromJSON(this.name,Yl);gt("string"==typeof Qo,d,"internal-error"),pn(ai,d.name),pn(ri,d.name),gt("boolean"==typeof ol,d,"internal-error"),gt("boolean"==typeof ql,d,"internal-error"),pn(Ks,d.name),pn(yi,d.name),pn(Zi,d.name),pn(Au,d.name),pn(xu,d.name),pn(Ac,d.name);const Kl=new Yt({uid:Qo,auth:d,email:ri,emailVerified:ol,displayName:ai,isAnonymous:ql,photoURL:yi,phoneNumber:Ks,tenantId:Zi,stsTokenManager:sf,createdAt:xu,lastLoginAt:Ac});return xc&&Array.isArray(xc)&&(Kl.providerData=xc.map(Mu=>Object.assign({},Mu))),Au&&(Kl._redirectEventId=Au),Kl}static _fromIdTokenResponse(d,p,D=!1){return(0,_.Z)(function*(){const K=new zt;K.updateFromServerResponse(p);const re=new Yt({uid:p.localId,auth:d,stsTokenManager:K,isAnonymous:D});return yield qt(re),re})()}}const Kn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(p,D){var K=this;return(0,_.Z)(function*(){K.storage[p]=D})()}_get(p){var D=this;return(0,_.Z)(function*(){const K=D.storage[p];return void 0===K?null:K})()}_remove(p){var D=this;return(0,_.Z)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return I.type="NONE",I})();function br(I,d,p){return`firebase:${I}:${d}:${p}`}class Pr{constructor(d,p,D){this.persistence=d,this.auth=p,this.userKey=D;const{config:K,name:re}=this.auth;this.fullUserKey=br(this.userKey,K.apiKey,re),this.fullPersistenceKey=br("persistence",K.apiKey,re),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,_.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Yt._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,_.Z)(function*(){if(p.persistence===d)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,D="authUser"){return(0,_.Z)(function*(){if(!p.length)return new Pr(Vn(Kn),d,D);const K=(yield Promise.all(p.map(function(){var an=(0,_.Z)(function*(nr){if(yield nr._isAvailable())return nr});return function(nr){return an.apply(this,arguments)}}()))).filter(an=>an);let re=K[0]||Vn(Kn);const Ke=br(D,d.config.apiKey,d.name);let At=null;for(const an of p)try{const nr=yield an._get(Ke);if(nr){const ai=Yt._fromJSON(d,nr);an!==re&&(At=ai),re=an;break}}catch(nr){}const mn=K.filter(an=>an._shouldAllowMigration);return re._shouldAllowMigration&&mn.length?(re=mn[0],At&&(yield re._set(Ke,At.toJSON())),yield Promise.all(p.map(function(){var an=(0,_.Z)(function*(nr){if(nr!==re)try{yield nr._remove(Ke)}catch(ai){}});return function(nr){return an.apply(this,arguments)}}())),new Pr(re,d,D)):new Pr(re,d,D)})()}}function Zn(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(function(I=(0,R.z$)()){return/iemobile/i.test(I)}(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(function(I=(0,R.z$)()){return/firefox\//i.test(I)}(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(function(I=(0,R.z$)()){return/blackberry/i.test(I)}(d))return"Blackberry";if(function(I=(0,R.z$)()){return/webos/i.test(I)}(d))return"Webos";if(function(I=(0,R.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}(d))return"Safari";if((d.includes("chrome/")||function(I=(0,R.z$)()){return/crios\//i.test(I)}(d))&&!d.includes("edge/"))return"Chrome";if(function(I=(0,R.z$)()){return/android/i.test(I)}(d))return"Android";{const D=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function xe(I,d=[]){let p;switch(I){case"Browser":p=Zn((0,R.z$)());break;case"Worker":p=`${Zn((0,R.z$)())}-${I}`;break;default:p=I}const D=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${De.Jn}/${D}`}class ut{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const D=re=>new Promise((Ke,At)=>{try{Ke(d(re))}catch(mn){At(mn)}});D.onAbort=p,this.queue.push(D);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,_.Z)(function*(){var D;if(p.auth.currentUser===d)return;const K=[];try{for(const re of p.queue)yield re(d),re.onAbort&&K.push(re.onAbort)}catch(re){K.reverse();for(const Ke of K)try{Ke()}catch(At){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=re)||void 0===D?void 0:D.message})}})()}}class mt{constructor(d,p,D){this.app=d,this.heartbeatServiceProvider=p,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ut(this),this.idTokenSubscription=new Ut(this),this.beforeStateQueue=new ut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(d,p){var D=this;return p&&(this._popupRedirectResolver=Vn(p)),this._initializationPromise=this.queue((0,_.Z)(function*(){var K,re;if(!D._deleted&&(D.persistenceManager=yield Pr.create(D,d),!D._deleted)){if(null===(K=D._popupRedirectResolver)||void 0===K?void 0:K._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(Ke){}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(re=D.currentUser)||void 0===re?void 0:re.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,_.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,_.Z)(function*(){var D;const K=yield p.assertedPersistence.getCurrentUser();let re=K,Ke=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const At=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,mn=null==re?void 0:re._redirectEventId,an=yield p.tryRedirectSignIn(d);(!At||At===mn)&&(null==an?void 0:an.user)&&(re=an.user,Ke=!0)}if(!re)return p.directlySetCurrentUser(null);if(!re._redirectEventId){if(Ke)try{yield p.beforeStateQueue.runMiddleware(re)}catch(At){re=K,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(At))}return re?p.reloadAndSetCurrentUserOrClear(re):p.directlySetCurrentUser(null)}return gt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===re._redirectEventId?p.directlySetCurrentUser(re):p.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(d){var p=this;return(0,_.Z)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(K){yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,_.Z)(function*(){var D;try{yield qt(d)}catch(K){if("auth/network-request-failed"!==(null===(D=K)||void 0===D?void 0:D.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,_.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,_.Z)(function*(){const D=d?(0,R.m9)(d):null;return D&&gt(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(d,p=!1){var D=this;return(0,_.Z)(function*(){if(!D._deleted)return d&&gt(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),p||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,_.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,_.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,_.Z)(function*(){yield p.assertedPersistence.setPersistence(Vn(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new R.LL("auth","Firebase",d())}onAuthStateChanged(d,p,D){return this.registerStateListener(this.authStateSubscription,d,p,D)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,D){return this.registerStateListener(this.idTokenSubscription,d,p,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var D=this;return(0,_.Z)(function*(){const K=yield D.getOrInitRedirectPersistenceManager(p);return null===d?K.removeCurrentUser():K.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,_.Z)(function*(){if(!p.redirectPersistenceManager){const D=d&&Vn(d)||p._popupRedirectResolver;gt(D,p,"argument-error"),p.redirectPersistenceManager=yield Pr.create(p,[Vn(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,_.Z)(function*(){var D,K;return p._isInitialized&&(yield p.queue((0,_.Z)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===d?p._currentUser:(null===(K=p.redirectUser)||void 0===K?void 0:K._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,_.Z)(function*(){if(d===p.currentUser)return p.queue((0,_.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,D,K){if(this._deleted)return()=>{};const re="function"==typeof p?p:p.next.bind(p),Ke=this._isInitialized?Promise.resolve():this._initializationPromise;return gt(Ke,this,"internal-error"),Ke.then(()=>re(this.currentUser)),"function"==typeof p?d.addObserver(p,D,K):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,_.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,_.Z)(function*(){var p;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const K=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return K&&(D["X-Firebase-Client"]=K),D})()}}function bt(I){return(0,R.m9)(I)}class Ut{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,R.ne)(p=>this.observer=p)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kr(){return(Kr=(0,_.Z)(function*(I,d){return gn(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Es(){return(Es=(0,_.Z)(function*(I,d){return Lr(I,"POST","/v1/accounts:signInWithPassword",yt(I,d))})).apply(this,arguments)}function Gn(){return(Gn=(0,_.Z)(function*(I,d){return Lr(I,"POST","/v1/accounts:signInWithEmailLink",yt(I,d))})).apply(this,arguments)}function Ti(){return(Ti=(0,_.Z)(function*(I,d){return Lr(I,"POST","/v1/accounts:signInWithEmailLink",yt(I,d))})).apply(this,arguments)}class es extends class{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Zt("not implemented")}_getIdTokenResponse(d){return Zt("not implemented")}_linkToIdToken(d,p){return Zt("not implemented")}_getReauthenticationResolver(d){return Zt("not implemented")}}{constructor(d,p,D,K=null){super("password",D),this._email=d,this._password=p,this._tenantId=K}static _fromEmailAndPassword(d,p){return new es(d,p,"password")}static _fromEmailAndCode(d,p,D=null){return new es(d,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,_.Z)(function*(){switch(p.signInMethod){case"password":return function(I,d){return Es.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(I,d){return Gn.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Xt(d,"internal-error")}})()}_linkToIdToken(d,p){var D=this;return(0,_.Z)(function*(){switch(D.signInMethod){case"password":return function(I,d){return Kr.apply(this,arguments)}(d,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(I,d){return Ti.apply(this,arguments)}(d,{idToken:p,email:D._email,oobCode:D._password});default:Xt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}class ee{constructor(d){var p,D,K,re,Ke,At;const mn=(0,R.zd)((0,R.pd)(d)),an=null!==(p=mn.apiKey)&&void 0!==p?p:null,nr=null!==(D=mn.oobCode)&&void 0!==D?D:null,ai=function(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=mn.mode)&&void 0!==K?K:null);gt(an&&nr&&ai,"argument-error"),this.apiKey=an,this.operation=ai,this.code=nr,this.continueUrl=null!==(re=mn.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Ke=mn.languageCode)&&void 0!==Ke?Ke:null,this.tenantId=null!==(At=mn.tenantId)&&void 0!==At?At:null}static parseLink(d){const p=function(I){const d=(0,R.zd)((0,R.pd)(I)).link,p=d?(0,R.zd)((0,R.pd)(d)).deep_link_id:null,D=(0,R.zd)((0,R.pd)(I)).deep_link_id;return(D?(0,R.zd)((0,R.pd)(D)).link:null)||D||p||d||I}(d);try{return new ee(p)}catch(D){return null}}}let ce=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(p,D){return es._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const K=ee.parseLink(D);return gt(K,"argument-error"),es._fromEmailAndCode(p,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();function li(I,d){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,_.Z)(function*(I,d){return Lr(I,"POST","/v1/accounts:signUp",yt(I,d))})).apply(this,arguments)}class ur{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,D,K=!1){return(0,_.Z)(function*(){const re=yield Yt._fromIdTokenResponse(d,D,K),Ke=ki(D);return new ur({user:re,providerId:Ke,_tokenResponse:D,operationType:p})})()}static _forOperation(d,p,D){return(0,_.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const K=ki(D);return new ur({user:d,providerId:K,_tokenResponse:D,operationType:p})})()}}function ki(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class Po extends R.ZR{constructor(d,p,D,K){var re;super(p.code,p.message),this.operationType=D,this.user=K,Object.setPrototypeOf(this,Po.prototype),this.customData={appName:d.name,tenantId:null!==(re=d.tenantId)&&void 0!==re?re:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,p,D,K){return new Po(d,p,D,K)}}function Oo(I,d,p,D){return("reauthenticate"===d?p._getReauthenticationResolver(I):p._getIdTokenResponse(I)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Po._fromErrorAndOperation(I,re,d,D):re})}function jo(I,d){return fa.apply(this,arguments)}function fa(){return(fa=(0,_.Z)(function*(I,d,p=!1){const D="signIn",K=yield Oo(I,D,d),re=yield ur._fromIdTokenResponse(I,D,K);return p||(yield I._updateCurrentUser(re.user)),re})).apply(this,arguments)}function jt(){return(jt=(0,_.Z)(function*(I,d){return jo(bt(I),d)})).apply(this,arguments)}function No(I,d,p){return is.apply(this,arguments)}function is(){return(is=(0,_.Z)(function*(I,d,p){const D=bt(I),K=yield li(D,{returnSecureToken:!0,email:d,password:p}),re=yield ur._fromIdTokenResponse(D,"signIn",K);return yield D._updateCurrentUser(re.user),re})).apply(this,arguments)}function Gs(I,d,p){return function(I,d){return jt.apply(this,arguments)}((0,R.m9)(I),ce.credential(d,p))}function Ri(I,d,p,D){return(0,R.m9)(I).onIdTokenChanged(d,p,D)}function hr(I){return(0,R.m9)(I).signOut()}new WeakMap;let Ka=(()=>{class I{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(re=>re.isListeningto(p));if(D)return D;const K=new I(p);return this.receivers.push(K),K}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,_.Z)(function*(){const K=p,{eventId:re,eventType:Ke,data:At}=K.data,mn=D.handlersMap[Ke];if(!(null==mn?void 0:mn.size))return;K.ports[0].postMessage({status:"ack",eventId:re,eventType:Ke});const an=Array.from(mn).map(function(){var ai=(0,_.Z)(function*(ri){return ri(K.origin,At)});return function(ri){return ai.apply(this,arguments)}}()),nr=yield function(I){return Promise.all(I.map(function(){var d=(0,_.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return d.apply(this,arguments)}}()))}(an);K.ports[0].postMessage({status:"done",eventId:re,eventType:Ke,response:nr})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();class Wo{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,D=50){var K=this;return(0,_.Z)(function*(){const re="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Ke,At;return new Promise((mn,an)=>{const nr=function(I="",d=10){let p="";for(let D=0;D<d;D++)p+=Math.floor(10*Math.random());return I+p}("",20);re.port1.start();const ai=setTimeout(()=>{an(new Error("unsupported_event"))},D);At={messageChannel:re,onMessage(ri){const Ks=ri;if(Ks.data.eventId===nr)switch(Ks.data.status){case"ack":clearTimeout(ai),Ke=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ke),mn(Ks.data.response);break;default:clearTimeout(ai),clearTimeout(Ke),an(new Error("invalid_response"))}}},K.handlers.add(At),re.port1.addEventListener("message",At.onMessage),K.target.postMessage({eventType:d,eventId:nr,data:p},[re.port2])}).finally(()=>{At&&K.removeMessageHandler(At)})})()}}function at(){return window}function os(){return void 0!==at().WorkerGlobalScope&&"function"==typeof at().importScripts}function Ws(){return(Ws=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const E="firebaseLocalStorageDb",z="firebaseLocalStorage",ie="fbase_key";class Ae{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ve(I,d){return I.transaction([z],d?"readwrite":"readonly").objectStore(z)}function fn(){const I=indexedDB.open(E,1);return new Promise((d,p)=>{I.addEventListener("error",()=>{p(I.error)}),I.addEventListener("upgradeneeded",()=>{const D=I.result;try{D.createObjectStore(z,{keyPath:ie})}catch(K){p(K)}}),I.addEventListener("success",(0,_.Z)(function*(){const D=I.result;D.objectStoreNames.contains(z)?d(D):(D.close(),yield function(){const I=indexedDB.deleteDatabase(E);return new Ae(I).toPromise()}(),d(yield fn()))}))})}function Tr(I,d,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,_.Z)(function*(I,d,p){const D=Ve(I,!0).put({[ie]:d,value:p});return new Ae(D).toPromise()})).apply(this,arguments)}function qn(){return(qn=(0,_.Z)(function*(I,d){const p=Ve(I,!1).get(d),D=yield new Ae(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function $r(I,d){const p=Ve(I,!0).delete(d);return new Ae(p).toPromise()}const Eo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,_.Z)(function*(){return p.db||(p.db=yield fn()),p.db})()}_withRetries(p){var D=this;return(0,_.Z)(function*(){let K=0;for(;;)try{const re=yield D._openDb();return yield p(re)}catch(re){if(K++>3)throw re;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,_.Z)(function*(){return os()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,_.Z)(function*(){p.receiver=Ka._getInstance(os()?self:null),p.receiver._subscribe("keyChanged",function(){var D=(0,_.Z)(function*(K,re){return{keyProcessed:(yield p._poll()).includes(re.key)}});return function(K,re){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,_.Z)(function*(K,re){return["keyChanged"]});return function(K,re){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,_.Z)(function*(){var D,K;if(p.activeServiceWorker=yield function(){return Ws.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Wo(p.activeServiceWorker);const re=yield p.sender._send("ping",{},800);!re||(null===(D=re[0])||void 0===D?void 0:D.fulfilled)&&(null===(K=re[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,_.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch(K){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const p=yield fn();return yield Tr(p,"__sak","1"),yield $r(p,"__sak"),!0}catch(p){}return!1})()}_withPendingWrite(p){var D=this;return(0,_.Z)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var K=this;return(0,_.Z)(function*(){return K._withPendingWrite((0,_.Z)(function*(){return yield K._withRetries(re=>Tr(re,p,D)),K.localCache[p]=D,K.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,_.Z)(function*(){const K=yield D._withRetries(re=>function(I,d){return qn.apply(this,arguments)}(re,p));return D.localCache[p]=K,K})()}_remove(p){var D=this;return(0,_.Z)(function*(){return D._withPendingWrite((0,_.Z)(function*(){return yield D._withRetries(K=>$r(K,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,_.Z)(function*(){const D=yield p._withRetries(Ke=>{const At=Ve(Ke,!1).getAll();return new Ae(At).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const K=[],re=new Set;for(const{fbase_key:Ke,value:At}of D)re.add(Ke),JSON.stringify(p.localCache[Ke])!==JSON.stringify(At)&&(p.notifyListeners(Ke,At),K.push(Ke));for(const Ke of Object.keys(p.localCache))p.localCache[Ke]&&!re.has(Ke)&&(p.notifyListeners(Ke,null),K.push(Ke));return K})()}notifyListeners(p,D){this.localCache[p]=D;const K=this.listeners[p];if(K)for(const re of Array.from(K))re(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();Math.floor(1e6*Math.random()),new Ln(3e4,6e4),new Ln(2e3,1e4),new Map,new Ln(3e4,6e4),new Ln(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);var I,Sc="@firebase/auth",Zo="0.20.11";class To{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,_.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(D=>{var K;d((null===(K=D)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,R.Pz)("authIdTokenMaxAge"),I="Browser",(0,De.Xd)(new ve.wA("auth",(d,{options:p})=>{const D=d.getProvider("app").getImmediate(),K=d.getProvider("heartbeat"),{apiKey:re,authDomain:Ke}=D.options;return((At,mn)=>{gt(re&&!re.includes(":"),"invalid-api-key",{appName:At.name}),gt(!(null==Ke?void 0:Ke.includes(":")),"argument-error",{appName:At.name});const an={apiKey:re,authDomain:Ke,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(I)},nr=new mt(At,mn,an);return function(I,d){const p=(null==d?void 0:d.persistence)||[],D=(Array.isArray(p)?p:[p]).map(Vn);(null==d?void 0:d.errorMap)&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(D,null==d?void 0:d.popupRedirectResolver)}(nr,p),nr})(D,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,D)=>{d.getProvider("auth-internal").initialize()})),(0,De.Xd)(new ve.wA("auth-internal",d=>{const p=bt(d.getProvider("auth").getImmediate());return new To(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.KN)(Sc,Zo,void 0),(0,De.KN)(Sc,Zo,"esm2017")},1304:(rn,et,H)=>{"use strict";H.d(et,{EK:()=>Wr,ET:()=>Om,hJ:()=>y0,JU:()=>up,ST:()=>gm,ad:()=>pm,cf:()=>Tp,Xo:()=>wm,IO:()=>Nv,pl:()=>Pm,r7:()=>Gv});var pe,_=H(8239),R=H(8026),De=H(3910),Ue=H(5422),de=H(3854),Te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},U={},Ee=Ee||{},Z=Te||self;function ne(){}function ye(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function se(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var rt="closure_uid_"+(1e9*Math.random()>>>0),Ie=0;function Ze(s,e,r){return s.call.apply(s.bind,arguments)}function $e(s,e,r){if(!s)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,a),s.apply(e,u)}}return function(){return s.apply(e,arguments)}}function ht(s,e,r){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:$e).apply(null,arguments)}function Le(s,e){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),s.apply(this,a)}}function qe(s,e){function r(){}r.prototype=e.prototype,s.X=e.prototype,s.prototype=new r,s.prototype.constructor=s,s.Wb=function(a,u,h){for(var y=Array(arguments.length-2),A=2;A<arguments.length;A++)y[A-2]=arguments[A];return e.prototype[u].apply(a,y)}}function ft(){this.s=this.s,this.o=this.o}ft.prototype.s=!1,ft.prototype.na=function(){var s;!this.s&&(this.s=!0,this.M(),0)&&(s=this,Object.prototype.hasOwnProperty.call(s,rt)&&s[rt]||(s[rt]=++Ie))},ft.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xt=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let r=0;r<s.length;r++)if(r in s&&s[r]===e)return r;return-1};function g(s){const e=s.length;if(0<e){const r=Array(e);for(let a=0;a<e;a++)r[a]=s[a];return r}return[]}function Ce(s,e){for(let r=1;r<arguments.length;r++){const a=arguments[r];if(ye(a)){const u=s.length||0,h=a.length||0;s.length=u+h;for(let y=0;y<h;y++)s[u+y]=a[y]}else s.push(a)}}function Xe(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Z.addEventListener("test",ne,e),Z.removeEventListener("test",ne,e)}catch(r){}return s}();function Q(s){return/^[\s\xa0]*$/.test(s)}var ae=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function oe(s,e){return s<e?-1:s>e?1:0}function ve(){var s=Z.navigator;return s&&(s=s.userAgent)?s:""}function je(s){return-1!=ve().indexOf(s)}function vt(s){return vt[" "](s),s}vt[" "]=ne;var Nt,s,He=je("Opera"),Ge=je("Trident")||je("MSIE"),ze=je("Edge"),tt=ze||Ge,It=je("Gecko")&&!(-1!=ve().toLowerCase().indexOf("webkit")&&!je("Edge"))&&!(je("Trident")||je("MSIE"))&&!je("Edge"),Ft=-1!=ve().toLowerCase().indexOf("webkit")&&!je("Edge");function sn(){var s=Z.document;return s?s.documentMode:void 0}e:{var $n="",On=(s=ve(),It?/rv:([^\);]+)(\)|;)/.exec(s):ze?/Edge\/([\d\.]+)/.exec(s):Ge?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Ft?/WebKit\/(\S+)/.exec(s):He?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(On&&($n=On?On[1]:""),Ge){var Xt=sn();if(null!=Xt&&Xt>parseFloat($n)){Nt=String(Xt);break e}}Nt=$n}var _n={};function Xn(){return e=_n,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let s=0;const e=ae(String(Nt)).split("."),r=ae("9").split("."),a=Math.max(e.length,r.length);for(let y=0;0==s&&y<a;y++){var u=e[y]||"",h=r[y]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;s=oe(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||oe(0==u[2].length,0==h[2].length)||oe(u[2],h[2]),u=u[3],h=h[3]}while(0==s)}return 0<=s}();var e}var gt=Z.document&&Ge&&(sn()||parseInt(Nt,10))||void 0;function Zt(s,e){if(Xe.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var r=this.type=s.type,a=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(It){e:{try{vt(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==r?e=s.fromElement:"mouseout"==r&&(e=s.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Mn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Zt.X.h.call(this)}}qe(Zt,Xe);var Mn={2:"touch",3:"pen",4:"mouse"};Zt.prototype.h=function(){Zt.X.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Vn=0;function jn(s,e,r,a,u){this.listener=s,this.proxy=null,this.src=e,this.type=r,this.capture=!!a,this.ha=u,this.key=++Vn,this.ba=this.ea=!1}function Yr(s){s.ba=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Sn(s,e,r){for(const a in s)e.call(r,s[a],a,s)}function fr(s){const e={};for(const r in s)e[r]=s[r];return e}const ar="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fr(s,e){let r,a;for(let u=1;u<arguments.length;u++){for(r in a=arguments[u],a)s[r]=a[r];for(let h=0;h<ar.length;h++)r=ar[h],Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a[r])}}function en(s){this.src=s,this.g={},this.h=0}function Ln(s,e){var r=e.type;if(r in s.g){var h,a=s.g[r],u=xt(a,e);(h=0<=u)&&Array.prototype.splice.call(a,u,1),h&&(Yr(e),0==s.g[r].length&&(delete s.g[r],s.h--))}}function Pt(s,e,r,a){for(var u=0;u<s.length;++u){var h=s[u];if(!h.ba&&h.listener==e&&h.capture==!!r&&h.ha==a)return u}return-1}en.prototype.add=function(s,e,r,a,u){var h=s.toString();(s=this.g[h])||(s=this.g[h]=[],this.h++);var y=Pt(s,e,a,u);return-1<y?(e=s[y],r||(e.ea=!1)):((e=new jn(e,this.src,h,!!a,u)).ea=r,s.push(e)),e};var Vt="closure_lm_"+(1e6*Math.random()|0),er={};function yr(s,e,r,a,u){if(a&&a.once)return lr(s,e,r,a,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)yr(s,e[h],r,a,u);return null}return r=it(r),s&&s[Hn]?s.N(e,r,se(a)?!!a.capture:!!a,u):yt(s,e,r,!1,a,u)}function yt(s,e,r,a,u,h){if(!e)throw Error("Invalid event type");var y=se(u)?!!u.capture:!!u,A=ui(s);if(A||(s[Vt]=A=new en(s)),(r=A.add(e,r,a,y,h)).proxy)return r;if(a=function(){const e=Bn;return function s(r){return e.call(s.src,s.listener,r)}}(),r.proxy=a,a.src=s,a.listener=r,s.addEventListener)be||(u=y),void 0===u&&(u=!1),s.addEventListener(e.toString(),a,u);else if(s.attachEvent)s.attachEvent(Lr(e.toString()),a);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(a)}return r}function lr(s,e,r,a,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)lr(s,e[h],r,a,u);return null}return r=it(r),s&&s[Hn]?s.O(e,r,se(a)?!!a.capture:!!a,u):yt(s,e,r,!0,a,u)}function jr(s,e,r,a,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)jr(s,e[h],r,a,u);else a=se(a)?!!a.capture:!!a,r=it(r),s&&s[Hn]?(s=s.i,(e=String(e).toString())in s.g&&-1<(r=Pt(h=s.g[e],r,a,u))&&(Yr(h[r]),Array.prototype.splice.call(h,r,1),0==h.length&&(delete s.g[e],s.h--))):s&&(s=ui(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Pt(e,r,a,u)),(r=-1<s?e[s]:null)&&Dn(r))}function Dn(s){if("number"!=typeof s&&s&&!s.ba){var e=s.src;if(e&&e[Hn])Ln(e.i,s);else{var r=s.type,a=s.proxy;e.removeEventListener?e.removeEventListener(r,a,s.capture):e.detachEvent?e.detachEvent(Lr(r),a):e.addListener&&e.removeListener&&e.removeListener(a),(r=ui(e))?(Ln(r,s),0==r.h&&(r.src=null,e[Vt]=null)):Yr(s)}}}function Lr(s){return s in er?er[s]:er[s]="on"+s}function Bn(s,e){if(s.ba)s=!0;else{e=new Zt(e,this);var r=s.listener,a=s.ha||s.src;s.ea&&Dn(s),s=r.call(a,e)}return s}function ui(s){return(s=s[Vt])instanceof en?s:null}var Gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function it(s){return"function"==typeof s?s:(s[Gt]||(s[Gt]=function(e){return s.handleEvent(e)}),s[Gt])}function $t(){ft.call(this),this.i=new en(this),this.P=this,this.I=null}function Ot(s,e){var r,a=s.I;if(a)for(r=[];a;a=a.I)r.push(a);if(s=s.P,a=e.type||e,"string"==typeof e)e=new Xe(e,s);else if(e instanceof Xe)e.target=e.target||s;else{var u=e;Fr(e=new Xe(a,s),u)}if(u=!0,r)for(var h=r.length-1;0<=h;h--){var y=e.g=r[h];u=Cn(y,a,!0,e)&&u}if(u=Cn(y=e.g=s,a,!0,e)&&u,u=Cn(y,a,!1,e)&&u,r)for(h=0;h<r.length;h++)u=Cn(y=e.g=r[h],a,!1,e)&&u}function Cn(s,e,r,a){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var y=e[h];if(y&&!y.ba&&y.capture==r){var A=y.listener,G=y.ha||y.src;y.ea&&Ln(s.i,y),u=!1!==A.call(G,a)&&u}}return u&&!a.defaultPrevented}qe($t,ft),$t.prototype[Hn]=!0,$t.prototype.removeEventListener=function(s,e,r,a){jr(this,s,e,r,a)},$t.prototype.M=function(){if($t.X.M.call(this),this.i){var e,s=this.i;for(e in s.g){for(var r=s.g[e],a=0;a<r.length;a++)Yr(r[a]);delete s.g[e],s.h--}}this.I=null},$t.prototype.N=function(s,e,r,a){return this.i.add(String(s),e,!1,r,a)},$t.prototype.O=function(s,e,r,a){return this.i.add(String(s),e,!0,r,a)};var tn=Z.JSON.stringify;function Se(){var s=ir;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var En,Be=new class{constructor(s,e){this.i=s,this.j=e,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}(()=>new Tt,s=>s.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function ot(s){Z.setTimeout(()=>{throw s},0)}function Jt(s,e){En||function(){var s=Z.Promise.resolve(void 0);En=function(){s.then(pr)}}(),_r||(En(),_r=!0),ir.add(s,e)}var _r=!1,ir=new class{constructor(){this.h=this.g=null}add(e,r){const a=Be.get();a.set(e,r),this.h?this.h.next=a:this.g=a,this.h=a}};function pr(){for(var s;s=Se();){try{s.h.call(s.g)}catch(r){ot(r)}var e=Be;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}_r=!1}function In(s,e){$t.call(this),this.h=s||1,this.g=e||Z,this.j=ht(this.lb,this),this.l=Date.now()}function wr(s){s.ca=!1,s.R&&(s.g.clearTimeout(s.R),s.R=null)}function si(s,e,r){if("function"==typeof s)r&&(s=ht(s,r));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=ht(s.handleEvent,s)}return 2147483647<Number(e)?-1:Z.setTimeout(s,e||0)}function qt(s){s.g=si(()=>{s.g=null,s.i&&(s.i=!1,qt(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}qe(In,$t),(pe=In.prototype).ca=!1,pe.R=null,pe.lb=function(){if(this.ca){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-s):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ot(this,"tick"),this.ca&&(wr(this),this.start()))}},pe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.M=function(){In.X.M.call(this),wr(this),delete this.g};class Qt extends ft{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qt(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(s){ft.call(this),this.h=s,this.g={}}qe(kn,ft);var dr=[];function mr(s,e,r,a){Array.isArray(r)||(r&&(dr[0]=r.toString()),r=dr);for(var u=0;u<r.length;u++){var h=yr(e,r[u],a||s.handleEvent,!1,s.h||s);if(!h)break;s.g[h.key]=h}}function Dr(s){Sn(s.g,function(e,r){this.g.hasOwnProperty(r)&&Dn(e)},s),s.g={}}function Cr(){this.g=!0}function pn(s,e,r,a){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(s,e){if(!s.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(s=0;s<r.length;s++)if(Array.isArray(r[s])){var a=r[s];if(!(2>a.length)){var u=a[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var y=1;y<u.length;y++)u[y]=""}}}return tn(r)}catch(A){return e}}(s,r)+(a?" "+a:"")})}kn.prototype.M=function(){kn.X.M.call(this),Dr(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cr.prototype.Aa=function(){this.g=!1},Cr.prototype.info=function(){};var Kn={},br=null;function Pr(){return br=br||new $t}function Zn(s){Xe.call(this,Kn.Pa,s)}function gi(s){const e=Pr();Ot(e,new Zn(e))}function Er(s,e){Xe.call(this,Kn.STAT_EVENT,s),this.stat=e}function Vr(s){const e=Pr();Ot(e,new Er(e,s))}function oi(s,e){Xe.call(this,Kn.Qa,s),this.size=e}function Pn(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){s()},e)}Kn.Pa="serverreachability",qe(Zn,Xe),Kn.STAT_EVENT="statevent",qe(Er,Xe),Kn.Qa="timingevent",qe(oi,Xe);var hi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Qe(){}function F(){}Qe.prototype.h=null;var xe,X={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ue(){Xe.call(this,"d")}function Re(){Xe.call(this,"c")}function ut(){}function mt(s,e,r,a){this.l=s,this.j=e,this.m=r,this.U=a||1,this.S=new kn(this),this.O=Ut,this.T=new In(s=tt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}qe(ue,Xe),qe(Re,Xe),qe(ut,Qe),ut.prototype.g=function(){return new XMLHttpRequest},ut.prototype.i=function(){return{}},xe=new ut;var Ut=45e3,hn={},bn={};function Nn(s,e,r){s.K=1,s.v=An(Me(e)),s.s=r,s.P=!0,Fn(s,null)}function Fn(s,e){s.F=Date.now(),fi(s),s.A=Me(s.v);var r=s.A,a=s.U;Array.isArray(a)||(a=[String(a)]),Qs(r.i,"t",a),s.C=0,r=s.l.H,s.h=new bt,s.g=rs(s.l,r?e:null,!s.s),0<s.N&&(s.L=new Qt(ht(s.La,s,s.g),s.N)),mr(s.S,s.g,"readystatechange",s.ib),e=s.H?fr(s.H):{},s.s?(s.u||(s.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.da(s.A,s.u,s.s,e)):(s.u="GET",s.g.da(s.A,s.u,null,e)),gi(),function(s,e,r,a,u,h){s.info(function(){if(s.g)if(h)for(var y="",A=h.split("&"),G=0;G<A.length;G++){var Y=A[G].split("=");if(1<Y.length){var ge=Y[0];Y=Y[1];var ke=ge.split("_");y=2<=ke.length&&"type"==ke[1]?y+(ge+"=")+Y+"&":y+(ge+"=redacted&")}}else y=null;else y=h;return"XMLHTTP REQ ("+a+") [attempt "+u+"]: "+e+"\n"+r+"\n"+y})}(s.j,s.u,s.A,s.m,s.U,s.s)}function ti(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Da}function Mr(s,e,r){let u,a=!0;for(;!s.I&&s.C<r.length;){if(u=Gr(s,r),u==bn){4==e&&(s.o=4,Vr(14),a=!1),pn(s.j,s.m,null,"[Incomplete Response]");break}if(u==hn){s.o=4,Vr(15),pn(s.j,s.m,r,"[Invalid Chunk]"),a=!1;break}pn(s.j,s.m,u,null),Qi(s,u)}ti(s)&&u!=bn&&u!=hn&&(s.h.g="",s.C=0),4!=e||0!=r.length||s.h.h||(s.o=1,Vr(16),a=!1),s.i=s.i&&a,a?0<r.length&&!s.$&&(s.$=!0,(e=s.l).g==s&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+r.length),Hs(e),e.K=!0,Vr(11))):(pn(s.j,s.m,r,"[Invalid Chunked Response]"),_i(s),ni(s))}function Gr(s,e){var r=s.C,a=e.indexOf("\n",r);return-1==a?bn:(r=Number(e.substring(r,a)),isNaN(r)?hn:(a+=1)+r>e.length?bn:(e=e.substr(a,r),s.C=a+r,e))}function fi(s){s.V=Date.now()+s.O,Ui(s,s.O)}function Ui(s,e){if(null!=s.B)throw Error("WatchDog timer not null");s.B=Pn(ht(s.gb,s),e)}function Kr(s){s.B&&(Z.clearTimeout(s.B),s.B=null)}function ni(s){0==s.l.G||s.I||zi(s.l,s)}function _i(s){Kr(s);var e=s.L;e&&"function"==typeof e.na&&e.na(),s.L=null,wr(s.T),Dr(s.S),s.g&&(e=s.g,s.g=null,e.abort(),e.na())}function Qi(s,e){try{var r=s.l;if(0!=r.G&&(r.g==s||ee(r.h,s)))if(!s.J&&ee(r.h,s)&&3==r.G){try{var a=r.Fa.g.parse(e)}catch(Y){a=null}if(Array.isArray(a)&&3==a.length){var u=a;if(0==u[0])e:if(r.u)r.Ba=u[1],0<r.Ba-r.T&&37500>u[2]&&r.L&&0==r.A&&!r.v&&(r.v=Pn(ht(r.cb,r),6e3));else{if(r.g){if(!(r.g.F+3e3<s.F))break e;eo(r),Ms(r)}vo(r),Vr(18)}if(1>=j(r.h)&&r.ja){try{r.ja()}catch(Y){}r.ja=void 0}}else Nr(r,11)}else if((s.J||r.g==s)&&eo(r),!Q(e))for(u=r.Fa.g.parse(e),e=0;e<u.length;e++){let Y=u[e];if(r.T=Y[0],Y=Y[1],2==r.G)if("c"==Y[0]){r.I=Y[1],r.ka=Y[2];const ge=Y[3];null!=ge&&(r.ma=ge,r.j.info("VER="+r.ma));const ke=Y[4];null!=ke&&(r.Ca=ke,r.j.info("SVER="+r.Ca));const pt=Y[5];null!=pt&&"number"==typeof pt&&0<pt&&(r.J=a=1.5*pt,r.j.info("backChannelRequestTimeoutMs_="+a)),a=r;const Rt=s.g;if(Rt){const Ht=Rt.g?Rt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ht){var h=a.h;h.g||-1==Ht.indexOf("spdy")&&-1==Ht.indexOf("quic")&&-1==Ht.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(B(h,h.h),h.h=null))}if(a.D){const Tn=Rt.g?Rt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tn&&(a.za=Tn,Ct(a.F,a.D,Tn))}}r.G=3,r.l&&r.l.xa(),r.$&&(r.P=Date.now()-s.F,r.j.info("Handshake RTT: "+r.P+"ms"));var y=s;if((a=r).sa=Xi(a,a.H?a.ka:null,a.V),y.J){ce(a.h,y);var A=y,G=a.J;G&&A.setTimeout(G),A.B&&(Kr(A),fi(A)),a.g=y}else Gi(a);0<r.i.length&&kr(r)}else"stop"!=Y[0]&&"close"!=Y[0]||Nr(r,7);else 3==r.G&&("stop"==Y[0]||"close"==Y[0]?"stop"==Y[0]?Nr(r,7):fa(r):"noop"!=Y[0]&&r.l&&r.l.wa(Y),r.A=0)}gi()}catch(Y){}}function Is(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(ye(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var r=function(s){if(s.oa&&"function"==typeof s.oa)return s.oa();if(!s.W||"function"!=typeof s.W){if("undefined"!=typeof Map&&s instanceof Map)return Array.from(s.keys());if(!("undefined"!=typeof Set&&s instanceof Set)){if(ye(s)||"string"==typeof s){var e=[];s=s.length;for(var r=0;r<s;r++)e.push(r);return e}e=[],r=0;for(const a in s)e[r++]=a;return e}}}(s),a=function(s){if(s.W&&"function"==typeof s.W)return s.W();if("undefined"!=typeof Map&&s instanceof Map||"undefined"!=typeof Set&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(ye(s)){for(var e=[],r=s.length,a=0;a<r;a++)e.push(s[a]);return e}for(a in e=[],r=0,s)e[r++]=s[a];return e}(s),u=a.length,h=0;h<u;h++)e.call(void 0,a[h],r&&r[h],s)}(pe=mt.prototype).setTimeout=function(s){this.O=s},pe.ib=function(s){s=s.target;const e=this.L;e&&3==Un(s)?e.l():this.La(s)},pe.La=function(s){try{if(s==this.g)e:{const ge=Un(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>ge)&&(3!=ge||tt||this.g&&(this.h.h||this.g.fa()||xs(this.g)))){this.I||4!=ge||7==e||gi(),Kr(this);var r=this.g.aa();this.Y=r;t:if(ti(this)){var a=xs(this.g);s="";var u=a.length,h=4==Un(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_i(this),ni(this);var y="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,s+=this.h.i.decode(a[e],{stream:h&&e==u-1});a.splice(0,u),this.h.g+=s,this.C=0,y=this.h.g}else y=this.g.fa();if(this.i=200==r,function(s,e,r,a,u,h,y){s.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+h+" "+y})}(this.j,this.u,this.A,this.m,this.U,ge,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var A,G=this.g;if((A=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(A)){var Y=A;break t}}Y=null}if(!(r=Y)){this.i=!1,this.o=3,Vr(12),_i(this),ni(this);break e}pn(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qi(this,r)}this.P?(Mr(this,ge,y),tt&&this.i&&3==ge&&(mr(this.S,this.T,"tick",this.hb),this.T.start())):(pn(this.j,this.m,y,null),Qi(this,y)),4==ge&&_i(this),this.i&&!this.I&&(4==ge?zi(this.l,this):(this.i=!1,fi(this)))}else 400==r&&0<y.indexOf("Unknown SID")?(this.o=3,Vr(12)):(this.o=0,Vr(13)),_i(this),ni(this)}}}catch(ge){}},pe.hb=function(){if(this.g){var s=Un(this.g),e=this.g.fa();this.C<e.length&&(Kr(this),Mr(this,s,e),this.i&&4!=s&&fi(this))}},pe.cancel=function(){this.I=!0,_i(this)},pe.gb=function(){this.B=null;const s=Date.now();0<=s-this.V?(function(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(gi(),Vr(17)),_i(this),this.o=2,ni(this)):Ui(this,this.V-s)};var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(s,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof Ds){this.h=void 0!==e?e:s.h,Fe(this,s.j),this.s=s.s,this.g=s.g,_e(this,s.m),this.l=s.l,e=s.i;var r=new go;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),st(this,r),this.o=s.o}else s&&(r=String(s).match(Cs))?(this.h=!!e,Fe(this,r[1]||"",!0),this.s=Gn(r[2]||""),this.g=Gn(r[3]||"",!0),_e(this,r[4]),this.l=Gn(r[5]||"",!0),st(this,r[6]||"",!0),this.o=Gn(r[7]||"")):(this.h=!!e,this.i=new go(null,this.h))}function Me(s){return new Ds(s)}function Fe(s,e,r){s.j=r?Gn(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function _e(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function st(s,e,r){e instanceof go?(s.i=e,function(s,e){e&&!s.j&&(bi(s),s.i=null,s.g.forEach(function(r,a){var u=a.toLowerCase();a!=u&&(Us(this,a),Qs(this,u,r))},s)),s.j=e}(s.i,s.h)):(r||(e=Or(e,Bs)),s.i=new go(e,s.h))}function Ct(s,e,r){s.i.set(e,r)}function An(s){return Ct(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Gn(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Or(s,e,r){return"string"==typeof s?(s=encodeURI(s).replace(e,Ti),r&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Ti(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Ds.prototype.toString=function(){var s=[],e=this.j;e&&s.push(Or(e,es,!0),":");var r=this.g;return(r||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(Or(e,es,!0),"@"),s.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&s.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&s.push("/"),s.push(Or(r,"/"==r.charAt(0)?$s:ji,!0))),(r=this.i.toString())&&s.push("?",r),(r=this.o)&&s.push("#",Or(r,Mi)),s.join("")};var es=/[#\/\?@]/g,ji=/[#\?:]/g,$s=/[#\?]/g,Bs=/[#\?@]/g,Mi=/#/g;function go(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function bi(s){s.g||(s.g=new Map,s.h=0,s.i&&function(s,e){if(s){s=s.split("&");for(var r=0;r<s.length;r++){var a=s[r].indexOf("="),u=null;if(0<=a){var h=s[r].substring(0,a);u=s[r].substring(a+1)}else h=s[r];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(s.i,function(e,r){s.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Us(s,e){bi(s),e=Hi(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Ts(s,e){return bi(s),e=Hi(s,e),s.g.has(e)}function Qs(s,e,r){Us(s,e),0<r.length&&(s.i=null,s.g.set(Hi(s,e),g(r)),s.h+=r.length)}function Hi(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}function Ss(s){this.l=s||ts,s=Z.PerformanceNavigationTiming?0<(s=Z.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().$b),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=go.prototype).add=function(s,e){bi(this),this.i=null,s=Hi(this,s);var r=this.g.get(s);return r||this.g.set(s,r=[]),r.push(e),this.h+=1,this},pe.forEach=function(s,e){bi(this),this.g.forEach(function(r,a){r.forEach(function(u){s.call(e,u,a,this)},this)},this)},pe.oa=function(){bi(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let a=0;a<e.length;a++){const u=s[a];for(let h=0;h<u.length;h++)r.push(e[a])}return r},pe.W=function(s){bi(this);let e=[];if("string"==typeof s)Ts(this,s)&&(e=e.concat(this.g.get(Hi(this,s))));else{s=Array.from(this.g.values());for(let r=0;r<s.length;r++)e=e.concat(s[r])}return e},pe.set=function(s,e){return bi(this),this.i=null,Ts(this,s=Hi(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},pe.get=function(s,e){return s&&0<(s=this.W(s)).length?String(s[0]):e},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var a=e[r];const h=encodeURIComponent(String(a)),y=this.W(a);for(a=0;a<y.length;a++){var u=h;""!==y[a]&&(u+="="+encodeURIComponent(String(y[a]))),s.push(u)}}return this.i=s.join("&")};var ts=10;function As(s){return!!s.h||!!s.g&&s.g.size>=s.j}function j(s){return s.h?1:s.g?s.g.size:0}function ee(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function B(s,e){s.g?s.g.add(e):s.h=e}function ce(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Pe(s){if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const r of s.g.values())e=e.concat(r.D);return e}return g(s.i)}function Dt(){}function Bt(){this.g=new Dt}function V(s,e,r){const a=r||"";try{Is(s,function(u,h){let y=u;se(u)&&(y=tn(u)),e.push(a+h+"="+encodeURIComponent(y))})}catch(u){throw e.push(a+"type="+encodeURIComponent("_badmap")),u}}function x(s,e,r,a,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(a)}catch(h){}}function J(s){this.l=s.ac||null,this.j=s.jb||!1}function nt(s,e){$t.call(this),this.D=s,this.u=e,this.m=void 0,this.readyState=Kt,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ss.prototype.cancel=function(){if(this.i=Pe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}},Dt.prototype.stringify=function(s){return Z.JSON.stringify(s,void 0)},Dt.prototype.parse=function(s){return Z.JSON.parse(s,void 0)},qe(J,Qe),J.prototype.g=function(){return new nt(this.l,this.j)},J.prototype.i=function(s){return function(){return s}}({}),qe(nt,$t);var Kt=0;function zn(s){s.j.read().then(s.Ta.bind(s)).catch(s.ga.bind(s))}function Zr(s){s.readyState=4,s.l=null,s.j=null,s.A=null,li(s)}function li(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(pe=nt.prototype).open=function(s,e){if(this.readyState!=Kt)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,li(this)},pe.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.D||Z).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zr(this)),this.readyState=Kt},pe.Wa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Z.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zn(this)}else s.text().then(this.Va.bind(this),this.ga.bind(this))},pe.Ta=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Zr(this):li(this),3==this.readyState&&zn(this)}},pe.Va=function(s){this.g&&(this.response=this.responseText=s,Zr(this))},pe.Ua=function(s){this.g&&(this.response=s,Zr(this))},pe.ga=function(){this.g&&Zr(this)},pe.setRequestHeader=function(s,e){this.v.append(s,e)},pe.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var r=e.next();!r.done;)s.push((r=r.value)[0]+": "+r[1]),r=e.next();return s.join("\r\n")},Object.defineProperty(nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Rr=Z.JSON.parse;function ur(s){$t.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ki,this.K=this.L=!1}qe(ur,$t);var ki="",ns=/^https?$/i,Ei=["POST","PUT"];function Oo(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Aa(s),js(s)}function Aa(s){s.D||(s.D=!0,Ot(s,"complete"),Ot(s,"error"))}function fs(s){if(s.h&&void 0!==Ee&&(!s.C[1]||4!=Un(s)||2!=s.aa()))if(s.v&&4==Un(s))si(s.Ha,0,s);else if(Ot(s,"readystatechange"),4==Un(s)){s.h=!1;try{const A=s.aa();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var a;if(a=0===A){var u=String(s.H).match(Cs)[1]||null;if(!u&&Z.self&&Z.self.location){var h=Z.self.location.protocol;u=h.substr(0,h.length-1)}a=!ns.test(u?u.toLowerCase():"")}r=a}if(r)Ot(s,"complete"),Ot(s,"success");else{s.m=6;try{var y=2<Un(s)?s.g.statusText:""}catch(G){y=""}s.j=y+" ["+s.aa()+"]",Aa(s)}}finally{js(s)}}}function js(s,e){if(s.g){Xs(s);const r=s.g,a=s.C[0]?ne:null;s.g=null,s.C=null,e||Ot(s,"ready");try{r.onreadystatechange=a}catch(u){}}}function Xs(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Z.clearTimeout(s.A),s.A=null)}function Un(s){return s.g?s.g.readyState:0}function xs(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case ki:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ta(s){let e="";return Sn(s,function(r,a){e+=a,e+=":",e+=r,e+="\r\n"}),e}function Js(s,e,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=ta(r),"string"==typeof s?null!=r&&encodeURIComponent(String(r)):Ct(s,e,r))}function ko(s,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[s]||e}function jo(s){this.Ca=0,this.i=[],this.j=new Cr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ko("failFast",!1,s),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ko("baseRetryDelayMs",5e3,s),this.bb=ko("retryDelaySeedMs",1e4,s),this.$a=ko("forwardChannelMaxRetries",2,s),this.ta=ko("forwardChannelRequestTimeoutMs",2e4,s),this.ra=s&&s.xmlHttpFactory||void 0,this.Da=s&&s.Zb||!1,this.J=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.I="",this.h=new Ss(s&&s.concurrentRequestLimit),this.Fa=new Bt,this.O=s&&s.fastHandshake||!1,this.N=s&&s.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=s&&s.Xb||!1,s&&s.Aa&&this.j.Aa(),s&&s.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&s&&s.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function fa(s){if(jt(s),3==s.G){var e=s.U++,r=Me(s.F);Ct(r,"SID",s.I),Ct(r,"RID",e),Ct(r,"TYPE","terminate"),Rs(s,r),(e=new mt(s,s.j,e,void 0)).K=2,e.v=An(Me(r)),r=!1,Z.navigator&&Z.navigator.sendBeacon&&(r=Z.navigator.sendBeacon(e.v.toString(),"")),!r&&Z.Image&&((new Image).src=e.v,r=!0),r||(e.g=rs(e.l,null),e.g.da(e.v)),e.F=Date.now(),fi(e)}Ni(s)}function Ms(s){s.g&&(Hs(s),s.g.cancel(),s.g=null)}function jt(s){Ms(s),s.u&&(Z.clearTimeout(s.u),s.u=null),eo(s),s.h.cancel(),s.m&&("number"==typeof s.m&&Z.clearTimeout(s.m),s.m=null)}function kr(s){As(s.h)||s.m||(s.m=!0,Jt(s.Ja,s),s.C=0)}function Si(s,e){var r;r=e?e.m:s.U++;const a=Me(s.F);Ct(a,"SID",s.I),Ct(a,"RID",r),Ct(a,"AID",s.T),Rs(s,a),s.o&&s.s&&Js(a,s.o,s.s),r=new mt(s,s.j,r,s.C+1),null===s.o&&(r.H=s.s),e&&(s.i=e.D.concat(s.i)),e=Ps(s,r,1e3),r.setTimeout(Math.round(.5*s.ta)+Math.round(.5*s.ta*Math.random())),B(s.h,r),Nn(r,a,e)}function Rs(s,e){s.ia&&Sn(s.ia,function(r,a){Ct(e,a,r)}),s.l&&Is({},function(r,a){Ct(e,a,r)})}function Ps(s,e,r){r=Math.min(s.i.length,r);var a=s.l?ht(s.l.Ra,s.l,s):null;e:{var u=s.i;let h=-1;for(;;){const y=["count="+r];-1==h?0<r?(h=u[0].h,y.push("ofs="+h)):h=0:y.push("ofs="+h);let A=!0;for(let G=0;G<r;G++){let Y=u[G].h;const ge=u[G].g;if(Y-=h,0>Y)h=Math.max(0,u[G].h-100),A=!1;else try{V(ge,y,"req"+Y+"_")}catch(ke){a&&a(ge)}}if(A){a=y.join("&");break e}}}return s=s.i.splice(0,r),e.D=s,a}function Gi(s){s.g||s.u||(s.Z=1,Jt(s.Ia,s),s.A=0)}function vo(s){return!(s.g||s.u||3<=s.A||(s.Z++,s.u=Pn(ht(s.Ia,s),ps(s,s.A)),s.A++,0))}function Hs(s){null!=s.B&&(Z.clearTimeout(s.B),s.B=null)}function na(s){s.g=new mt(s,s.j,"rpc",s.Z),null===s.o&&(s.g.H=s.s),s.g.N=0;var e=Me(s.sa);Ct(e,"RID","rpc"),Ct(e,"SID",s.I),Ct(e,"CI",s.L?"0":"1"),Ct(e,"AID",s.T),Ct(e,"TYPE","xmlhttp"),Rs(s,e),s.o&&s.s&&Js(e,s.o,s.s),s.J&&s.g.setTimeout(s.J);var r=s.g;s=s.ka,r.K=1,r.v=An(Me(e)),r.s=null,r.P=!0,Fn(r,s)}function eo(s){null!=s.v&&(Z.clearTimeout(s.v),s.v=null)}function zi(s,e){var r=null;if(s.g==e){eo(s),Hs(s),s.g=null;var a=2}else{if(!ee(s.h,e))return;r=e.D,ce(s.h,e),a=1}if(0!=s.G)if(s.pa=e.Y,e.i)if(1==a){r=e.s?e.s.length:0,e=Date.now()-e.F;var u=s.C;Ot(a=Pr(),new oi(a,r)),kr(s)}else Gi(s);else if(3==(u=e.o)||0==u&&0<s.pa||!(1==a&&function(s,e){return!(j(s.h)>=s.h.j-(s.m?1:0)||(s.m?(s.i=e.D.concat(s.i),0):1==s.G||2==s.G||s.C>=(s.Za?0:s.$a)||(s.m=Pn(ht(s.Ja,s,e),ps(s,s.C)),s.C++,0)))}(s,e)||2==a&&vo(s)))switch(r&&0<r.length&&(e=s.h,e.i=e.i.concat(r)),u){case 1:Nr(s,5);break;case 4:Nr(s,10);break;case 3:Nr(s,6);break;default:Nr(s,2)}}function ps(s,e){let r=s.Xa+Math.floor(Math.random()*s.bb);return s.l||(r*=2),r*e}function Nr(s,e){if(s.j.info("Error code "+e),2==e){var r=null;s.l&&(r=null);var a=ht(s.kb,s);r||(r=new Ds("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||Fe(r,"https"),An(r)),function(s,e){const r=new Cr;if(Z.Image){const a=new Image;a.onload=Le(x,r,a,"TestLoadImage: loaded",!0,e),a.onerror=Le(x,r,a,"TestLoadImage: error",!1,e),a.onabort=Le(x,r,a,"TestLoadImage: abort",!1,e),a.ontimeout=Le(x,r,a,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=s}else e(!1)}(r.toString(),a)}else Vr(2);s.G=0,s.l&&s.l.va(e),Ni(s),jt(s)}function Ni(s){if(s.G=0,s.la=[],s.l){const e=Pe(s.h);(0!=e.length||0!=s.i.length)&&(Ce(s.la,e),Ce(s.la,s.i),s.h.i.length=0,g(s.i),s.i.length=0),s.l.ua()}}function Xi(s,e,r){var a=r instanceof Ds?Me(r):new Ds(r,void 0);if(""!=a.g)e&&(a.g=e+"."+a.g),_e(a,a.m);else{var u=Z.location;a=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var h=new Ds(null,void 0);a&&Fe(h,a),e&&(h.g=e),u&&_e(h,u),r&&(h.l=r),a=h}return e=s.za,(r=s.D)&&e&&Ct(a,r,e),Ct(a,"VER",s.ma),Rs(s,a),a}function rs(s,e,r){if(e&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ur(r&&s.Da&&!s.ra?new J({jb:!0}):s.ra)).Ka(s.H),e}function gs(){}function Ho(){if(Ge&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function pi(s,e){$t.call(this),this.g=new jo(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(s?s["X-WebChannel-Client-Profile"]=e.ya:s={"X-WebChannel-Client-Profile":e.ya}),this.g.S=s,(s=e&&e.Yb)&&!Q(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.g.D=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new No(this)}function to(s){ue.call(this);var e=s.__sm__;if(e){e:{for(const r in e){s=r;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function ra(){Re.call(this),this.status=1}function No(s){this.g=s}(pe=ur.prototype).Ka=function(s){this.L=s},pe.da=function(s,e,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);e=e?e.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xe.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:xe),this.g.onreadystatechange=ht(this.Ha,this);try{this.F=!0,this.g.open(e,String(s),!0),this.F=!1}catch(h){return void Oo(this,h)}if(s=r||"",r=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var u in a)r.set(u,a[u]);else{if("function"!=typeof a.keys||"function"!=typeof a.get)throw Error("Unknown input type for opt_headers: "+String(a));for(const h of a.keys())r.set(h,a.get(h))}a=Array.from(r.keys()).find(h=>"content-type"==h.toLowerCase()),u=Z.FormData&&s instanceof Z.FormData,!(0<=xt(Ei,e))||a||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,y]of r)this.g.setRequestHeader(h,y);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xs(this),0<this.B&&((this.K=function(s){return Ge&&Xn()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.qa,this)):this.A=si(this.qa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(h){Oo(this,h)}},pe.qa=function(){void 0!==Ee&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))},pe.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Ot(this,"complete"),Ot(this,"abort"),js(this))},pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),js(this,!0)),ur.X.M.call(this)},pe.Ha=function(){this.s||(this.F||this.v||this.l?fs(this):this.fb())},pe.fb=function(){fs(this)},pe.aa=function(){try{return 2<Un(this)?this.g.status:-1}catch(s){return-1}},pe.fa=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},pe.Sa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Rr(e)}},pe.Ea=function(){return this.m},pe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=jo.prototype).ma=8,pe.G=1,pe.Ja=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const u=new mt(this,this.j,s,void 0);let h=this.s;if(this.S&&(h?(h=fr(h),Fr(h,this.S)):h=this.S),null!==this.o||this.N||(u.H=h,h=null),this.O)e:{for(var e=0,r=0;r<this.i.length;r++){var a=this.i[r];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(e+=a)){e=r;break e}if(4096===e||r===this.i.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Ps(this,u,e),Ct(r=Me(this.F),"RID",s),Ct(r,"CVER",22),this.D&&Ct(r,"X-HTTP-Session-Id",this.D),Rs(this,r),h&&(this.N?e="headers="+encodeURIComponent(String(ta(h)))+"&"+e:this.o&&Js(r,this.o,h)),B(this.h,u),this.Ya&&Ct(r,"TYPE","init"),this.O?(Ct(r,"$req",e),Ct(r,"SID","null"),u.Z=!0,Nn(u,r,null)):Nn(u,r,e),this.G=2}}else 3==this.G&&(s?Si(this,s):0==this.i.length||As(this.h)||Si(this))},pe.Ia=function(){if(this.u=null,na(this),this.$&&!(this.K||null==this.g||0>=this.P)){var s=2*this.P;this.j.info("BP detection timer enabled: "+s),this.B=Pn(ht(this.eb,this),s)}},pe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Vr(10),Ms(this),na(this))},pe.cb=function(){null!=this.v&&(this.v=null,Ms(this),vo(this),Vr(19))},pe.kb=function(s){s?(this.j.info("Successfully pinged google.com"),Vr(2)):(this.j.info("Failed to ping google.com"),Vr(1))},(pe=gs.prototype).xa=function(){},pe.wa=function(){},pe.va=function(){},pe.ua=function(){},pe.Ra=function(){},Ho.prototype.g=function(s,e){return new pi(s,e)},qe(pi,$t),pi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var s=this.g,e=this.l,r=this.h||void 0;Vr(0),s.V=e,s.ia=r||{},s.L=s.Y,s.F=Xi(s,null,s.V),kr(s)},pi.prototype.close=function(){fa(this.g)},pi.prototype.u=function(s){var e=this.g;if("string"==typeof s){var r={};r.__data__=s,s=r}else this.v&&((r={}).__data__=tn(s),s=r);e.i.push(new class{constructor(s,e){this.h=s,this.g=e}}(e.ab++,s)),3==e.G&&kr(e)},pi.prototype.M=function(){this.g.l=null,delete this.j,fa(this.g),delete this.g,pi.X.M.call(this)},qe(to,ue),qe(ra,Re),qe(No,gs),No.prototype.xa=function(){Ot(this.g,"a")},No.prototype.wa=function(s){Ot(this.g,new to(s))},No.prototype.va=function(s){Ot(this.g,new ra)},No.prototype.ua=function(){Ot(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,pi.prototype.send=pi.prototype.u,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,vi.COMPLETE="complete",F.EventType=X,X.OPEN="a",X.CLOSE="b",X.ERROR="c",X.MESSAGE="d",$t.prototype.listen=$t.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.Oa,ur.prototype.getLastErrorCode=ur.prototype.Ea,ur.prototype.getStatus=ur.prototype.aa,ur.prototype.getResponseJson=ur.prototype.Sa,ur.prototype.getResponseText=ur.prototype.fa,ur.prototype.send=ur.prototype.da,ur.prototype.setWithCredentials=ur.prototype.Ka;var is=U.createWebChannelTransport=function(){return new Ho},Gs=U.getStatEventTarget=function(){return Pr()},Go=U.ErrorCode=hi,xa=U.EventType=vi,pa=U.Event=Kn,Ma=U.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},no=U.FetchXmlHttpFactory=J,v=U.WebChannel=F,S=U.XhrIo=ur;const b="@firebase/firestore";class ${constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$.UNAUTHENTICATED=new $(null),$.GOOGLE_CREDENTIALS=new $("google-credentials-uid"),$.FIRST_PARTY=new $("first-party-uid"),$.MOCK_USER=new $("mock-user");let te="9.13.0";const Ye=new Ue.Yd("@firebase/firestore");function Mt(){return Ye.logLevel}function lt(s,...e){if(Ye.logLevel<=Ue.in.DEBUG){const r=e.map(Qr);Ye.debug(`Firestore (${te}): ${s}`,...r)}}function un(s,...e){if(Ye.logLevel<=Ue.in.ERROR){const r=e.map(Qr);Ye.error(`Firestore (${te}): ${s}`,...r)}}function Wn(s,...e){if(Ye.logLevel<=Ue.in.WARN){const r=e.map(Qr);Ye.warn(`Firestore (${te}): ${s}`,...r)}}function Qr(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(r){return s}}function ln(s="Unexpected state"){const e=`FIRESTORE (${te}) INTERNAL ASSERTION FAILED: `+s;throw un(e),new Error(e)}function xn(s,e){s||ln()}function nn(s,e){return s}const Et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends de.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class dc{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r($.UNAUTHENTICATED))}shutdown(){}}class zo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Wi{constructor(e){this.t=e,this.currentUser=$.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var a=this;let u=this.i;const h=Y=>this.i!==u?(u=this.i,r(Y)):Promise.resolve();let y=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Fi,e.enqueueRetryable(()=>h(this.currentUser))};const A=()=>{const Y=y;e.enqueueRetryable((0,_.Z)(function*(){yield Y.promise,yield h(a.currentUser)}))},G=Y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Y,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(Y=>G(Y)),setTimeout(()=>{if(!this.auth){const Y=this.t.getImmediate({optional:!0});Y?G(Y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Fi)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(xn("string"==typeof a.accessToken),new dc(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xn(null===e||"string"==typeof e),new $(e)}}class el{constructor(e,r,a,u){this.h=e,this.l=r,this.m=a,this.g=u,this.type="FirstParty",this.user=$.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(xn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class tl{constructor(e,r,a,u){this.h=e,this.l=r,this.m=a,this.g=u}getToken(){return Promise.resolve(new el(this.h,this.l,this.m,this.g))}start(e,r){e.enqueueRetryable(()=>r($.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ri{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class za{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,r){const a=h=>{null!=h.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.A;return this.A=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?r(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.T.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.T.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xn("string"==typeof r.token),this.A=r.token,new Ri(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hc(s){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let a=0;a<s;a++)r[a]=Math.floor(256*Math.random());return r}class Wa{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const u=hc(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<r&&(a+=e.charAt(u[h]%e.length))}return a}}function hr(s,e){return s<e?-1:s>e?1:0}function _o(s,e,r){return s.length===e.length&&s.every((a,u)=>r(a,e[u]))}function ga(s){return s+"\0"}class Wr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new kt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new kt(Et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new kt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(Et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wr.fromMillis(Date.now())}static fromDate(e){return Wr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*r));return new Wr(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hr(this.nanoseconds,e.nanoseconds):hr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Jn(e)}static min(){return new Jn(new Wr(0,0))}static max(){return new Jn(new Wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ma{constructor(e,r,a){void 0===r?r=0:r>e.length&&ln(),void 0===a?a=e.length-r:a>e.length-r&&ln(),this.segments=e,this.offset=r,this.len=a}get length(){return this.len}isEqual(e){return 0===ma.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ma?e.forEach(a=>{r.push(a)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,a=this.limit();r<a;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const a=Math.min(e.length,r.length);for(let u=0;u<a;u++){const h=e.get(u),y=r.get(u);if(h<y)return-1;if(h>y)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class zr extends ma{construct(e,r,a){return new zr(e,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const a of e){if(a.indexOf("//")>=0)throw new kt(Et.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(u=>u.length>0))}return new zr(r)}static emptyPath(){return new zr([])}}const Fo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends ma{construct(e,r,a){return new Ai(e,r,a)}static isValidIdentifier(e){return Fo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ai(["__name__"])}static fromServerFormat(e){const r=[];let a="",u=0;const h=()=>{if(0===a.length)throw new kt(Et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let y=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new kt(Et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[u+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new kt(Et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=G,u+=2}else"`"===A?(y=!y,u++):"."!==A||y?(a+=A,u++):(h(),u++)}if(h(),y)throw new kt(Et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(r)}static emptyPath(){return new Ai([])}}class on{constructor(e){this.path=e}static fromPath(e){return new on(zr.fromString(e))}static fromName(e){return new on(zr.fromString(e).popFirst(5))}static empty(){return new on(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return zr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new on(new zr(e.slice()))}}class ia{constructor(e,r,a,u){this.indexId=e,this.collectionGroup=r,this.fields=a,this.indexState=u}}function Os(s){return s.fields.find(e=>2===e.kind)}function bo(s){return s.fields.filter(e=>2!==e.kind)}ia.UNKNOWN_ID=-1;class qa{constructor(e,r){this.fieldPath=e,this.kind=r}}class Ya{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Ya(0,ss.min())}}function ya(s){return new ss(s.readTime,s.key,-1)}class ss{constructor(e,r,a){this.readTime=e,this.documentKey=r,this.largestBatchId=a}static min(){return new ss(Jn.min(),on.empty(),-1)}static max(){return new ss(Jn.max(),on.empty(),-1)}}function Lo(s,e){let r=s.readTime.compareTo(e.readTime);return 0!==r?r:(r=on.comparator(s.documentKey,e.documentKey),0!==r?r:hr(s.largestBatchId,e.largestBatchId))}const Ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ka{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ro(s){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,_.Z)(function*(s){if(s.code!==Et.FAILED_PRECONDITION||s.message!==Ra)throw s;lt("LocalStore","Unexpectedly lost primary lease")}),Wo.apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ln(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new at((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(a,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof at?r:at.resolve(r)}catch(r){return at.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):at.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):at.reject(r)}static resolve(e){return new at((r,a)=>{r(e)})}static reject(e){return new at((r,a)=>{a(e)})}static waitFor(e){return new at((r,a)=>{let u=0,h=0,y=!1;e.forEach(A=>{++u,A.next(()=>{++h,y&&h===u&&r()},G=>a(G))}),y=!0,h===u&&r()})}static or(e){let r=at.resolve(!1);for(const a of e)r=r.next(u=>u?at.resolve(u):a());return r}static forEach(e,r){const a=[];return e.forEach((u,h)=>{a.push(r.call(this,u,h))}),this.waitFor(a)}static mapArray(e,r){return new at((a,u)=>{const h=e.length,y=new Array(h);let A=0;for(let G=0;G<h;G++){const Y=G;r(e[Y]).next(ge=>{y[Y]=ge,++A,A===h&&a(y)},ge=>u(ge))}})}static doWhile(e,r){return new at((a,u)=>{const h=()=>{!0===e()?r().next(()=>{h()},u):a()};h()})}}class ks{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.P=new Fi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{r.error?this.P.reject(new Ws(e,r.error)):this.P.resolve()},this.transaction.onerror=a=>{const u=z(a.target.error);this.P.reject(new Ws(e,u))}}static open(e,r,a,u){try{return new ks(r,e.transaction(u,a))}catch(h){throw new Ws(r,h)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new C(r)}}class os{constructor(e,r,a){this.name=e,this.version=r,this.S=a,12.2===os.D((0,de.z$)())&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lt("SimpleDb","Removing database:",e),E(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,de.hl)())return!1;if(os.N())return!0;const e=(0,de.z$)(),r=os.D(e),a=0<r&&r<10,u=os.k(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||h)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,r){return e.store(r)}static D(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static k(e){const r=e.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}F(e){var r=this;return(0,_.Z)(function*(){return r.db||(lt("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,u)=>{const h=indexedDB.open(r.name,r.version);h.onsuccess=y=>{a(y.target.result)},h.onblocked=()=>{u(new Ws(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=y=>{const A=y.target.error;u("VersionError"===A.name?new kt(Et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new kt(Et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Ws(e,A))},h.onupgradeneeded=y=>{lt("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',y.oldVersion),r.S.$(y.target.result,h.transaction,y.oldVersion,r.version).next(()=>{lt("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=a=>r.B(a)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,a,u){var h=this;return(0,_.Z)(function*(){const y="readonly"===r;let A=0;for(;;){++A;try{h.db=yield h.F(e);const G=ks.open(h.db,e,y?"readonly":"readwrite",a),Y=u(G).next(ge=>(G.V(),ge)).catch(ge=>(G.abort(ge),at.reject(ge))).toPromise();return Y.catch(()=>{}),yield G.v,Y}catch(G){const Y=G,ge="FirebaseError"!==Y.name&&A<3;if(lt("SimpleDb","Transaction failed with error:",Y.message,"Retrying:",ge),h.close(),!ge)return Promise.reject(Y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Gc{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return E(this.U.delete())}}class Ws extends kt{constructor(e,r){super(Et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function T(s){return"IndexedDbTransactionError"===s.name}class C{constructor(e){this.store=e}put(e,r){let a;return void 0!==r?(lt("SimpleDb","PUT",this.store.name,e,r),a=this.store.put(r,e)):(lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),E(a)}add(e){return lt("SimpleDb","ADD",this.store.name,e,e),E(this.store.add(e))}get(e){return E(this.store.get(e)).next(r=>(void 0===r&&(r=null),lt("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return lt("SimpleDb","DELETE",this.store.name,e),E(this.store.delete(e))}count(){return lt("SimpleDb","COUNT",this.store.name),E(this.store.count())}W(e,r){const a=this.options(e,r);if(a.index||"function"!=typeof this.store.getAll){const u=this.cursor(a),h=[];return this.H(u,(y,A)=>{h.push(A)}).next(()=>h)}{const u=this.store.getAll(a.range);return new at((h,y)=>{u.onerror=A=>{y(A.target.error)},u.onsuccess=A=>{h(A.target.result)}})}}J(e,r){const a=this.store.getAll(e,null===r?void 0:r);return new at((u,h)=>{a.onerror=y=>{h(y.target.error)},a.onsuccess=y=>{u(y.target.result)}})}Y(e,r){lt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(e,r);a.X=!1;const u=this.cursor(a);return this.H(u,(h,y,A)=>A.delete())}Z(e,r){let a;r?a=e:(a={},r=e);const u=this.cursor(a);return this.H(u,r)}tt(e){const r=this.cursor({});return new at((a,u)=>{r.onerror=h=>{const y=z(h.target.error);u(y)},r.onsuccess=h=>{const y=h.target.result;y?e(y.primaryKey,y.value).next(A=>{A?y.continue():a()}):a()}})}H(e,r){const a=[];return new at((u,h)=>{e.onerror=y=>{h(y.target.error)},e.onsuccess=y=>{const A=y.target.result;if(!A)return void u();const G=new Gc(A),Y=r(A.primaryKey,A.value,G);if(Y instanceof at){const ge=Y.catch(ke=>(G.done(),at.reject(ke)));a.push(ge)}G.isDone?u():null===G.G?A.continue():A.continue(G.G)}}).next(()=>at.waitFor(a))}options(e,r){let a;return void 0!==e&&("string"==typeof e?a=e:r=e),{index:a,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const a=this.store.index(e.index);return e.X?a.openKeyCursor(e.range,r):a.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function E(s){return new at((e,r)=>{s.onsuccess=a=>{e(a.target.result)},s.onerror=a=>{const u=z(a.target.error);r(u)}})}let k=!1;function z(s){const e=os.D((0,de.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(r)>=0){const a=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k||(k=!0,setTimeout(()=>{throw a},0)),a}}return s}class ie{constructor(e,r){this.asyncQueue=e,this.et=r,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var r=this;lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_.Z)(function*(){r.task=null;try{lt("IndexBackiller",`Documents written: ${yield r.et.st()}`)}catch(a){T(a)?lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",a):yield ro(a)}yield r.nt(6e4)}))}}class Ae{constructor(e,r){this.localStore=e,this.persistence=r}st(e=50){var r=this;return(0,_.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>r.it(a,e))})()}it(e,r){const a=new Set;let u=r,h=!0;return at.doWhile(()=>!0===h&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!a.has(y))return lt("IndexBackiller",`Processing collection: ${y}`),this.rt(e,y,u).next(A=>{u-=A,a.add(y)});h=!1})).next(()=>r-u)}rt(e,r,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,a).next(h=>{const y=h.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.ot(u,h)).next(A=>(lt("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,r,A))).next(()=>y.size)}))}ot(e,r){let a=e;return r.changes.forEach((u,h)=>{const y=ya(h);Lo(y,a)>0&&(a=y)}),new ss(a.readTime,a.documentKey,Math.max(r.batchId,e.largestBatchId))}}class Ve{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=a=>this.ut(a),this.ct=a=>r.writeSequenceNumber(a))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function St(s){let e=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e++;return e}function fn(s,e){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&e(r,s[r])}function Tr(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}Ve.at=-1;class yn{constructor(e,r){this.comparator=e,this.root=r||qn.EMPTY}insert(e,r){return new yn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(e){let r=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(0===u)return r+a.left.size;u<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,a)=>(e(r,a),!1))}toString(){const e=[];return this.inorderTraversal((r,a)=>(e.push(`${r}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xr(this.root,e,this.comparator,!0)}}class Xr{constructor(e,r,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=r?a(e.key,r):1,r&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qn{constructor(e,r,a,u,h){this.key=e,this.value=r,this.color=null!=a?a:qn.RED,this.left=null!=u?u:qn.EMPTY,this.right=null!=h?h:qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,a,u,h){return new qn(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,r,a),null):0===h?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let a,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return qn.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ln();const e=this.left.check();if(e!==this.right.check())throw ln();return e+(this.isRed()?0:1)}}qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1,qn.EMPTY=new class{constructor(){this.size=0}get key(){throw ln()}get value(){throw ln()}get color(){throw ln()}get left(){throw ln()}get right(){throw ln()}copy(s,e,r,a,u){return this}insert(s,e,r){return new qn(s,e)}remove(s,e){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $r{constructor(e){this.comparator=e,this.data=new yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,a)=>(e(r),!1))}forEachInRange(e,r){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new qo(this.data.getIterator())}getIteratorFrom(e){return new qo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(a=>{r=r.add(a)}),r}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const r=this.data.getIterator(),a=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=a.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new $r(this.comparator);return r.data=e,r}}class qo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function as(s){return s.hasNext()?s.getNext():void 0}class ms{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new ms([])}unionWith(e){let r=new $r(Ai.comparator);for(const a of this.fields)r=r.add(a);for(const a of e)r=r.add(a);return new ms(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(r,a)=>r.isEqual(a))}}class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new gr(r)}static fromUint8Array(e){const r=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new gr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const pc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(s){if(xn(!!s),"string"==typeof s){let e=0;const r=pc.exec(s);if(xn(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Di(s.seconds),nanos:Di(s.nanos)}}function Di(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function va(s){return"string"==typeof s?gr.fromBase64String(s):gr.fromUint8Array(s)}function yu(s){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==s?void 0:s.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function vu(s){const e=s.mapValue.fields.__previous_value__;return yu(e)?vu(e):e}function qs(s){const e=oa(s.mapValue.fields.__local_write_time__.timestampValue);return new Wr(e.seconds,e.nanos)}class xd{constructor(e,r,a,u,h,y,A,G){this.databaseId=e,this.appId=r,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=A,this.useFetchStreams=G}}class aa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}function _u(s){return null==s}function gc(s){return 0===s&&1/s==-1/0}const io={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Li={nullValue:"NULL_VALUE"};function Yo(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?yu(s)?4:bc(s)?9007199254740991:10:ln()}function ys(s,e){if(s===e)return!0;const r=Yo(s);if(r!==Yo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return qs(s).isEqual(qs(e));case 3:return function(a,u){if("string"==typeof a.timestampValue&&"string"==typeof u.timestampValue&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=oa(a.timestampValue),y=oa(u.timestampValue);return h.seconds===y.seconds&&h.nanos===y.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return u=e,va(s.bytesValue).isEqual(va(u.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,u){return Di(a.geoPointValue.latitude)===Di(u.geoPointValue.latitude)&&Di(a.geoPointValue.longitude)===Di(u.geoPointValue.longitude)}(s,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return Di(a.integerValue)===Di(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=Di(a.doubleValue),y=Di(u.doubleValue);return h===y?gc(h)===gc(y):isNaN(h)&&isNaN(y)}return!1}(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:return function(a,u){const h=a.mapValue.fields||{},y=u.mapValue.fields||{};if(St(h)!==St(y))return!1;for(const A in h)if(h.hasOwnProperty(A)&&(void 0===y[A]||!ys(h[A],y[A])))return!1;return!0}(s,e);default:return ln()}var u}function yc(s,e){return void 0!==(s.values||[]).find(r=>ys(r,e))}function ca(s,e){if(s===e)return 0;const r=Yo(s),a=Yo(e);if(r!==a)return hr(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return hr(s.booleanValue,e.booleanValue);case 2:return function(u,h){const y=Di(u.integerValue||u.doubleValue),A=Di(h.integerValue||h.doubleValue);return y<A?-1:y>A?1:y===A?0:isNaN(y)?isNaN(A)?0:-1:1}(s,e);case 3:return so(s.timestampValue,e.timestampValue);case 4:return so(qs(s),qs(e));case 5:return hr(s.stringValue,e.stringValue);case 6:return function(u,h){const y=va(u),A=va(h);return y.compareTo(A)}(s.bytesValue,e.bytesValue);case 7:return function(u,h){const y=u.split("/"),A=h.split("/");for(let G=0;G<y.length&&G<A.length;G++){const Y=hr(y[G],A[G]);if(0!==Y)return Y}return hr(y.length,A.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,h){const y=hr(Di(u.latitude),Di(h.latitude));return 0!==y?y:hr(Di(u.longitude),Di(h.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(u,h){const y=u.values||[],A=h.values||[];for(let G=0;G<y.length&&G<A.length;++G){const Y=ca(y[G],A[G]);if(Y)return Y}return hr(y.length,A.length)}(s.arrayValue,e.arrayValue);case 10:return function(u,h){if(u===io.mapValue&&h===io.mapValue)return 0;if(u===io.mapValue)return 1;if(h===io.mapValue)return-1;const y=u.fields||{},A=Object.keys(y),G=h.fields||{},Y=Object.keys(G);A.sort(),Y.sort();for(let ge=0;ge<A.length&&ge<Y.length;++ge){const ke=hr(A[ge],Y[ge]);if(0!==ke)return ke;const pt=ca(y[A[ge]],G[Y[ge]]);if(0!==pt)return pt}return hr(A.length,Y.length)}(s.mapValue,e.mapValue);default:throw ln()}}function so(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return hr(s,e);const r=oa(s),a=oa(e),u=hr(r.seconds,a.seconds);return 0!==u?u:hr(r.nanos,a.nanos)}function Ns(s){return vc(s)}function vc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(a){const u=oa(a);return`time(${u.seconds},${u.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?va(s.bytesValue).toBase64():"referenceValue"in s?on.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(e=s.geoPointValue).latitude},${e.longitude})`:"arrayValue"in s?function(a){let u="[",h=!0;for(const y of a.values||[])h?h=!1:u+=",",u+=vc(y);return u+"]"}(s.arrayValue):"mapValue"in s?function(a){const u=Object.keys(a.fields||{}).sort();let h="{",y=!0;for(const A of u)y?y=!1:h+=",",h+=`${A}:${vc(a.fields[A])}`;return h+"}"}(s.mapValue):ln();var e}function Io(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ys(s){return!!s&&"integerValue"in s}function _c(s){return!!s&&"arrayValue"in s}function zc(s){return!!s&&"nullValue"in s}function Wc(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Za(s){return!!s&&"mapValue"in s}function bu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return fn(s.mapValue.fields,(r,a)=>e.mapValue.fields[r]=bu(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=bu(s.arrayValue.values[r]);return e}return Object.assign({},s)}function bc(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fs(s){return"nullValue"in s?Li:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Io(aa.empty(),on.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:ln()}function Ec(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Io(aa.empty(),on.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?io:ln()}function Qa(s,e){const r=ca(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function Eu(s,e){const r=ca(s.value,e.value);return 0!==r?r:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class vs{constructor(e){this.value=e}static empty(){return new vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let a=0;a<e.length-1;++a)if(r=(r.mapValue.fields||{})[e.get(a)],!Za(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(r)}setAll(e){let r=Ai.emptyPath(),a={},u=[];e.forEach((y,A)=>{if(!r.isImmediateParentOf(A)){const G=this.getFieldsMap(r);this.applyChanges(G,a,u),a={},u=[],r=A.popLast()}y?a[A.lastSegment()]=bu(y):u.push(A.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,a,u)}delete(e){const r=this.field(e.popLast());Za(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=r.mapValue.fields[e.get(a)];Za(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(a)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,a){fn(r,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new vs(bu(this.value))}}function Ki(s){const e=[];return fn(s.fields,(r,a)=>{const u=new Ai([r]);if(Za(a)){const h=Ki(a.mapValue).fields;if(0===h.length)e.push(u);else for(const y of h)e.push(u.child(y))}else e.push(u)}),new ms(e)}class di{constructor(e,r,a,u,h,y){this.key=e,this.documentType=r,this.version=a,this.readTime=u,this.data=h,this.documentState=y}static newInvalidDocument(e){return new di(e,0,Jn.min(),Jn.min(),vs.empty(),0)}static newFoundDocument(e,r,a){return new di(e,1,r,Jn.min(),a,0)}static newNoDocument(e,r){return new di(e,2,r,Jn.min(),vs.empty(),0)}static newUnknownDocument(e,r){return new di(e,3,r,Jn.min(),vs.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $l{constructor(e,r=null,a=[],u=[],h=null,y=null,A=null){this.path=e,this.collectionGroup=r,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=y,this.endAt=A,this.ht=null}}function qc(s,e=null,r=[],a=[],u=null,h=null,y=null){return new $l(s,e,r,a,u,h,y)}function Pa(s){const e=nn(s);if(null===e.ht){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(a=>{return(u=a).field.canonicalString()+u.op.toString()+Ns(u.value);var u}).join(","),r+="|ob:",r+=e.orderBy.map(a=>{return(u=a).field.canonicalString()+u.dir;var u}).join(","),_u(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(a=>Ns(a)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(a=>Ns(a)).join(",")),e.ht=r}return e.ht}function Xa(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<s.orderBy.length;u++)if(!Bl(s.orderBy[u],e.orderBy[u]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let u=0;u<s.filters.length;u++)if((r=s.filters[u]).op!==(a=e.filters[u]).op||!r.field.isEqual(a.field)||!ys(r.value,a.value))return!1;var r,a;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ua(s.startAt,e.startAt)&&ua(s.endAt,e.endAt)}function _a(s){return on.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function Yc(s,e){return s.filters.filter(r=>r instanceof Ii&&r.field.isEqual(e))}function Ko(s,e,r){let a=Li,u=!0;for(const h of Yc(s,e)){let y=Li,A=!0;switch(h.op){case"<":case"<=":y=Fs(h.value);break;case"==":case"in":case">=":y=h.value;break;case">":y=h.value,A=!1;break;case"!=":case"not-in":y=Li}Qa({value:a,inclusive:u},{value:y,inclusive:A})<0&&(a=y,u=A)}if(null!==r)for(let h=0;h<s.orderBy.length;++h)if(s.orderBy[h].field.isEqual(e)){const y=r.position[h];Qa({value:a,inclusive:u},{value:y,inclusive:r.inclusive})<0&&(a=y,u=r.inclusive);break}return{value:a,inclusive:u}}function Ic(s,e,r){let a=io,u=!0;for(const h of Yc(s,e)){let y=io,A=!0;switch(h.op){case">=":case">":y=Ec(h.value),A=!1;break;case"==":case"in":case"<=":y=h.value;break;case"<":y=h.value,A=!1;break;case"!=":case"not-in":y=io}Eu({value:a,inclusive:u},{value:y,inclusive:A})>0&&(a=y,u=A)}if(null!==r)for(let h=0;h<s.orderBy.length;++h)if(s.orderBy[h].field.isEqual(e)){const y=r.position[h];Eu({value:a,inclusive:u},{value:y,inclusive:r.inclusive})>0&&(a=y,u=r.inclusive);break}return{value:a,inclusive:u}}class Ii extends class{}{constructor(e,r,a){super(),this.field=e,this.op=r,this.value=a}static create(e,r,a){return e.isKeyField()?"in"===r||"not-in"===r?this.lt(e,r,a):new nl(e,r,a):"array-contains"===r?new Cu(e,a):"in"===r?new wu(e,a):"not-in"===r?new wc(e,a):"array-contains-any"===r?new oo(e,a):new Ii(e,r,a)}static lt(e,r,a){return"in"===r?new Cc(e,a):new rl(e,a)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.ft(ca(r,this.value)):null!==r&&Yo(this.value)===Yo(r)&&this.ft(ca(r,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ln()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nl extends Ii{constructor(e,r,a){super(e,r,a),this.key=on.fromName(a.referenceValue)}matches(e){const r=on.comparator(e.key,this.key);return this.ft(r)}}class Cc extends Ii{constructor(e,r){super(e,"in",r),this.keys=Iu(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class rl extends Ii{constructor(e,r){super(e,"not-in",r),this.keys=Iu(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Iu(s,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>on.fromName(a.referenceValue))}class Cu extends Ii{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return _c(r)&&yc(r.arrayValue,this.value)}}class wu extends Ii{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&yc(this.value.arrayValue,r)}}class wc extends Ii{constructor(e,r){super(e,"not-in",r)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!yc(this.value.arrayValue,r)}}class oo extends Ii{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!_c(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>yc(this.value.arrayValue,a))}}class Vo{constructor(e,r){this.position=e,this.inclusive=r}}class mi{constructor(e,r="asc"){this.field=e,this.dir=r}}function Bl(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}function ka(s,e,r){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],y=s.position[u];if(a=h.field.isKeyField()?on.comparator(on.fromName(y.referenceValue),r.key):ca(y,r.data.field(h.field)),"desc"===h.dir&&(a*=-1),0!==a)break}return a}function ua(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!ys(s.position[r],e.position[r]))return!1;return!0}class qi{constructor(e,r=null,a=[],u=[],h=null,y="F",A=null,G=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=y,this.startAt=A,this.endAt=G,this._t=null,this.wt=null}}function Ja(s){return new qi(s)}function Dc(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function Ul(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function ba(s){for(const e of s.filters)if(e.dt())return e.field;return null}function P(s){const e=nn(s);if(null===e._t){e._t=[];const r=ba(e),a=Ul(e);if(null!==r&&null===a)r.isKeyField()||e._t.push(new mi(r)),e._t.push(new mi(Ai.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e._t.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new mi(Ai.keyField(),h))}}}return e._t}function M(s){const e=nn(s);if(!e.wt)if("F"===e.limitType)e.wt=qc(e.path,e.collectionGroup,P(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const h of P(e))r.push(new mi(h.field,"desc"===h.dir?"asc":"desc"));const a=e.endAt?new Vo(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Vo(e.startAt.position,e.startAt.inclusive):null;e.wt=qc(e.path,e.collectionGroup,r,e.filters,e.limit,a,u)}return e.wt}function W(s,e,r){return new qi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,r,s.startAt,s.endAt)}function he(s,e){return Xa(M(s),M(e))&&s.limitType===e.limitType}function We(s){return`${Pa(M(s))}|lt:${s.limitType}`}function dt(s){return`Query(target=${function(s){let e=s.path.canonicalString();return null!==s.collectionGroup&&(e+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(e+=`, filters: [${s.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${Ns(a.value)}`;var a}).join(", ")}]`),_u(s.limit)||(e+=", limit: "+s.limit),s.orderBy.length>0&&(e+=`, orderBy: [${s.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),s.startAt&&(e+=", startAt: ",e+=s.startAt.inclusive?"b:":"a:",e+=s.startAt.position.map(r=>Ns(r)).join(",")),s.endAt&&(e+=", endAt: ",e+=s.endAt.inclusive?"a:":"b:",e+=s.endAt.position.map(r=>Ns(r)).join(",")),`Target(${e})`}(M(s))}; limitType=${s.limitType})`}function Wt(s,e){return e.isFoundDocument()&&function(r,a){const u=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):on.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(s,e)&&function(r,a){for(const u of r.explicitOrderBy)if(!u.field.isKeyField()&&null===a.data.field(u.field))return!1;return!0}(s,e)&&function(r,a){for(const u of r.filters)if(!u.matches(a))return!1;return!0}(s,e)&&(a=e,!((r=s).startAt&&!function(u,h,y){const A=ka(u,h,y);return u.inclusive?A<=0:A<0}(r.startAt,P(r),a)||r.endAt&&!function(u,h,y){const A=ka(u,h,y);return u.inclusive?A>=0:A>0}(r.endAt,P(r),a)));var r,a}function rr(s){return(e,r)=>{let a=!1;for(const u of P(s)){const h=vr(u,e,r);if(0!==h)return h;a=a||u.field.isKeyField()}return 0}}function vr(s,e,r){const a=s.field.isKeyField()?on.comparator(e.key,r.key):function(u,h,y){const A=h.data.field(u),G=y.data.field(u);return null!==A&&null!==G?ca(A,G):ln()}(s.field,e,r);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ln()}}function Sr(s,e){if(s.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function sr(s){return{integerValue:""+s}}function cs(s,e){return function(s){return"number"==typeof s&&Number.isInteger(s)&&!gc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(e)?sr(e):Sr(s,e)}class us{constructor(){this._=void 0}}function Kc(s,e,r){return s instanceof tc?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(r,e):s instanceof la?$o(s,e):s instanceof Ls?Co(s,e):function(a,u){const h=Na(a,u),y=Rd(h)+Rd(a.yt);return Ys(h)&&Ys(a.yt)?sr(y):Sr(a.It,y)}(s,e)}function ec(s,e,r){return s instanceof la?$o(s,e):s instanceof Ls?Co(s,e):r}function Na(s,e){return s instanceof Ea?Ys(r=e)||(a=r)&&"doubleValue"in a?e:{integerValue:0}:null;var a,r}class tc extends us{}class la extends us{constructor(e){super(),this.elements=e}}function $o(s,e){const r=il(e);for(const a of s.elements)r.some(u=>ys(u,a))||r.push(a);return{arrayValue:{values:r}}}class Ls extends us{constructor(e){super(),this.elements=e}}function Co(s,e){let r=il(e);for(const a of s.elements)r=r.filter(u=>!ys(u,a));return{arrayValue:{values:r}}}class Ea extends us{constructor(e,r){super(),this.It=e,this.yt=r}}function Rd(s){return Di(s.integerValue||s.doubleValue)}function il(s){return _c(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class nc{constructor(e,r){this.field=e,this.transform=r}}class Pd{constructor(e,r){this.version=e,this.transformResults=r}}class Pi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Du(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Ia{}function Od(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new Zc(s.key,Pi.none()):new wo(s.key,s.data,Pi.none());{const r=s.data,a=vs.empty();let u=new $r(Ai.comparator);for(let h of e.fields)if(!u.has(h)){let y=r.field(h);null===y&&h.length>1&&(h=h.popLast(),y=r.field(h)),null===y?a.delete(h):a.set(h,y),u=u.add(h)}return new Do(s.key,a,new ms(u.toArray()),Pi.none())}}function ef(s,e,r){s instanceof wo?function(a,u,h){const y=a.value.clone(),A=Gl(a.fieldTransforms,u,h.transformResults);y.setAll(A),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(s,e,r):s instanceof Do?function(a,u,h){if(!Du(a.precondition,u))return void u.convertToUnknownDocument(h.version);const y=Gl(a.fieldTransforms,u,h.transformResults),A=u.data;A.setAll(Hl(a)),A.setAll(y),u.convertToFoundDocument(h.version,A).setHasCommittedMutations()}(s,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Tc(s,e,r,a){return s instanceof wo?function(u,h,y,A){if(!Du(u.precondition,h))return y;const G=u.value.clone(),Y=Nd(u.fieldTransforms,A,h);return G.setAll(Y),h.convertToFoundDocument(h.version,G).setHasLocalMutations(),null}(s,e,r,a):s instanceof Do?function(u,h,y,A){if(!Du(u.precondition,h))return y;const G=Nd(u.fieldTransforms,A,h),Y=h.data;return Y.setAll(Hl(u)),Y.setAll(G),h.convertToFoundDocument(h.version,Y).setHasLocalMutations(),null===y?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(ge=>ge.field))}(s,e,r,a):(y=r,Du(s.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):y);var h,y}function tf(s,e){let r=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=Na(a.transform,u||null);null!=h&&(null===r&&(r=vs.empty()),r.set(a.field,h))}return r||null}function kd(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(r=s.fieldTransforms)&&void 0===a||r&&a&&_o(r,a,(u,h)=>function(s,e){return s.field.isEqual(e.field)&&(a=e.transform,(r=s.transform)instanceof la&&a instanceof la||r instanceof Ls&&a instanceof Ls?_o(r.elements,a.elements,ys):r instanceof Ea&&a instanceof Ea?ys(r.yt,a.yt):r instanceof tc&&a instanceof tc);var r,a}(u,h))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var r,a}class wo extends Ia{constructor(e,r,a,u=[]){super(),this.key=e,this.value=r,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Do extends Ia{constructor(e,r,a,u,h=[]){super(),this.key=e,this.data=r,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Hl(s){const e=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=s.data.field(r);e.set(r,a)}}),e}function Gl(s,e,r){const a=new Map;xn(s.length===r.length);for(let u=0;u<r.length;u++){const h=s[u],y=h.transform,A=e.data.field(h.field);a.set(h.field,ec(y,A,r[u]))}return a}function Nd(s,e,r){const a=new Map;for(const u of s){const h=u.transform,y=r.data.field(u.field);a.set(u.field,Kc(h,y,e))}return a}class Zc extends Ia{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zl extends Ia{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nf{constructor(e){this.count=e}}var Yi,Jr;function sl(s){switch(s){default:return ln();case Et.CANCELLED:case Et.UNKNOWN:case Et.DEADLINE_EXCEEDED:case Et.RESOURCE_EXHAUSTED:case Et.INTERNAL:case Et.UNAVAILABLE:case Et.UNAUTHENTICATED:return!1;case Et.INVALID_ARGUMENT:case Et.NOT_FOUND:case Et.ALREADY_EXISTS:case Et.PERMISSION_DENIED:case Et.FAILED_PRECONDITION:case Et.ABORTED:case Et.OUT_OF_RANGE:case Et.UNIMPLEMENTED:case Et.DATA_LOSS:return!0}}function rf(s){if(void 0===s)return un("GRPC error has no .code"),Et.UNKNOWN;switch(s){case Yi.OK:return Et.OK;case Yi.CANCELLED:return Et.CANCELLED;case Yi.UNKNOWN:return Et.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return Et.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return Et.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return Et.INTERNAL;case Yi.UNAVAILABLE:return Et.UNAVAILABLE;case Yi.UNAUTHENTICATED:return Et.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return Et.INVALID_ARGUMENT;case Yi.NOT_FOUND:return Et.NOT_FOUND;case Yi.ALREADY_EXISTS:return Et.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return Et.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return Et.FAILED_PRECONDITION;case Yi.ABORTED:return Et.ABORTED;case Yi.OUT_OF_RANGE:return Et.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return Et.UNIMPLEMENTED;case Yi.DATA_LOSS:return Et.DATA_LOSS;default:return ln()}}(Jr=Yi||(Yi={}))[Jr.OK=0]="OK",Jr[Jr.CANCELLED=1]="CANCELLED",Jr[Jr.UNKNOWN=2]="UNKNOWN",Jr[Jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jr[Jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jr[Jr.NOT_FOUND=5]="NOT_FOUND",Jr[Jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jr[Jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jr[Jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jr[Jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jr[Jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jr[Jr.ABORTED=10]="ABORTED",Jr[Jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jr[Jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jr[Jr.INTERNAL=13]="INTERNAL",Jr[Jr.UNAVAILABLE=14]="UNAVAILABLE",Jr[Jr.DATA_LOSS=15]="DATA_LOSS";class rc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a)for(const[u,h]of a)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,r){const a=this.mapKeyFn(e),u=this.inner[a];if(void 0===u)return this.inner[a]=[[e,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0===a)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return 1===a.length?delete this.inner[r]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){fn(this.inner,(r,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return Tr(this.inner)}size(){return this.innerSize}}const yy=new yn(on.comparator);function co(){return yy}const Tu=new yn(on.comparator);function Sc(...s){let e=Tu;for(const r of s)e=e.insert(r.key,r);return e}function Zo(s){let e=Tu;return s.forEach((r,a)=>e=e.insert(r,a.overlayedDocument)),e}function To(){return Qc()}function Wl(){return Qc()}function Qc(){return new rc(s=>s.toString(),(s,e)=>s.isEqual(e))}const Fd=new yn(on.comparator),Xp=new $r(on.comparator);function Br(...s){let e=Xp;for(const r of s)e=e.add(r);return e}const Jp=new $r(hr);function Su(){return Jp}class I{constructor(e,r,a,u,h){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,r,a){const u=new Map;return u.set(e,d.createSynthesizedTargetChangeForCurrentChange(e,r,a)),new I(Jn.min(),u,Su(),co(),Br())}}class d{constructor(e,r,a,u,h){this.resumeToken=e,this.current=r,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,r,a){return new d(a,r,Br(),Br(),Br())}}class p{constructor(e,r,a,u){this.Tt=e,this.removedTargetIds=r,this.key=a,this.Et=u}}class D{constructor(e,r){this.targetId=e,this.At=r}}class K{constructor(e,r,a=gr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=a,this.cause=u}}class re{constructor(){this.Rt=0,this.bt=mn(),this.Pt=gr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Br(),r=Br(),a=Br();return this.bt.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:a=a.add(u);break;default:ln()}}),new d(this.Pt,this.vt,e,r,a)}Nt(){this.Vt=!1,this.bt=mn()}kt(e,r){this.Vt=!0,this.bt=this.bt.insert(e,r)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ke{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=co(),this.qt=At(),this.Kt=new $r(hr)}Gt(e){for(const r of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et);for(const r of e.removedTargetIds)this.jt(r,e.key,e.Et)}Wt(e){this.forEachTarget(e,r=>{const a=this.zt(r);switch(e.state){case 0:this.Ht(r)&&a.Ct(e.resumeToken);break;case 1:a.Ft(),a.St||a.Nt(),a.Ct(e.resumeToken);break;case 2:a.Ft(),a.St||this.removeTarget(r);break;case 3:this.Ht(r)&&(a.$t(),a.Ct(e.resumeToken));break;case 4:this.Ht(r)&&(this.Jt(r),a.Ct(e.resumeToken));break;default:ln()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Lt.forEach((a,u)=>{this.Ht(u)&&r(u)})}Yt(e){const r=e.targetId,a=e.At.count,u=this.Xt(r);if(u){const h=u.target;if(_a(h))if(0===a){const y=new on(h.path);this.jt(r,y,di.newNoDocument(y,Jn.min()))}else xn(1===a);else this.Zt(r)!==a&&(this.Jt(r),this.Kt=this.Kt.add(r))}}te(e){const r=new Map;this.Lt.forEach((h,y)=>{const A=this.Xt(y);if(A){if(h.current&&_a(A.target)){const G=new on(A.target.path);null!==this.Ut.get(G)||this.ee(y,G)||this.jt(y,G,di.newNoDocument(G,e))}h.Dt&&(r.set(y,h.xt()),h.Nt())}});let a=Br();this.qt.forEach((h,y)=>{let A=!0;y.forEachWhile(G=>{const Y=this.Xt(G);return!Y||2===Y.purpose||(A=!1,!1)}),A&&(a=a.add(h))}),this.Ut.forEach((h,y)=>y.setReadTime(e));const u=new I(e,r,this.Kt,this.Ut,a);return this.Ut=co(),this.qt=At(),this.Kt=new $r(hr),u}Qt(e,r){if(!this.Ht(e))return;const a=this.ee(e,r.key)?2:0;this.zt(e).kt(r.key,a),this.Ut=this.Ut.insert(r.key,r),this.qt=this.qt.insert(r.key,this.ne(r.key).add(e))}jt(e,r,a){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,r)?u.kt(r,1):u.Ot(r),this.qt=this.qt.insert(r,this.ne(r).delete(e)),a&&(this.Ut=this.Ut.insert(r,a))}removeTarget(e){this.Lt.delete(e)}Zt(e){const r=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let r=this.Lt.get(e);return r||(r=new re,this.Lt.set(e,r)),r}ne(e){let r=this.qt.get(e);return r||(r=new $r(hr),this.qt=this.qt.insert(e,r)),r}Ht(e){const r=null!==this.Xt(e);return r||lt("WatchChangeAggregator","Detected inactive target",e),r}Xt(e){const r=this.Lt.get(e);return r&&r.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new re),this.Bt.getRemoteKeysForTarget(e).forEach(r=>{this.jt(e,r,null)})}ee(e,r){return this.Bt.getRemoteKeysForTarget(e).has(r)}}function At(){return new yn(on.comparator)}function mn(){return new yn(on.comparator)}const an={asc:"ASCENDING",desc:"DESCENDING"},nr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ai{constructor(e,r){this.databaseId=e,this.gt=r}}function ri(s,e){return s.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ks(s,e){return s.gt?e.toBase64():e.toUint8Array()}function yi(s,e){return ri(s,e.toTimestamp())}function Zi(s){return xn(!!s),Jn.fromTimestamp(function(e){const r=oa(e);return new Wr(r.seconds,r.nanos)}(s))}function Au(s,e){return(r=s,new zr(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function xu(s){const e=zr.fromString(s);return xn(ig(e)),e}function Ac(s,e){return Au(s.databaseId,e.path)}function Qo(s,e){const r=xu(e);if(r.get(1)!==s.databaseId.projectId)throw new kt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new kt(Et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new on(Yl(r))}function ol(s,e){return Au(s.databaseId,e)}function ql(s){const e=xu(s);return 4===e.length?zr.emptyPath():Yl(e)}function xc(s){return new zr(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Yl(s){return xn(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function sf(s,e,r){return{name:Ac(s,e),fields:r.value.mapValue.fields}}function Ru(s,e){let r;if(e instanceof wo)r={update:sf(s,e.key,e.value)};else if(e instanceof Zc)r={delete:Ac(s,e.key)};else if(e instanceof Do)r={update:sf(s,e.key,e.data),updateMask:Ey(e.fieldMask)};else{if(!(e instanceof zl))return ln();r={verify:Ac(s,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(a=>function(u,h){const y=h.transform;if(y instanceof tc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof la)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ls)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ea)return{fieldPath:h.field.canonicalString(),increment:y.yt};throw ln()}(0,a))),e.precondition.isNone||(r.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:yi(s,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:ln()),r;var u}function Ld(s,e){const r=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Pi.updateTime(Zi(u.updateTime)):void 0!==u.exists?Pi.exists(u.exists):Pi.none():Pi.none(),a=e.updateTransforms?e.updateTransforms.map(u=>function(h,y){let A=null;"setToServerValue"in y?(xn("REQUEST_TIME"===y.setToServerValue),A=new tc):"appendMissingElements"in y?A=new la(y.appendMissingElements.values||[]):"removeAllFromArray"in y?A=new Ls(y.removeAllFromArray.values||[]):"increment"in y?A=new Ea(h,y.increment):ln();const G=Ai.fromServerFormat(y.fieldPath);return new nc(G,A)}(s,u)):[];var u;if(e.update){const u=Qo(s,e.update.name),h=new vs({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new ms((e.updateMask.fieldPaths||[]).map(Y=>Ai.fromServerFormat(Y)));return new Do(u,h,y,r,a)}return new wo(u,h,r,a)}if(e.delete){const u=Qo(s,e.delete);return new Zc(u,r)}if(e.verify){const u=Qo(s,e.verify);return new zl(u,r)}return ln()}function uo(s,e){return{documents:[ol(s,e.path)]}}function Pu(s,e){const r={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(r.parent=ol(s,a),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=ol(s,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const u=function(G){if(0===G.length)return;const Y=G.map(ge=>function(ke){if("=="===ke.op){if(Wc(ke.value))return{unaryFilter:{field:Ou(ke.field),op:"IS_NAN"}};if(zc(ke.value))return{unaryFilter:{field:Ou(ke.field),op:"IS_NULL"}}}else if("!="===ke.op){if(Wc(ke.value))return{unaryFilter:{field:Ou(ke.field),op:"IS_NOT_NAN"}};if(zc(ke.value))return{unaryFilter:{field:Ou(ke.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(ke.field),op:_y(ke.op),value:ke.value}}}(ge));return 1===Y.length?Y[0]:{compositeFilter:{op:"AND",filters:Y}}}(e.filters);u&&(r.structuredQuery.where=u);const h=function(G){if(0!==G.length)return G.map(Y=>{return{field:Ou((ge=Y).field),direction:ng(ge.dir)};var ge})}(e.orderBy);h&&(r.structuredQuery.orderBy=h);const y=(Y=e.limit,s.gt||_u(Y)?Y:{value:Y});var Y,A,G;return null!==y&&(r.structuredQuery.limit=y),e.startAt&&(r.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(r.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),r}function Vd(s){let e=ql(s.parent);const r=s.structuredQuery,a=r.from?r.from.length:0;let u=null;if(a>0){xn(1===a);const ge=r.from[0];ge.allDescendants?u=ge.collectionId:e=e.child(ge.collectionId)}let h=[];r.where&&(h=tg(r.where));let y=[];r.orderBy&&(y=r.orderBy.map(ge=>{return new mi(al((ke=ge).field),function(pt){switch(pt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ke.direction));var ke}));let A=null;r.limit&&(A=function(ge){let ke;return ke="object"==typeof ge?ge.value:ge,_u(ke)?null:ke}(r.limit));let G=null;var ge;r.startAt&&(G=new Vo((ge=r.startAt).values||[],!!ge.before));let Y=null;return r.endAt&&(Y=function(ge){return new Vo(ge.values||[],!ge.before)}(r.endAt)),function(s,e,r,a,u,h,y,A){return new qi(s,e,r,a,u,h,y,A)}(e,u,y,h,A,"F",G,Y)}function tg(s){return s?void 0!==s.unaryFilter?[by(s)]:void 0!==s.fieldFilter?[rg(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(e=>tg(e)).reduce((e,r)=>e.concat(r)):ln():[]}function ng(s){return an[s]}function _y(s){return nr[s]}function Ou(s){return{fieldPath:s.canonicalString()}}function al(s){return Ai.fromServerFormat(s.fieldPath)}function rg(s){return Ii.create(al(s.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ln()}}(s.fieldFilter.op),s.fieldFilter.value)}function by(s){switch(s.unaryFilter.op){case"IS_NAN":const e=al(s.unaryFilter.field);return Ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=al(s.unaryFilter.field);return Ii.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=al(s.unaryFilter.field);return Ii.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=al(s.unaryFilter.field);return Ii.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ln()}}function Ey(s){const e=[];return s.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ig(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function So(s){let e="";for(let r=0;r<s.length;r++)e.length>0&&(e=cf(e)),e=af(s.get(r),e);return cf(e)}function af(s,e){let r=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=h}}return r}function cf(s){return s+"\x01\x01"}function ic(s){const e=s.length;if(xn(e>=2),2===e)return xn("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),zr.emptyPath();const r=e-2,a=[];let u="";for(let h=0;h<e;){const y=s.indexOf("\x01",h);switch((y<0||y>r)&&ln(),s.charAt(y+1)){case"\x01":const A=s.substring(h,y);let G;0===u.length?G=A:(u+=A,G=u,u=""),a.push(G);break;case"\x10":u+=s.substring(h,y),u+="\0";break;case"\x11":u+=s.substring(h,y+1);break;default:ln()}h=y+2}return new zr(a)}const Iy=["userId","batchId"];function Zl(s,e){return[s,So(e)]}function Ql(s,e,r){return[s,So(e),r]}const Cy={},wy=["prefixPath","collectionGroup","readTime","documentId"],cl=["prefixPath","collectionGroup","documentId"],Dy=["collectionGroup","readTime","prefixPath","documentId"],Ty=["canonicalId","targetId"],Sy=["targetId","path"],Ay=["path","targetId"],xy=["collectionId","parent"],$d=["indexId","uid"],Ca=["uid","sequenceNumber"],sg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],My=["indexId","uid","orderedDocumentKey"],Ry=["userId","collectionPath","documentId"],og=["userId","collectionPath","largestBatchId"],u0=["userId","collectionGroup","largestBatchId"],uf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Py=[...uf,"documentOverlays"],ag=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cg=ag,ul=[...cg,"indexConfiguration","indexState","indexEntries"];class wa extends Ka{constructor(e,r){super(),this.ie=e,this.currentSequenceNumber=r}}function lo(s,e){const r=nn(s);return os.M(r.ie,e)}class ug{constructor(e,r,a,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,r){const a=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&ef(h,e,a[u])}}applyToLocalView(e,r){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(r=Tc(a,e,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(r=Tc(a,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const a=Wl();return this.mutations.forEach(u=>{const h=e.get(u.key),y=h.overlayedDocument;let A=this.applyToLocalView(y,h.mutatedFields);A=r.has(u.key)?null:A;const G=Od(y,A);null!==G&&a.set(u.key,G),y.isValidDocument()||y.convertToNoDocument(Jn.min())}),a}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Br())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(r,a)=>kd(r,a))&&_o(this.baseMutations,e.baseMutations,(r,a)=>kd(r,a))}}class Bd{constructor(e,r,a,u){this.batch=e,this.commitVersion=r,this.mutationResults=a,this.docVersions=u}static from(e,r,a){xn(e.mutations.length===a.length);let u=Fd;const h=e.mutations;for(let y=0;y<h.length;y++)u=u.insert(h[y].key,a[y].version);return new Bd(e,r,a,u)}}class lg{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ho{constructor(e,r,a,u,h=Jn.min(),y=Jn.min(),A=gr.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=A}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ud{constructor(e){this.re=e}}function dg(s,e){const r=e.key,a={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Xl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())a.document={name:Ac(u=s.re,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:ri(u,h.version.toTimestamp())};else if(e.isNoDocument())a.noDocument={path:r.path.toArray(),readTime:Fa(e.version)};else{if(!e.isUnknownDocument())return ln();a.unknownDocument={path:r.path.toArray(),version:Fa(e.version)}}var u,h;return a}function Xl(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Fa(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xc(s){const e=new Wr(s.seconds,s.nanoseconds);return Jn.fromTimestamp(e)}function Jc(s,e){const r=(e.baseMutations||[]).map(h=>Ld(s.re,h));for(let h=0;h<e.mutations.length-1;++h){const y=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(y.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const a=e.mutations.map(h=>Ld(s.re,h)),u=Wr.fromMillis(e.localWriteTimeMs);return new ug(e.batchId,u,r,a)}function ku(s){const e=Xc(s.readTime),r=void 0!==s.lastLimboFreeSnapshotVersion?Xc(s.lastLimboFreeSnapshotVersion):Jn.min();let a;var u;return void 0!==s.query.documents?(xn(1===(u=s.query).documents.length),a=M(Ja(ql(u.documents[0])))):a=M(Vd(s.query)),new ho(a,s.targetId,0,s.lastListenSequenceNumber,e,r,gr.fromBase64String(s.resumeToken))}function jd(s,e){const r=Fa(e.snapshotVersion),a=Fa(e.lastLimboFreeSnapshotVersion);let u;u=_a(e.target)?uo(s.re,e.target):Pu(s.re,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pa(e.target),readTime:r,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:u}}function Hd(s){const e=Vd({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?W(e,e.limit,"L"):e}function hg(s,e){return new lg(e.largestBatchId,Ld(s.re,e.overlayMutation))}function Nu(s,e){const r=e.path.lastSegment();return[s,So(e.path.popLast()),r]}function Gd(s,e,r,a){return{indexId:s,uid:e.uid||"",sequenceNumber:r,readTime:Fa(a.readTime),documentKey:So(a.documentKey.path),largestBatchId:a.largestBatchId}}class fg{getBundleMetadata(e,r){return pg(e).get(r).next(a=>{if(a)return{id:(u=a).bundleId,createTime:Xc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,r){return pg(e).put({bundleId:(a=r).id,createTime:Fa(Zi(a.createTime)),version:a.version});var a}getNamedQuery(e,r){return zd(e).get(r).next(a=>{if(a)return{name:(u=a).name,query:Hd(u.bundledQuery),readTime:Xc(u.readTime)};var u})}saveNamedQuery(e,r){return zd(e).put({name:(a=r).name,readTime:Fa(Zi(a.readTime)),bundledQuery:a.bundledQuery});var a}}function pg(s){return lo(s,"bundles")}function zd(s){return lo(s,"namedQueries")}class Wd{constructor(e,r){this.It=e,this.userId=r}static oe(e,r){return new Wd(e,r.uid||"")}getOverlay(e,r){return Jl(e).get(Nu(this.userId,r)).next(a=>a?hg(this.It,a):null)}getOverlays(e,r){const a=To();return at.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&a.set(u,h)})).next(()=>a)}saveOverlays(e,r,a){const u=[];return a.forEach((h,y)=>{const A=new lg(r,y);u.push(this.ue(e,A))}),at.waitFor(u)}removeOverlaysForBatchId(e,r,a){const u=new Set;r.forEach(y=>u.add(So(y.getCollectionPath())));const h=[];return u.forEach(y=>{const A=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,a+1],!1,!0);h.push(Jl(e).Y("collectionPathOverlayIndex",A))}),at.waitFor(h)}getOverlaysForCollection(e,r,a){const u=To(),h=So(r),y=IDBKeyRange.bound([this.userId,h,a],[this.userId,h,Number.POSITIVE_INFINITY],!0);return Jl(e).W("collectionPathOverlayIndex",y).next(A=>{for(const G of A){const Y=hg(this.It,G);u.set(Y.getKey(),Y)}return u})}getOverlaysForCollectionGroup(e,r,a,u){const h=To();let y;const A=IDBKeyRange.bound([this.userId,r,a],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Jl(e).Z({index:"collectionGroupOverlayIndex",range:A},(G,Y,ge)=>{const ke=hg(this.It,Y);h.size()<u||ke.largestBatchId===y?(h.set(ke.getKey(),ke),y=ke.largestBatchId):ge.done()}).next(()=>h)}ue(e,r){return Jl(e).put(function(a,u,h){const[y,A,G]=Nu(u,h.mutation.key);return{userId:u,collectionPath:A,documentId:G,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Ru(a.re,h.mutation)}}(this.It,this.userId,r))}}function Jl(s){return lo(s,"documentOverlays")}class Fu{constructor(){}ce(e,r){this.ae(e,r),r.he()}ae(e,r){if("nullValue"in e)this.le(r,5);else if("booleanValue"in e)this.le(r,10),r.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(r,15),r.fe(Di(e.integerValue));else if("doubleValue"in e){const a=Di(e.doubleValue);isNaN(a)?this.le(r,13):(this.le(r,15),gc(a)?r.fe(0):r.fe(a))}else if("timestampValue"in e){const a=e.timestampValue;this.le(r,20),"string"==typeof a?r.de(a):(r.de(`${a.seconds||""}`),r.fe(a.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,r),this.we(r);else if("bytesValue"in e)this.le(r,30),r.me(va(e.bytesValue)),this.we(r);else if("referenceValue"in e)this.ge(e.referenceValue,r);else if("geoPointValue"in e){const a=e.geoPointValue;this.le(r,45),r.fe(a.latitude||0),r.fe(a.longitude||0)}else"mapValue"in e?bc(e)?this.le(r,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,r),this.we(r)):"arrayValue"in e?(this.pe(e.arrayValue,r),this.we(r)):ln()}_e(e,r){this.le(r,25),this.Ie(e,r)}Ie(e,r){r.de(e)}ye(e,r){const a=e.fields||{};this.le(r,55);for(const u of Object.keys(a))this._e(u,r),this.ae(a[u],r)}pe(e,r){const a=e.values||[];this.le(r,50);for(const u of a)this.ae(u,r)}ge(e,r){this.le(r,37),on.fromName(e).path.forEach(a=>{this.le(r,60),this.Ie(a,r)})}le(e,r){e.fe(r)}we(e){e.fe(2)}}function Oy(s){if(0===s)return 8;let e=0;return s>>4==0&&(e+=4,s<<=4),s>>6==0&&(e+=2,s<<=2),s>>7==0&&(e+=1),e}function gg(s){const e=64-function(r){let a=0;for(let u=0;u<8;++u){const h=Oy(255&r[u]);if(a+=h,8!==h)break}return a}(s);return Math.ceil(e/8)}Fu.Te=new Fu;class ky{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Ae(a.value),a=r.next();this.Re()}be(e){const r=e[Symbol.iterator]();let a=r.next();for(;!a.done;)this.Pe(a.value),a=r.next();this.ve()}Ve(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Ae(a);else if(a<2048)this.Ae(960|a>>>6),this.Ae(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a);else{const u=r.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const r of e){const a=r.charCodeAt(0);if(a<128)this.Pe(a);else if(a<2048)this.Pe(960|a>>>6),this.Pe(128|63&a);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a);else{const u=r.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const r=this.Ce(e),a=gg(r);this.xe(1+a),this.buffer[this.position++]=255&a;for(let u=r.length-a;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Ne(e){const r=this.Ce(e),a=gg(r);this.xe(1+a),this.buffer[this.position++]=~(255&a);for(let u=r.length-a;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const r=function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)}(e),a=0!=(128&r[0]);r[0]^=a?255:128;for(let u=1;u<r.length;++u)r[u]^=a?255:0;return r}Ae(e){const r=255&e;0===r?(this.Oe(0),this.Oe(255)):255===r?(this.Oe(255),this.Oe(0)):this.Oe(r)}Pe(e){const r=255&e;0===r?(this.Fe(0),this.Fe(255)):255===r?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const r=e+this.position;if(r<=this.buffer.length)return;let a=2*this.buffer.length;a<r&&(a=r);const u=new Uint8Array(a);u.set(this.buffer),this.buffer=u}}class mg{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class df{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class ll{constructor(){this.Be=new ky,this.Le=new mg(this.Be),this.Ue=new df(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Mc{constructor(e,r,a,u){this.indexId=e,this.documentKey=r,this.arrayValue=a,this.directionalValue=u}Ke(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,a=new Uint8Array(r);return a.set(this.directionalValue,0),r!==e?a.set([0],this.directionalValue.length):++a[a.length-1],new Mc(this.indexId,this.documentKey,this.arrayValue,a)}}function Lu(s,e){let r=s.indexId-e.indexId;return 0!==r?r:(r=yg(s.arrayValue,e.arrayValue),0!==r?r:(r=yg(s.directionalValue,e.directionalValue),0!==r?r:on.comparator(s.documentKey,e.documentKey)))}function yg(s,e){for(let r=0;r<s.length&&r<e.length;++r){const a=s[r]-e[r];if(0!==a)return a}return s.length-e.length}class vg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const r of e.filters){const a=r;a.dt()?this.je=a:this.Qe.push(a)}}We(e){const r=Os(e);if(void 0!==r&&!this.ze(r))return!1;const a=bo(e);let u=0,h=0;for(;u<a.length&&this.ze(a[u]);++u);if(u===a.length)return!0;if(void 0!==this.je){const y=a[u];if(!this.He(this.je,y)||!this.Je(this.Ge[h++],y))return!1;++u}for(;u<a.length;++u){const y=a[u];if(h>=this.Ge.length||!this.Je(this.Ge[h++],y))return!1}return!0}ze(e){for(const r of this.Qe)if(this.He(r,e))return!0;return!1}He(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}class _g{constructor(){this.Ye=new Rc}addToCollectionParentIndex(e,r){return this.Ye.add(r),at.resolve()}getCollectionParents(e,r){return at.resolve(this.Ye.getEntries(r))}addFieldIndex(e,r){return at.resolve()}deleteFieldIndex(e,r){return at.resolve()}getDocumentsMatchingTarget(e,r){return at.resolve(null)}getIndexType(e,r){return at.resolve(0)}getFieldIndexes(e,r){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,r){return at.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,r){return at.resolve(ss.min())}updateCollectionGroup(e,r,a){return at.resolve()}updateIndexEntries(e,r){return at.resolve()}}class Rc{constructor(){this.index={}}add(e){const r=e.lastSegment(),a=e.popLast(),u=this.index[r]||new $r(zr.comparator),h=!u.has(a);return this.index[r]=u.add(a),h}has(e){const r=e.lastSegment(),a=e.popLast(),u=this.index[r];return u&&u.has(a)}getEntries(e){return(this.index[e]||new $r(zr.comparator)).toArray()}}const ed=new Uint8Array(0);class bg{constructor(e,r){this.user=e,this.databaseId=r,this.Xe=new Rc,this.Ze=new rc(a=>Pa(a),(a,u)=>Xa(a,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Xe.has(r)){const a=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.Xe.add(r)});const h={collectionId:a,parent:So(u)};return Eg(e).put(h)}return at.resolve()}getCollectionParents(e,r){const a=[],u=IDBKeyRange.bound([r,""],[ga(r),""],!1,!0);return Eg(e).W(u).next(h=>{for(const y of h){if(y.collectionId!==r)break;a.push(ic(y.parent))}return a})}addFieldIndex(e,r){const a=qd(e),u={indexId:(y=r).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var y;delete u.indexId;const h=a.add(u);if(r.indexState){const y=dl(e);return h.next(A=>{y.put(Gd(A,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return h.next()}deleteFieldIndex(e,r){const a=qd(e),u=dl(e),h=eu(e);return a.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,r){const a=eu(e);let u=!0;const h=new Map;return at.forEach(this.tn(r),y=>this.en(e,y).next(A=>{u&&(u=!!A),h.set(y,A)})).next(()=>{if(u){let y=Br();const A=[];return at.forEach(h,(G,Y)=>{var ge;lt("IndexedDbIndexManager",`Using index ${ge=G,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(Ci=>`${Ci.fieldPath}:${Ci.kind}`).join(",")}`} to execute ${Pa(r)}`);const ke=function(Ci,Vs){const Oi=Os(Vs);if(void 0===Oi)return null;for(const wi of Yc(Ci,Oi.fieldPath))switch(wi.op){case"array-contains-any":return wi.value.arrayValue.values||[];case"array-contains":return[wi.value]}return null}(Y,G),pt=function(Ci,Vs){const Oi=new Map;for(const wi of bo(Vs))for(const fo of Yc(Ci,wi.fieldPath))switch(fo.op){case"==":case"in":Oi.set(wi.fieldPath.canonicalString(),fo.value);break;case"not-in":case"!=":return Oi.set(wi.fieldPath.canonicalString(),fo.value),Array.from(Oi.values())}return null}(Y,G),Rt=function(Ci,Vs){const Oi=[];let wi=!0;for(const fo of bo(Vs)){const Id=0===fo.kind?Ko(Ci,fo.fieldPath,Ci.startAt):Ic(Ci,fo.fieldPath,Ci.startAt);Oi.push(Id.value),wi&&(wi=Id.inclusive)}return new Vo(Oi,wi)}(Y,G),Ht=function(Ci,Vs){const Oi=[];let wi=!0;for(const fo of bo(Vs)){const Id=0===fo.kind?Ic(Ci,fo.fieldPath,Ci.endAt):Ko(Ci,fo.fieldPath,Ci.endAt);Oi.push(Id.value),wi&&(wi=Id.inclusive)}return new Vo(Oi,wi)}(Y,G),Tn=this.nn(G,Y,Rt),wn=this.nn(G,Y,Ht),qr=this.sn(G,Y,pt),ei=this.rn(G.indexId,ke,Tn,Rt.inclusive,wn,Ht.inclusive,qr);return at.forEach(ei,Ci=>a.J(Ci,r.limit).next(Vs=>{Vs.forEach(Oi=>{const wi=on.fromSegments(Oi.documentKey);y.has(wi)||(y=y.add(wi),A.push(wi))})}))}).next(()=>A)}return at.resolve(null)})}tn(e){let r=this.Ze.get(e);return r||(r=[e],this.Ze.set(e,r),r)}rn(e,r,a,u,h,y,A){const G=(null!=r?r.length:1)*Math.max(a.length,h.length),Y=G/(null!=r?r.length:1),ge=[];for(let ke=0;ke<G;++ke){const pt=r?this.on(r[ke/Y]):ed,Rt=this.un(e,pt,a[ke%Y],u),Ht=this.cn(e,pt,h[ke%Y],y),Tn=A.map(wn=>this.un(e,pt,wn,!0));ge.push(...this.createRange(Rt,Ht,Tn))}return ge}un(e,r,a,u){const h=new Mc(e,on.empty(),r,a);return u?h:h.Ke()}cn(e,r,a,u){const h=new Mc(e,on.empty(),r,a);return u?h.Ke():h}en(e,r){const a=new vg(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{let y=null;for(const A of h)a.We(A)&&(!y||A.fields.length>y.fields.length)&&(y=A);return y})}getIndexType(e,r){let a=2;return at.forEach(this.tn(r),u=>this.en(e,u).next(h=>{h?0!==a&&h.fields.length<function(y){let A=new $r(Ai.comparator),G=!1;for(const Y of y.filters){const ge=Y;ge.field.isKeyField()||("array-contains"===ge.op||"array-contains-any"===ge.op?G=!0:A=A.add(ge.field))}for(const Y of y.orderBy)Y.field.isKeyField()||(A=A.add(Y.field));return A.size+(G?1:0)}(u)&&(a=1):a=0})).next(()=>a)}an(e,r){const a=new ll;for(const u of bo(e)){const h=r.data.field(u.fieldPath);if(null==h)return null;const y=a.qe(u.kind);Fu.Te.ce(h,y)}return a.$e()}on(e){const r=new ll;return Fu.Te.ce(e,r.qe(0)),r.$e()}hn(e,r){const a=new ll;return Fu.Te.ce(Io(this.databaseId,r),a.qe(function(u){const h=bo(u);return 0===h.length?0:h[h.length-1].kind}(e))),a.$e()}sn(e,r,a){if(null===a)return[];let u=[];u.push(new ll);let h=0;for(const y of bo(e)){const A=a[h++];for(const G of u)if(this.ln(r,y.fieldPath)&&_c(A))u=this.fn(u,y,A);else{const Y=G.qe(y.kind);Fu.Te.ce(A,Y)}}return this.dn(u)}nn(e,r,a){return this.sn(e,r,a.position)}dn(e){const r=[];for(let a=0;a<e.length;++a)r[a]=e[a].$e();return r}fn(e,r,a){const u=[...e],h=[];for(const y of a.arrayValue.values||[])for(const A of u){const G=new ll;G.seed(A.$e()),Fu.Te.ce(y,G.qe(r.kind)),h.push(G)}return h}ln(e,r){return!!e.filters.find(a=>a instanceof Ii&&a.field.isEqual(r)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(e,r){const a=qd(e),u=dl(e);return(r?a.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):a.W()).next(h=>{const y=[];return at.forEach(h,A=>u.get([A.indexId,this.uid]).next(G=>{y.push(function(Y,ge){const ke=ge?new Ya(ge.sequenceNumber,new ss(Xc(ge.readTime),new on(ic(ge.documentKey)),ge.largestBatchId)):Ya.empty(),pt=Y.fields.map(([Rt,Ht])=>new qa(Ai.fromServerFormat(Rt),Ht));return new ia(Y.indexId,Y.collectionGroup,pt,ke)}(A,G))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((a,u)=>{const h=a.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:hr(a.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,a){const u=qd(e),h=dl(e);return this._n(e).next(y=>u.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(A=>at.forEach(A,G=>h.put(Gd(G.indexId,this.user,y,a)))))}updateIndexEntries(e,r){const a=new Map;return at.forEach(r,(u,h)=>{const y=a.get(u.collectionGroup);return(y?at.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(A=>(a.set(u.collectionGroup,A),at.forEach(A,G=>this.wn(e,u,G).next(Y=>{const ge=this.mn(h,G);return Y.isEqual(ge)?at.resolve():this.gn(e,h,G,Y,ge)}))))})}yn(e,r,a,u){return eu(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(a,r.key),documentKey:r.key.path.toArray()})}pn(e,r,a,u){return eu(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(a,r.key),r.key.path.toArray()])}wn(e,r,a){const u=eu(e);let h=new $r(Lu);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.hn(a,r)])},(y,A)=>{h=h.add(new Mc(a.indexId,r,A.arrayValue,A.directionalValue))}).next(()=>h)}mn(e,r){let a=new $r(Lu);const u=this.an(r,e);if(null==u)return a;const h=Os(r);if(null!=h){const y=e.data.field(h.fieldPath);if(_c(y))for(const A of y.arrayValue.values||[])a=a.add(new Mc(r.indexId,e.key,this.on(A),u))}else a=a.add(new Mc(r.indexId,e.key,ed,u));return a}gn(e,r,a,u,h){lt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const y=[];return function(A,G,Y,ge,ke){const pt=A.getIterator(),Rt=G.getIterator();let Ht=as(pt),Tn=as(Rt);for(;Ht||Tn;){let wn=!1,qr=!1;if(Ht&&Tn){const ei=Y(Ht,Tn);ei<0?qr=!0:ei>0&&(wn=!0)}else null!=Ht?qr=!0:wn=!0;wn?(ge(Tn),Tn=as(Rt)):qr?(ke(Ht),Ht=as(pt)):(Ht=as(pt),Tn=as(Rt))}}(u,h,Lu,A=>{y.push(this.yn(e,r,a,A))},A=>{y.push(this.pn(e,r,a,A))}),at.waitFor(y)}_n(e){let r=1;return dl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,u,h)=>{h.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,a){a=a.sort((y,A)=>Lu(y,A)).filter((y,A,G)=>!A||0!==Lu(y,G[A-1]));const u=[];u.push(e);for(const y of a){const A=Lu(y,e),G=Lu(y,r);if(0===A)u[0]=e.Ke();else if(A>0&&G<0)u.push(y),u.push(y.Ke());else if(G>0)break}u.push(r);const h=[];for(let y=0;y<u.length;y+=2)h.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,ed,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,ed,[]]));return h}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(hf)}getMinOffset(e,r){return at.mapArray(this.tn(r),a=>this.en(e,a).next(u=>u||ln())).next(hf)}}function Eg(s){return lo(s,"collectionParents")}function eu(s){return lo(s,"indexEntries")}function qd(s){return lo(s,"indexConfiguration")}function dl(s){return lo(s,"indexState")}function hf(s){xn(0!==s.length);let e=s[0].indexState.offset,r=e.largestBatchId;for(let a=1;a<s.length;a++){const u=s[a].indexState.offset;Lo(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new ss(e.readTime,e.documentKey,r)}const ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ao{constructor(e,r,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pf(s,e,r){const a=s.store("mutations"),u=s.store("documentMutations"),h=[],y=IDBKeyRange.only(r.batchId);let A=0;const G=a.Z({range:y},(ge,ke,pt)=>(A++,pt.delete()));h.push(G.next(()=>{xn(1===A)}));const Y=[];for(const ge of r.mutations){const ke=Ql(e,ge.key.path,r.batchId);h.push(u.delete(ke)),Y.push(ge.key)}return at.waitFor(h).next(()=>Y)}function Vu(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw ln();e=s.noDocument}return JSON.stringify(e).length}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class $u{constructor(e,r,a,u){this.userId=e,this.It=r,this.indexManager=a,this.referenceDelegate=u,this.In={}}static oe(e,r,a,u){xn(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new $u(h,r,a,u)}checkEmpty(e){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sc(e).Z({index:"userMutationsIndex",range:a},(u,h,y)=>{r=!1,y.done()}).next(()=>r)}addMutationBatch(e,r,a,u){const h=Bu(e),y=sc(e);return y.add({}).next(A=>{xn("number"==typeof A);const G=new ug(A,r,a,u),Y=function(pt,Rt,Ht){const Tn=Ht.baseMutations.map(qr=>Ru(pt.re,qr)),wn=Ht.mutations.map(qr=>Ru(pt.re,qr));return{userId:Rt,batchId:Ht.batchId,localWriteTimeMs:Ht.localWriteTime.toMillis(),baseMutations:Tn,mutations:wn}}(this.It,this.userId,G),ge=[];let ke=new $r((pt,Rt)=>hr(pt.canonicalString(),Rt.canonicalString()));for(const pt of u){const Rt=Ql(this.userId,pt.key.path,A);ke=ke.add(pt.key.path.popLast()),ge.push(y.put(Y)),ge.push(h.put(Rt,Cy))}return ke.forEach(pt=>{ge.push(this.indexManager.addToCollectionParentIndex(e,pt))}),e.addOnCommittedListener(()=>{this.In[A]=G.keys()}),at.waitFor(ge).next(()=>G)})}lookupMutationBatch(e,r){return sc(e).get(r).next(a=>a?(xn(a.userId===this.userId),Jc(this.It,a)):null)}Tn(e,r){return this.In[r]?at.resolve(this.In[r]):this.lookupMutationBatch(e,r).next(a=>{if(a){const u=a.keys();return this.In[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const a=r+1,u=IDBKeyRange.lowerBound([this.userId,a]);let h=null;return sc(e).Z({index:"userMutationsIndex",range:u},(y,A,G)=>{A.userId===this.userId&&(xn(A.batchId>=a),h=Jc(this.It,A)),G.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return sc(e).Z({index:"userMutationsIndex",range:r,reverse:!0},(u,h,y)=>{a=h.batchId,y.done()}).next(()=>a)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sc(e).W("userMutationsIndex",r).next(a=>a.map(u=>Jc(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const a=Zl(this.userId,r.path),u=IDBKeyRange.lowerBound(a),h=[];return Bu(e).Z({range:u},(y,A,G)=>{const[Y,ge,ke]=y,pt=ic(ge);if(Y===this.userId&&r.path.isEqual(pt))return sc(e).get(ke).next(Rt=>{if(!Rt)throw ln();xn(Rt.userId===this.userId),h.push(Jc(this.It,Rt))});G.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new $r(hr);const u=[];return r.forEach(h=>{const y=Zl(this.userId,h.path),A=IDBKeyRange.lowerBound(y),G=Bu(e).Z({range:A},(Y,ge,ke)=>{const[pt,Rt,Ht]=Y,Tn=ic(Rt);pt===this.userId&&h.path.isEqual(Tn)?a=a.add(Ht):ke.done()});u.push(G)}),at.waitFor(u).next(()=>this.En(e,a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,u=a.length+1,h=Zl(this.userId,a),y=IDBKeyRange.lowerBound(h);let A=new $r(hr);return Bu(e).Z({range:y},(G,Y,ge)=>{const[ke,pt,Rt]=G,Ht=ic(pt);ke===this.userId&&a.isPrefixOf(Ht)?Ht.length===u&&(A=A.add(Rt)):ge.done()}).next(()=>this.En(e,A))}En(e,r){const a=[],u=[];return r.forEach(h=>{u.push(sc(e).get(h).next(y=>{if(null===y)throw ln();xn(y.userId===this.userId),a.push(Jc(this.It,y))}))}),at.waitFor(u).next(()=>a)}removeMutationBatch(e,r){return pf(e.ie,this.userId,r).next(a=>(e.addOnCommittedListener(()=>{this.An(r.batchId)}),at.forEach(a,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return at.resolve();const a=IDBKeyRange.lowerBound([this.userId]),u=[];return Bu(e).Z({range:a},(h,y,A)=>{if(h[0]===this.userId){const G=ic(h[1]);u.push(G)}else A.done()}).next(()=>{xn(0===u.length)})})}containsKey(e,r){return gf(e,this.userId,r)}Rn(e){return Yd(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gf(s,e,r){const a=Zl(e,r.path),u=a[1],h=IDBKeyRange.lowerBound(a);let y=!1;return Bu(s).Z({range:h,X:!0},(A,G,Y)=>{const[ge,ke,pt]=A;ge===e&&ke===u&&(y=!0),Y.done()}).next(()=>y)}function sc(s){return lo(s,"mutations")}function Bu(s){return lo(s,"documentMutations")}function Yd(s){return lo(s,"mutationQueues")}class La{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new La(0)}static vn(){return new La(-1)}}class Ny{constructor(e,r){this.referenceDelegate=e,this.It=r}allocateTargetId(e){return this.Vn(e).next(r=>{const a=new La(r.highestTargetId);return r.highestTargetId=a.next(),this.Sn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(r=>Jn.fromTimestamp(new Wr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,a){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=r,a&&(u.lastRemoteSnapshotVersion=a.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Sn(e,u)))}addTargetData(e,r){return this.Dn(e,r).next(()=>this.Vn(e).next(a=>(a.targetCount+=1,this.Cn(r,a),this.Sn(e,a))))}updateTargetData(e,r){return this.Dn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Uu(e).delete(r.targetId)).next(()=>this.Vn(e)).next(a=>(xn(a.targetCount>0),a.targetCount-=1,this.Sn(e,a)))}removeTargets(e,r,a){let u=0;const h=[];return Uu(e).Z((y,A)=>{const G=ku(A);G.sequenceNumber<=r&&null===a.get(G.targetId)&&(u++,h.push(this.removeTargetData(e,G)))}).next(()=>at.waitFor(h)).next(()=>u)}forEachTarget(e,r){return Uu(e).Z((a,u)=>{const h=ku(u);r(h)})}Vn(e){return Ig(e).get("targetGlobalKey").next(r=>(xn(null!==r),r))}Sn(e,r){return Ig(e).put("targetGlobalKey",r)}Dn(e,r){return Uu(e).put(jd(this.It,r))}Cn(e,r){let a=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,a=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,a=!0),a}getTargetCount(e){return this.Vn(e).next(r=>r.targetCount)}getTargetData(e,r){const a=Pa(r),u=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let h=null;return Uu(e).Z({range:u,index:"queryTargetsIndex"},(y,A,G)=>{const Y=ku(A);Xa(r,Y.target)&&(h=Y,G.done())}).next(()=>h)}addMatchingKeys(e,r,a){const u=[],h=tu(e);return r.forEach(y=>{const A=So(y.path);u.push(h.put({targetId:a,path:A})),u.push(this.referenceDelegate.addReference(e,a,y))}),at.waitFor(u)}removeMatchingKeys(e,r,a){const u=tu(e);return at.forEach(r,h=>{const y=So(h.path);return at.waitFor([u.delete([a,y]),this.referenceDelegate.removeReference(e,a,h)])})}removeMatchingKeysForTargetId(e,r){const a=tu(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(u)}getMatchingKeysForTargetId(e,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),u=tu(e);let h=Br();return u.Z({range:a,X:!0},(y,A,G)=>{const Y=ic(y[1]),ge=new on(Y);h=h.add(ge)}).next(()=>h)}containsKey(e,r){const a=So(r.path),u=IDBKeyRange.bound([a],[ga(a)],!1,!0);let h=0;return tu(e).Z({index:"documentTargetsIndex",X:!0,range:u},([y,A],G,Y)=>{0!==y&&(h++,Y.done())}).next(()=>h>0)}se(e,r){return Uu(e).get(r).next(a=>a?ku(a):null)}}function Uu(s){return lo(s,"targets")}function Ig(s){return lo(s,"targetGlobal")}function tu(s){return lo(s,"targetDocuments")}function mf([s,e],[r,a]){const u=hr(s,r);return 0===u?hr(e,a):u}class yf{constructor(e){this.xn=e,this.buffer=new $r(mf),this.Nn=0}kn(){return++this.Nn}On(e){const r=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();mf(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Cg{constructor(e,r,a){this.garbageCollector=e,this.asyncQueue=r,this.localStore=a,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var r=this;lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_.Z)(function*(){r.Mn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(a){T(a)?lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield ro(a)}yield r.Fn(3e5)}))}}class l0{constructor(e,r){this.$n=e,this.params=r}calculateTargetCount(e,r){return this.$n.Bn(e).next(a=>Math.floor(r/100*a))}nthSequenceNumber(e,r){if(0===r)return at.resolve(Ve.at);const a=new yf(r);return this.$n.forEachTarget(e,u=>a.On(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>a.On(u))).next(()=>a.maxValue)}removeTargets(e,r,a){return this.$n.removeTargets(e,r,a)}removeOrphanedDocuments(e,r){return this.$n.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(ff)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ff):this.Un(e,r))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,r){let a,u,h,y,A,G,Y;const ge=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),u=this.params.maximumSequenceNumbersToCollect):u=ke,y=Date.now(),this.nthSequenceNumber(e,u))).next(ke=>(a=ke,A=Date.now(),this.removeTargets(e,a,r))).next(ke=>(h=ke,G=Date.now(),this.removeOrphanedDocuments(e,a))).next(ke=>(Y=Date.now(),Mt()<=Ue.in.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-ge}ms\n\tDetermined least recently used ${u} in `+(A-y)+`ms\n\tRemoved ${h} targets in `+(G-A)+`ms\n\tRemoved ${ke} documents in `+(Y-G)+`ms\nTotal Duration: ${Y-ge}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:ke})))}}class wg{constructor(e,r){this.db=e,this.garbageCollector=new l0(this,r)}Bn(e){const r=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(a=>r.next(u=>a+u))}qn(e){let r=0;return this.Ln(e,a=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Ln(e,r){return this.Kn(e,(a,u)=>r(u))}addReference(e,r,a){return Kd(e,a)}removeReference(e,r,a){return Kd(e,a)}removeTargets(e,r,a){return this.db.getTargetCache().removeTargets(e,r,a)}markPotentiallyOrphaned(e,r){return Kd(e,r)}Gn(e,r){return function(a,u){let h=!1;return Yd(a).tt(y=>gf(a,y,u).next(A=>(A&&(h=!0),at.resolve(!A)))).next(()=>h)}(e,r)}removeOrphanedDocuments(e,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Kn(e,(y,A)=>{if(A<=r){const G=this.Gn(e,y).next(Y=>{if(!Y)return h++,a.getEntry(e,y).next(()=>(a.removeEntry(y,Jn.min()),tu(e).delete([0,So(y.path)])))});u.push(G)}}).next(()=>at.waitFor(u)).next(()=>a.apply(e)).next(()=>h)}removeTarget(e,r){const a=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)}updateLimboDocument(e,r){return Kd(e,r)}Kn(e,r){const a=tu(e);let u,h=Ve.at;return a.Z({index:"documentTargetsIndex"},([y,A],{path:G,sequenceNumber:Y})=>{0===y?(h!==Ve.at&&r(new on(ic(u)),h),h=Y,u=G):h=Ve.at}).next(()=>{h!==Ve.at&&r(new on(ic(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kd(s,e){return tu(s).put((a=s.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:a}));var a}class vf{constructor(){this.changes=new rc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?at.resolve(a):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fy{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,a){return nu(e).put(a)}removeEntry(e,r,a){return nu(e).delete(function(u,h){const y=u.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],Xl(h),y[y.length-1]]}(r,a))}updateMetadata(e,r){return this.getMetadata(e).next(a=>(a.byteSize+=r,this.Qn(e,a)))}getEntry(e,r){let a=di.newInvalidDocument(r);return nu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(td(r))},(u,h)=>{a=this.jn(r,h)}).next(()=>a)}Wn(e,r){let a={size:0,document:di.newInvalidDocument(r)};return nu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(td(r))},(u,h)=>{a={document:this.jn(r,h),size:Vu(h)}}).next(()=>a)}getEntries(e,r){let a=co();return this.zn(e,r,(u,h)=>{const y=this.jn(u,h);a=a.insert(u,y)}).next(()=>a)}Hn(e,r){let a=co(),u=new yn(on.comparator);return this.zn(e,r,(h,y)=>{const A=this.jn(h,y);a=a.insert(h,A),u=u.insert(h,Vu(y))}).next(()=>({documents:a,Jn:u}))}zn(e,r,a){if(r.isEmpty())return at.resolve();let u=new $r(Ag);r.forEach(G=>u=u.add(G));const h=IDBKeyRange.bound(td(u.first()),td(u.last())),y=u.getIterator();let A=y.getNext();return nu(e).Z({index:"documentKeyIndex",range:h},(G,Y,ge)=>{const ke=on.fromSegments([...Y.prefixPath,Y.collectionGroup,Y.documentId]);for(;A&&Ag(A,ke)<0;)a(A,null),A=y.getNext();A&&A.isEqual(ke)&&(a(A,Y),A=y.hasNext()?y.getNext():null),A?ge.j(td(A)):ge.done()}).next(()=>{for(;A;)a(A,null),A=y.hasNext()?y.getNext():null})}getAllFromCollection(e,r,a){const u=[r.popLast().toArray(),r.lastSegment(),Xl(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],h=[r.popLast().toArray(),r.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nu(e).W(IDBKeyRange.bound(u,h,!0)).next(y=>{let A=co();for(const G of y){const Y=this.jn(on.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);A=A.insert(Y.key,Y)}return A})}getAllFromCollectionGroup(e,r,a,u){let h=co();const y=Sg(r,a),A=Sg(r,ss.max());return nu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,A,!0)},(G,Y,ge)=>{const ke=this.jn(on.fromSegments(Y.prefixPath.concat(Y.collectionGroup,Y.documentId)),Y);h=h.insert(ke.key,ke),h.size===u&&ge.done()}).next(()=>h)}newChangeBuffer(e){return new Va(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Tg(e).get("remoteDocumentGlobalKey").next(r=>(xn(!!r),r))}Qn(e,r){return Tg(e).put("remoteDocumentGlobalKey",r)}jn(e,r){if(r){const a=function(s,e){let r;if(e.document)r=function(s,e,r){const a=Qo(s,e.name),u=Zi(e.updateTime),h=new vs({mapValue:{fields:e.fields}}),y=di.newFoundDocument(a,u,h);return r&&y.setHasCommittedMutations(),r?y.setHasCommittedMutations():y}(s.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const a=on.fromSegments(e.noDocument.path),u=Xc(e.noDocument.readTime);r=di.newNoDocument(a,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ln();{const a=on.fromSegments(e.unknownDocument.path),u=Xc(e.unknownDocument.version);r=di.newUnknownDocument(a,u)}}return e.readTime&&r.setReadTime(function(a){const u=new Wr(a[0],a[1]);return Jn.fromTimestamp(u)}(e.readTime)),r}(this.It,r);if(!a.isNoDocument()||!a.version.isEqual(Jn.min()))return a}return di.newInvalidDocument(e)}}function Dg(s){return new Fy(s)}class Va extends vf{constructor(e,r){super(),this.Yn=e,this.trackRemovals=r,this.Xn=new rc(a=>a.toString(),(a,u)=>a.isEqual(u))}applyChanges(e){const r=[];let a=0,u=new $r((h,y)=>hr(h.canonicalString(),y.canonicalString()));return this.changes.forEach((h,y)=>{const A=this.Xn.get(h);if(r.push(this.Yn.removeEntry(e,h,A.readTime)),y.isValidDocument()){const G=dg(this.Yn.It,y);u=u.add(h.path.popLast()),a+=Vu(G)-A.size,r.push(this.Yn.addEntry(e,h,G))}else if(a-=A.size,this.trackRemovals){const G=dg(this.Yn.It,y.convertToNoDocument(Jn.min()));r.push(this.Yn.addEntry(e,h,G))}}),u.forEach(h=>{r.push(this.Yn.indexManager.addToCollectionParentIndex(e,h))}),r.push(this.Yn.updateMetadata(e,a)),at.waitFor(r)}getFromCache(e,r){return this.Yn.Wn(e,r).next(a=>(this.Xn.set(r,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(e,r){return this.Yn.Hn(e,r).next(({documents:a,Jn:u})=>(u.forEach((h,y)=>{this.Xn.set(h,{size:y,readTime:a.get(h).readTime})}),a))}}function Tg(s){return lo(s,"remoteDocumentGlobal")}function nu(s){return lo(s,"remoteDocumentsV14")}function td(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Sg(s,e){const r=e.documentKey.path.toArray();return[s,Xl(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Ag(s,e){const r=s.path.toArray(),a=e.path.toArray();let u=0;for(let h=0;h<r.length-2&&h<a.length-2;++h)if(u=hr(r[h],a[h]),u)return u;return u=hr(r.length,a.length),u||(u=hr(r[r.length-2],a[a.length-2]),u||hr(r[r.length-1],a[a.length-1]))}class Ly{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class _f{constructor(e,r,a,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,r){let a=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(a=u,this.getBaseDocument(e,r,a))).next(u=>(null!==a&&Tc(a.mutation,u,ms.empty(),Wr.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.getLocalViewOfDocuments(e,a,Br()).next(()=>a))}getLocalViewOfDocuments(e,r,a=Br()){const u=To();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,a).next(h=>{let y=Sc();return h.forEach((A,G)=>{y=y.insert(A,G.overlayedDocument)}),y}))}getOverlayedDocuments(e,r){const a=To();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,Br()))}populateOverlays(e,r,a){const u=[];return a.forEach(h=>{r.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((y,A)=>{r.set(y,A)})})}computeViews(e,r,a,u){let h=co();const y=Qc(),A=Qc();return r.forEach((G,Y)=>{const ge=a.get(Y.key);u.has(Y.key)&&(void 0===ge||ge.mutation instanceof Do)?h=h.insert(Y.key,Y):void 0!==ge&&(y.set(Y.key,ge.mutation.getFieldMask()),Tc(ge.mutation,Y,ge.mutation.getFieldMask(),Wr.now()))}),this.recalculateAndSaveOverlays(e,h).next(G=>(G.forEach((Y,ge)=>y.set(Y,ge)),r.forEach((Y,ge)=>{var ke;return A.set(Y,new Ly(ge,null!==(ke=y.get(Y))&&void 0!==ke?ke:null))}),A))}recalculateAndSaveOverlays(e,r){const a=Qc();let u=new yn((y,A)=>y-A),h=Br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(y=>{for(const A of y)A.keys().forEach(G=>{const Y=r.get(G);if(null===Y)return;let ge=a.get(G)||ms.empty();ge=A.applyToLocalView(Y,ge),a.set(G,ge);const ke=(u.get(A.batchId)||Br()).add(G);u=u.insert(A.batchId,ke)})}).next(()=>{const y=[],A=u.getReverseIterator();for(;A.hasNext();){const G=A.getNext(),Y=G.key,ge=G.value,ke=Wl();ge.forEach(pt=>{if(!h.has(pt)){const Rt=Od(r.get(pt),a.get(pt));null!==Rt&&ke.set(pt,Rt),h=h.add(pt)}}),y.push(this.documentOverlayCache.saveOverlays(e,Y,ke))}return at.waitFor(y)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,r,a){return on.isDocumentKey((u=r).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):function(s){return null!==s.collectionGroup}(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,a):this.getDocumentsMatchingCollectionQuery(e,r,a);var u}getNextDocuments(e,r,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,a,u).next(h=>{const y=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,a.largestBatchId,u-h.size):at.resolve(To());let A=-1,G=h;return y.next(Y=>at.forEach(Y,(ge,ke)=>(A<ke.largestBatchId&&(A=ke.largestBatchId),h.get(ge)?at.resolve():this.getBaseDocument(e,ge,ke).next(pt=>{G=G.insert(ge,pt)}))).next(()=>this.populateOverlays(e,Y,h)).next(()=>this.computeViews(e,G,Y,Br())).next(ge=>({batchId:A,changes:Zo(ge)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new on(r)).next(a=>{let u=Sc();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,a){const u=r.collectionGroup;let h=Sc();return this.indexManager.getCollectionParents(e,u).next(y=>at.forEach(y,A=>{const G=(Y=r,ge=A.child(u),new qi(ge,null,Y.explicitOrderBy.slice(),Y.filters.slice(),Y.limit,Y.limitType,Y.startAt,Y.endAt));var Y,ge;return this.getDocumentsMatchingCollectionQuery(e,G,a).next(Y=>{Y.forEach((ge,ke)=>{h=h.insert(ge,ke)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,r,a){let u;return this.remoteDocumentCache.getAllFromCollection(e,r.path,a).next(h=>(u=h,this.documentOverlayCache.getOverlaysForCollection(e,r.path,a.largestBatchId))).next(h=>{h.forEach((A,G)=>{const Y=G.getKey();null===u.get(Y)&&(u=u.insert(Y,di.newInvalidDocument(Y)))});let y=Sc();return u.forEach((A,G)=>{const Y=h.get(A);void 0!==Y&&Tc(Y.mutation,G,ms.empty(),Wr.now()),Wt(r,G)&&(y=y.insert(A,G))}),y})}getBaseDocument(e,r,a){return null===a||1===a.mutation.type?this.remoteDocumentCache.getEntry(e,r):at.resolve(di.newInvalidDocument(r))}}class Vy{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,r){return at.resolve(this.Zn.get(r))}saveBundleMetadata(e,r){var a;return this.Zn.set(r.id,{id:(a=r).id,version:a.version,createTime:Zi(a.createTime)}),at.resolve()}getNamedQuery(e,r){return at.resolve(this.ts.get(r))}saveNamedQuery(e,r){return this.ts.set(r.name,{name:(a=r).name,query:Hd(a.bundledQuery),readTime:Zi(a.readTime)}),at.resolve();var a}}class $y{constructor(){this.overlays=new yn(on.comparator),this.es=new Map}getOverlay(e,r){return at.resolve(this.overlays.get(r))}getOverlays(e,r){const a=To();return at.forEach(r,u=>this.getOverlay(e,u).next(h=>{null!==h&&a.set(u,h)})).next(()=>a)}saveOverlays(e,r,a){return a.forEach((u,h)=>{this.ue(e,r,h)}),at.resolve()}removeOverlaysForBatchId(e,r,a){const u=this.es.get(a);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.es.delete(a)),at.resolve()}getOverlaysForCollection(e,r,a){const u=To(),h=r.length+1,y=new on(r.child("")),A=this.overlays.getIteratorFrom(y);for(;A.hasNext();){const G=A.getNext().value,Y=G.getKey();if(!r.isPrefixOf(Y.path))break;Y.path.length===h&&G.largestBatchId>a&&u.set(G.getKey(),G)}return at.resolve(u)}getOverlaysForCollectionGroup(e,r,a,u){let h=new yn((Y,ge)=>Y-ge);const y=this.overlays.getIterator();for(;y.hasNext();){const Y=y.getNext().value;if(Y.getKey().getCollectionGroup()===r&&Y.largestBatchId>a){let ge=h.get(Y.largestBatchId);null===ge&&(ge=To(),h=h.insert(Y.largestBatchId,ge)),ge.set(Y.getKey(),Y)}}const A=To(),G=h.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((Y,ge)=>A.set(Y,ge)),!(A.size()>=u)););return at.resolve(A)}ue(e,r,a){const u=this.overlays.get(a.key);if(null!==u){const y=this.es.get(u.largestBatchId).delete(a.key);this.es.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(a.key,new lg(r,a));let h=this.es.get(r);void 0===h&&(h=Br(),this.es.set(r,h)),this.es.set(r,h.add(a.key))}}class bf{constructor(){this.ns=new $r(Qn.ss),this.rs=new $r(Qn.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,r){const a=new Qn(e,r);this.ns=this.ns.add(a),this.rs=this.rs.add(a)}us(e,r){e.forEach(a=>this.addReference(a,r))}removeReference(e,r){this.cs(new Qn(e,r))}hs(e,r){e.forEach(a=>this.removeReference(a,r))}ls(e){const r=new on(new zr([])),a=new Qn(r,e),u=new Qn(r,e+1),h=[];return this.rs.forEachInRange([a,u],y=>{this.cs(y),h.push(y.key)}),h}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const r=new on(new zr([])),a=new Qn(r,e),u=new Qn(r,e+1);let h=Br();return this.rs.forEachInRange([a,u],y=>{h=h.add(y.key)}),h}containsKey(e){const r=new Qn(e,0),a=this.ns.firstAfterOrEqual(r);return null!==a&&e.isEqual(a.key)}}class Qn{constructor(e,r){this.key=e,this._s=r}static ss(e,r){return on.comparator(e.key,r.key)||hr(e._s,r._s)}static os(e,r){return hr(e._s,r._s)||on.comparator(e.key,r.key)}}class xg{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.ws=1,this.gs=new $r(Qn.ss)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,a,u){const h=this.ws;this.ws++;const y=new ug(h,r,a,u);this.mutationQueue.push(y);for(const A of u)this.gs=this.gs.add(new Qn(A.key,h)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return at.resolve(y)}lookupMutationBatch(e,r){return at.resolve(this.ys(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.ps(r+1),h=u<0?0:u;return at.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const a=new Qn(r,0),u=new Qn(r,Number.POSITIVE_INFINITY),h=[];return this.gs.forEachInRange([a,u],y=>{const A=this.ys(y._s);h.push(A)}),at.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,r){let a=new $r(hr);return r.forEach(u=>{const h=new Qn(u,0),y=new Qn(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([h,y],A=>{a=a.add(A._s)})}),at.resolve(this.Is(a))}getAllMutationBatchesAffectingQuery(e,r){const a=r.path,u=a.length+1;let h=a;on.isDocumentKey(h)||(h=h.child(""));const y=new Qn(new on(h),0);let A=new $r(hr);return this.gs.forEachWhile(G=>{const Y=G.key.path;return!!a.isPrefixOf(Y)&&(Y.length===u&&(A=A.add(G._s)),!0)},y),at.resolve(this.Is(A))}Is(e){const r=[];return e.forEach(a=>{const u=this.ys(a);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){xn(0===this.Ts(r.batchId,"removed")),this.mutationQueue.shift();let a=this.gs;return at.forEach(r.mutations,u=>{const h=new Qn(u.key,r.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=a})}An(e){}containsKey(e,r){const a=new Qn(r,0),u=this.gs.firstAfterOrEqual(a);return at.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return at.resolve()}Ts(e,r){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const r=this.ps(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Mg{constructor(e){this.Es=e,this.docs=new yn(on.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const a=r.key,u=this.docs.get(a),h=u?u.size:0,y=this.Es(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const a=this.docs.get(r);return at.resolve(a?a.document.mutableCopy():di.newInvalidDocument(r))}getEntries(e,r){let a=co();return r.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():di.newInvalidDocument(u))}),at.resolve(a)}getAllFromCollection(e,r,a){let u=co();const h=new on(r.child("")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:A,value:{document:G}}=y.getNext();if(!r.isPrefixOf(A.path))break;A.path.length>r.length+1||Lo(ya(G),a)<=0||(u=u.insert(G.key,G.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(e,r,a,u){ln()}As(e,r){return at.forEach(this.docs,a=>r(a))}newChangeBuffer(e){return new Zd(this)}getSize(e){return at.resolve(this.size)}}class Zd extends vf{constructor(e){super(),this.Yn=e}applyChanges(e){const r=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?r.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(a)}),at.waitFor(r)}getFromCache(e,r){return this.Yn.getEntry(e,r)}getAllFromCache(e,r){return this.Yn.getEntries(e,r)}}class $a{constructor(e){this.persistence=e,this.Rs=new rc(r=>Pa(r),Xa),this.lastRemoteSnapshotVersion=Jn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new bf,this.targetCount=0,this.vs=La.Pn()}forEachTarget(e,r){return this.Rs.forEach((a,u)=>r(u)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.bs&&(this.bs=r),at.resolve()}Dn(e){this.Rs.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.vs=new La(r),this.highestTargetId=r),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,r){return this.Dn(r),this.targetCount+=1,at.resolve()}updateTargetData(e,r){return this.Dn(r),at.resolve()}removeTargetData(e,r){return this.Rs.delete(r.target),this.Ps.ls(r.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,r,a){let u=0;const h=[];return this.Rs.forEach((y,A)=>{A.sequenceNumber<=r&&null===a.get(A.targetId)&&(this.Rs.delete(y),h.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),at.waitFor(h).next(()=>u)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,r){const a=this.Rs.get(r)||null;return at.resolve(a)}addMatchingKeys(e,r,a){return this.Ps.us(r,a),at.resolve()}removeMatchingKeys(e,r,a){this.Ps.hs(r,a);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(y=>{h.push(u.markPotentiallyOrphaned(e,y))}),at.waitFor(h)}removeMatchingKeysForTargetId(e,r){return this.Ps.ls(r),at.resolve()}getMatchingKeysForTargetId(e,r){const a=this.Ps.ds(r);return at.resolve(a)}containsKey(e,r){return at.resolve(this.Ps.containsKey(r))}}class Ef{constructor(e,r){this.Vs={},this.overlays={},this.Ss=new Ve(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new $a(this),this.indexManager=new _g,this.remoteDocumentCache=new Mg(a=>this.referenceDelegate.xs(a)),this.It=new Ud(r),this.Ns=new Vy(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new $y,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let a=this.Vs[e.toKey()];return a||(a=new xg(r,this.referenceDelegate),this.Vs[e.toKey()]=a),a}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,r,a){lt("MemoryPersistence","Starting transaction:",e);const u=new By(this.Ss.next());return this.referenceDelegate.ks(),a(u).next(h=>this.referenceDelegate.Os(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ms(e,r){return at.or(Object.values(this.Vs).map(a=>()=>a.containsKey(e,r)))}}class By extends Ka{constructor(e){super(),this.currentSequenceNumber=e}}class hl{constructor(e){this.persistence=e,this.Fs=new bf,this.$s=null}static Bs(e){return new hl(e)}get Ls(){if(this.$s)return this.$s;throw ln()}addReference(e,r,a){return this.Fs.addReference(a,r),this.Ls.delete(a.toString()),at.resolve()}removeReference(e,r,a){return this.Fs.removeReference(a,r),this.Ls.add(a.toString()),at.resolve()}markPotentiallyOrphaned(e,r){return this.Ls.add(r.toString()),at.resolve()}removeTarget(e,r){this.Fs.ls(r.targetId).forEach(u=>this.Ls.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(h=>this.Ls.add(h.toString()))}).next(()=>a.removeTargetData(e,r))}ks(){this.$s=new Set}Os(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Ls,a=>{const u=on.fromPath(a);return this.Us(e,u).next(h=>{h||r.removeEntry(u,Jn.min())})}).next(()=>(this.$s=null,r.apply(e)))}updateLimboDocument(e,r){return this.Us(e,r).next(a=>{a?this.Ls.delete(r.toString()):this.Ls.add(r.toString())})}xs(e){return 0}Us(e,r){return at.or([()=>at.resolve(this.Fs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ms(e,r)])}}class Pc{constructor(e){this.It=e}$(e,r,a,u){const h=new ks("createOrUpgrade",r);var A;a<1&&u>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iy,{unique:!0}),A.createObjectStore("documentMutations"),Qd(e),function(A){A.createObjectStore("remoteDocuments")}(e));let y=at.resolve();return a<3&&u>=3&&(0!==a&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),Qd(e)),y=y.next(()=>function(A){const G=A.store("targetGlobal"),Y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",Y)}(h))),a<4&&u>=4&&(0!==a&&(y=y.next(()=>function(A,G){return G.store("mutations").W().next(Y=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Iy,{unique:!0});const ge=G.store("mutations"),ke=Y.map(pt=>ge.put(pt));return at.waitFor(ke)})}(e,h))),y=y.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),a<5&&u>=5&&(y=y.next(()=>this.qs(h))),a<6&&u>=6&&(y=y.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(h)))),a<7&&u>=7&&(y=y.next(()=>this.Gs(h))),a<8&&u>=8&&(y=y.next(()=>this.Qs(e,h))),a<9&&u>=9&&(y=y.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),a<10&&u>=10&&(y=y.next(()=>this.js(h))),a<11&&u>=11&&(y=y.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),a<12&&u>=12&&(y=y.next(()=>{!function(A){const G=A.createObjectStore("documentOverlays",{keyPath:Ry});G.createIndex("collectionPathOverlayIndex",og,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",u0,{unique:!1})}(e)})),a<13&&u>=13&&(y=y.next(()=>function(A){const G=A.createObjectStore("remoteDocumentsV14",{keyPath:wy});G.createIndex("documentKeyIndex",cl),G.createIndex("collectionGroupIndex",Dy)}(e)).next(()=>this.Ws(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),a<14&&u>=14&&(y=y.next(()=>this.zs(e,h))),a<15&&u>=15&&(y=y.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:$d}).createIndex("sequenceNumberIndex",Ca,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:sg}).createIndex("documentKeyIndex",My,{unique:!1})}(e))),y}Ks(e){let r=0;return e.store("remoteDocuments").Z((a,u)=>{r+=Vu(u)}).next(()=>{const a={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}qs(e){const r=e.store("mutationQueues"),a=e.store("mutations");return r.W().next(u=>at.forEach(u,h=>{const y=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",y).next(A=>at.forEach(A,G=>{xn(G.userId===h.userId);const Y=Jc(this.It,G);return pf(e,h.userId,Y).next(()=>{})}))}))}Gs(e){const r=e.store("targetDocuments"),a=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return a.Z((y,A)=>{const G=new zr(y),Y=[0,So(G)];h.push(r.get(Y).next(ge=>ge?at.resolve():r.put({targetId:0,path:So(G),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>at.waitFor(h))})}Qs(e,r){e.createObjectStore("collectionParents",{keyPath:xy});const a=r.store("collectionParents"),u=new Rc,h=y=>{if(u.add(y)){const A=y.lastSegment(),G=y.popLast();return a.put({collectionId:A,parent:So(G)})}};return r.store("remoteDocuments").Z({X:!0},(y,A)=>{const G=new zr(y);return h(G.popLast())}).next(()=>r.store("documentMutations").Z({X:!0},([y,A,G],Y)=>{const ge=ic(A);return h(ge.popLast())}))}js(e){const r=e.store("targets");return r.Z((a,u)=>{const h=ku(u),y=jd(this.It,h);return r.put(y)})}Ws(e,r){const a=r.store("remoteDocuments"),u=[];return a.Z((h,y)=>{const A=r.store("remoteDocumentsV14"),G=(Y=y,Y.document?new on(zr.fromString(Y.document.name).popFirst(5)):Y.noDocument?on.fromSegments(Y.noDocument.path):Y.unknownDocument?on.fromSegments(Y.unknownDocument.path):ln()).path.toArray();var Y;const ge={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};u.push(A.put(ge))}).next(()=>at.waitFor(u))}zs(e,r){const a=r.store("mutations"),u=Dg(this.It),h=new Ef(hl.Bs,this.It.re);return a.W().next(y=>{const A=new Map;return y.forEach(G=>{var Y;let ge=null!==(Y=A.get(G.userId))&&void 0!==Y?Y:Br();Jc(this.It,G).keys().forEach(ke=>ge=ge.add(ke)),A.set(G.userId,ge)}),at.forEach(A,(G,Y)=>{const ge=new $(Y),ke=Wd.oe(this.It,ge),pt=h.getIndexManager(ge),Rt=$u.oe(ge,this.It,pt,h.referenceDelegate);return new _f(u,Rt,ke,pt).recalculateAndSaveOverlaysForDocumentKeys(new wa(r,Ve.at),G).next()})})}}function Qd(s){s.createObjectStore("targetDocuments",{keyPath:Sy}).createIndex("documentTargetsIndex",Ay,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ty,{unique:!0}),s.createObjectStore("targetGlobal")}const Xd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nd{constructor(e,r,a,u,h,y,A,G,Y,ge,ke=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=a,this.Hs=h,this.window=y,this.document=A,this.Js=Y,this.Ys=ge,this.Xs=ke,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=pt=>Promise.resolve(),!nd.C())throw new kt(Et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wg(this,u),this.ii=r+"main",this.It=new Ud(G),this.ri=new os(this.ii,this.Xs,new Pc(this.It)),this.Cs=new Ny(this.referenceDelegate,this.It),this.remoteDocumentCache=Dg(this.It),this.Ns=new fg,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===ge&&un("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(Et.FAILED_PRECONDITION,Xd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ve(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var r=this;return this.si=function(){var a=(0,_.Z)(function*(u){if(r.started)return e(u)});return function(u){return a.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var r=(0,_.Z)(function*(a){null===a.newVersion&&(yield e())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,_.Z)(function*(){r.started&&(yield r.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(r=>this.isPrimary&&!r?this._i(e).next(()=>!1):!!r&&this.wi(e).next(()=>!0))).catch(e=>{if(T(e))return lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Jd(e).get("owner").next(r=>at.resolve(this.mi(r)))}gi(e){return rd(e).delete(this.clientId)}yi(){var e=this;return(0,_.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const u=lo(a,"clientMetadata");return u.W().next(h=>{const y=e.Ii(h,18e5),A=h.filter(G=>-1===y.indexOf(G));return at.forEach(A,G=>u.delete(G.clientId)).next(()=>A)})}).catch(()=>[]);if(e.oi)for(const a of r)e.oi.removeItem(e.Ti(a.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?at.resolve(!0):Jd(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)){if(this.mi(r)&&this.networkEnabled)return!0;if(!this.mi(r)){if(!r.allowTabSynchronization)throw new kt(Et.FAILED_PRECONDITION,Xd);return!1}}return!(!this.networkEnabled||!this.inForeground)||rd(e).W().next(a=>void 0===this.Ii(a,5e3).find(u=>{if(this.clientId!==u.clientId){const y=!this.inForeground&&u.inForeground,A=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||y&&A)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&lt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,_.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const a=new wa(r,Ve.at);return e._i(a).next(()=>e.gi(a))}),e.ri.close(),e.Pi()})()}Ii(e,r){return e.filter(a=>this.pi(a.updateTimeMs,r)&&!this.Ei(a.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>rd(e).W().next(r=>this.Ii(r,18e5).map(a=>a.clientId)))}get started(){return this.Ds}getMutationQueue(e,r){return $u.oe(e,this.It,r,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bg(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Wd.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,r,a){lt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",h=15===(y=this.Xs)?ul:14===y?cg:13===y?ag:12===y?Py:11===y?uf:void ln();var y;let A;return this.ri.runTransaction(e,u,h,G=>(A=new wa(G,this.Ss?this.Ss.next():Ve.at),"readwrite-primary"===r?this.fi(A).next(Y=>!!Y||this.di(A)).next(Y=>{if(!Y)throw un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new kt(Et.FAILED_PRECONDITION,Ra);return a(A)}).next(Y=>this.wi(A).next(()=>Y)):this.Vi(A).next(()=>a(A)))).then(G=>(A.raiseOnCommittedEvent(),G))}Vi(e){return Jd(e).get("owner").next(r=>{if(null!==r&&this.pi(r.leaseTimestampMs,5e3)&&!this.Ei(r.ownerId)&&!this.mi(r)&&!(this.Ys||this.allowTabSynchronization&&r.allowTabSynchronization))throw new kt(Et.FAILED_PRECONDITION,Xd)})}wi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jd(e).put("owner",r)}static C(){return os.C()}_i(e){const r=Jd(e);return r.get("owner").next(a=>this.mi(a)?(lt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):at.resolve())}pi(e,r){const a=Date.now();return!(e<a-r||e>a&&(un(`Detected an update time that is in the future: ${e} > ${a}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,de.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var r;try{const a=null!==(null===(r=this.oi)||void 0===r?void 0:r.getItem(this.Ti(e)));return lt("IndexedDbPersistence",`Client '${e}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return un("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){un("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jd(s){return lo(s,"owner")}function rd(s){return lo(s,"clientMetadata")}class Ba{constructor(e,r,a,u){this.targetId=e,this.fromCache=r,this.Si=a,this.Di=u}static Ci(e,r){let a=Br(),u=Br();for(const h of r.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ba(e,r.fromCache,a,u)}}class id{constructor(){this.xi=!1}initialize(e,r){this.Ni=e,this.indexManager=r,this.xi=!0}getDocumentsMatchingQuery(e,r,a,u){return this.ki(e,r).next(h=>h||this.Oi(e,r,u,a)).next(h=>h||this.Mi(e,r))}ki(e,r){if(Dc(r))return at.resolve(null);let a=M(r);return this.indexManager.getIndexType(e,a).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=W(r,null,"F"),a=M(r)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const y=Br(...h);return this.Ni.getDocuments(e,y).next(A=>this.indexManager.getMinOffset(e,a).next(G=>{const Y=this.Fi(r,A);return this.$i(r,Y,y,G.readTime)?this.ki(e,W(r,null,"F")):this.Bi(e,Y,r,G)}))})))}Oi(e,r,a,u){return Dc(r)||u.isEqual(Jn.min())?this.Mi(e,r):this.Ni.getDocuments(e,a).next(h=>{const y=this.Fi(r,h);return this.$i(r,y,a,u)?this.Mi(e,r):(Mt()<=Ue.in.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),dt(r)),this.Bi(e,y,r,function(s,e){const r=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=Jn.fromTimestamp(1e9===a?new Wr(r+1,0):new Wr(r,a));return new ss(u,on.empty(),e)}(u,-1)))})}Fi(e,r){let a=new $r(rr(e));return r.forEach((u,h)=>{Wt(e,h)&&(a=a.add(h))}),a}$i(e,r,a,u){if(null===e.limit)return!1;if(a.size!==r.size)return!0;const h="F"===e.limitType?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Mi(e,r){return Mt()<=Ue.in.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",dt(r)),this.Ni.getDocumentsMatchingQuery(e,r,ss.min())}Bi(e,r,a,u){return this.Ni.getDocumentsMatchingQuery(e,a,u).next(h=>(r.forEach(y=>{h=h.insert(y.key,y)}),h))}}class eh{constructor(e,r,a,u){this.persistence=e,this.Li=r,this.It=u,this.Ui=new yn(hr),this.qi=new rc(h=>Pa(h),Xa),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(a)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _f(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ui))}}function th(s,e,r,a){return new eh(s,e,r,a)}function Uy(s,e){return If.apply(this,arguments)}function If(){return If=(0,_.Z)(function*(s,e){const r=nn(s);return yield r.persistence.runTransaction("Handle user change","readonly",a=>{let u;return r.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,r.Qi(e),r.mutationQueue.getAllMutationBatches(a))).next(h=>{const y=[],A=[];let G=Br();for(const Y of u){y.push(Y.batchId);for(const ge of Y.mutations)G=G.add(ge.key)}for(const Y of h){A.push(Y.batchId);for(const ge of Y.mutations)G=G.add(ge.key)}return r.localDocuments.getDocuments(a,G).next(Y=>({ji:Y,removedBatchIds:y,addedBatchIds:A}))})})}),If.apply(this,arguments)}function Pg(s,e){const r=nn(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=r.Gi.newChangeBuffer({trackRemovals:!0});return function(y,A,G,Y){const ge=G.batch,ke=ge.keys();let pt=at.resolve();return ke.forEach(Rt=>{pt=pt.next(()=>Y.getEntry(A,Rt)).next(Ht=>{const Tn=G.docVersions.get(Rt);xn(null!==Tn),Ht.version.compareTo(Tn)<0&&(ge.applyToRemoteDocument(Ht,G),Ht.isValidDocument()&&(Ht.setReadTime(G.commitVersion),Y.addEntry(Ht)))})}),pt.next(()=>y.mutationQueue.removeMutationBatch(A,ge))}(r,a,e,h).next(()=>h.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let A=Br();for(let G=0;G<y.mutationResults.length;++G)y.mutationResults[G].transformResults.length>0&&(A=A.add(y.batch.mutations[G].key));return A}(e))).next(()=>r.localDocuments.getDocuments(a,u))})}function jy(s){const e=nn(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Cs.getLastRemoteSnapshotVersion(r))}function Hy(s,e){const r=nn(s),a=e.snapshotVersion;let u=r.Ui;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=r.Gi.newChangeBuffer({trackRemovals:!0});u=r.Ui;const A=[];e.targetChanges.forEach((ge,ke)=>{const pt=u.get(ke);if(!pt)return;A.push(r.Cs.removeMatchingKeys(h,ge.removedDocuments,ke).next(()=>r.Cs.addMatchingKeys(h,ge.addedDocuments,ke)));let Rt=pt.withSequenceNumber(h.currentSequenceNumber);var Ht,Tn,wn;e.targetMismatches.has(ke)?Rt=Rt.withResumeToken(gr.EMPTY_BYTE_STRING,Jn.min()).withLastLimboFreeSnapshotVersion(Jn.min()):ge.resumeToken.approximateByteSize()>0&&(Rt=Rt.withResumeToken(ge.resumeToken,a)),u=u.insert(ke,Rt),Tn=Rt,wn=ge,(0===(Ht=pt).resumeToken.approximateByteSize()||Tn.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&A.push(r.Cs.updateTargetData(h,Rt))});let G=co(),Y=Br();if(e.documentUpdates.forEach(ge=>{e.resolvedLimboDocuments.has(ge)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(h,ge))}),A.push(function(s,e,r){let a=Br(),u=Br();return r.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let y=co();return r.forEach((A,G)=>{const Y=h.get(A);G.isFoundDocument()!==Y.isFoundDocument()&&(u=u.add(A)),G.isNoDocument()&&G.version.isEqual(Jn.min())?(e.removeEntry(A,G.readTime),y=y.insert(A,G)):!Y.isValidDocument()||G.version.compareTo(Y.version)>0||0===G.version.compareTo(Y.version)&&Y.hasPendingWrites?(e.addEntry(G),y=y.insert(A,G)):lt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",Y.version," Watch version:",G.version)}),{Wi:y,zi:u}})}(h,y,e.documentUpdates).next(ge=>{G=ge.Wi,Y=ge.zi})),!a.isEqual(Jn.min())){const ge=r.Cs.getLastRemoteSnapshotVersion(h).next(ke=>r.Cs.setTargetsMetadata(h,h.currentSequenceNumber,a));A.push(ge)}return at.waitFor(A).next(()=>y.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,G,Y)).next(()=>G)}).then(h=>(r.Ui=u,h))}function Og(s,e){const r=nn(s);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function ju(s,e){const r=nn(s);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return r.Cs.getTargetData(a,e).next(h=>h?(u=h,at.resolve(u)):r.Cs.allocateTargetId(a).next(y=>(u=new ho(e,y,0,a.currentSequenceNumber),r.Cs.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=r.Ui.get(a.targetId);return(null===u||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.Ui=r.Ui.insert(a.targetId,a),r.qi.set(e,a.targetId)),a})}function fl(s,e,r){return sd.apply(this,arguments)}function sd(){return sd=(0,_.Z)(function*(s,e,r){const a=nn(s),u=a.Ui.get(e),h=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",h,y=>a.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!T(y))throw y;lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}a.Ui=a.Ui.remove(e),a.qi.delete(u.target)}),sd.apply(this,arguments)}function Cf(s,e,r){const a=nn(s);let u=Jn.min(),h=Br();return a.persistence.runTransaction("Execute query","readonly",y=>function(A,G,Y){const ge=nn(A),ke=ge.qi.get(Y);return void 0!==ke?at.resolve(ge.Ui.get(ke)):ge.Cs.getTargetData(G,Y)}(a,y,M(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,a.Cs.getMatchingKeysForTargetId(y,A.targetId).next(G=>{h=G})}).next(()=>a.Li.getDocumentsMatchingQuery(y,e,r?u:Jn.min(),r?h:Br())).next(A=>(function(s,e,r){let a=s.Ki.get(e)||Jn.min();r.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Ki.set(e,a)}(a,function(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}(e),A),{documents:A,Hi:h})))}class od{constructor(){this.activeTargetIds=Su()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sh{constructor(){this.Lr=new od,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,a){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,r,a){this.Ur[e]=r}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new od,Promise.resolve()}handleUserChange(e,r,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zy{qr(e){}shutdown(){}}class Oc{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Lg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qy{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class f0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,r,a,u,h){const y=this.ho(e,r);lt("RestConnection","Sending: ",y,a);const A={};return this.lo(A,u,h),this.fo(e,y,A,a).then(G=>(lt("RestConnection","Received: ",G),G),G=>{throw Wn("RestConnection",`${e} failed with error: `,G,"url: ",y,"request:",a),G})}_o(e,r,a,u,h,y){return this.ao(e,r,a,u,h)}lo(e,r,a){e["X-Goog-Api-Client"]="gl-js/ fire/"+te,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}ho(e,r){return`${this.oo}/v1/${r}:${Lg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,r,a,u){return new Promise((h,y)=>{const A=new S;A.setWithCredentials(!0),A.listenOnce(xa.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Go.NO_ERROR:const Y=A.getResponseJson();lt("Connection","XHR received:",JSON.stringify(Y)),h(Y);break;case Go.TIMEOUT:lt("Connection",'RPC "'+e+'" timed out'),y(new kt(Et.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:const ge=A.getStatus();if(lt("Connection",'RPC "'+e+'" failed with status:',ge,"response text:",A.getResponseText()),ge>0){const ke=A.getResponseJson().error;if(ke&&ke.status&&ke.message){const pt=function(Rt){const Ht=Rt.toLowerCase().replace(/_/g,"-");return Object.values(Et).indexOf(Ht)>=0?Ht:Et.UNKNOWN}(ke.status);y(new kt(pt,ke.message))}else y(new kt(Et.UNKNOWN,"Server responded with status "+A.getStatus()))}else y(new kt(Et.UNAVAILABLE,"Connection failed."));break;default:ln()}}finally{lt("Connection",'RPC "'+e+'" completed.')}});const G=JSON.stringify(u);A.send(r,"POST",G,a,15)})}wo(e,r,a){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=is(),y=Gs(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new no({})),this.lo(A.initMessageHeaders,r,a),A.encodeInitMessageHeaders=!0;const G=u.join("");lt("Connection","Creating WebChannel: "+G,A);const Y=h.createWebChannel(G,A);let ge=!1,ke=!1;const pt=new Qy({Hr:Ht=>{ke?lt("Connection","Not sending because WebChannel is closed:",Ht):(ge||(lt("Connection","Opening WebChannel transport."),Y.open(),ge=!0),lt("Connection","WebChannel sending:",Ht),Y.send(Ht))},Jr:()=>Y.close()}),Rt=(Ht,Tn,wn)=>{Ht.listen(Tn,qr=>{try{wn(qr)}catch(ei){setTimeout(()=>{throw ei},0)}})};return Rt(Y,v.EventType.OPEN,()=>{ke||lt("Connection","WebChannel transport opened.")}),Rt(Y,v.EventType.CLOSE,()=>{ke||(ke=!0,lt("Connection","WebChannel transport closed"),pt.io())}),Rt(Y,v.EventType.ERROR,Ht=>{ke||(ke=!0,Wn("Connection","WebChannel transport errored:",Ht),pt.io(new kt(Et.UNAVAILABLE,"The operation could not be completed")))}),Rt(Y,v.EventType.MESSAGE,Ht=>{var Tn;if(!ke){const wn=Ht.data[0];xn(!!wn);const qr=wn,ei=qr.error||(null===(Tn=qr[0])||void 0===Tn?void 0:Tn.error);if(ei){lt("Connection","WebChannel received error:",ei);const Ci=ei.status;let Vs=function(wi){const fo=Yi[wi];if(void 0!==fo)return rf(fo)}(Ci),Oi=ei.message;void 0===Vs&&(Vs=Et.INTERNAL,Oi="Unknown error status: "+Ci+" with message "+ei.message),ke=!0,pt.io(new kt(Vs,Oi)),Y.close()}else lt("Connection","WebChannel received:",wn),pt.ro(wn)}}),Rt(y,pa.STAT_EVENT,Ht=>{Ht.stat===Ma.PROXY?lt("Connection","Detected buffering proxy"):Ht.stat===Ma.NOPROXY&&lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{pt.so()},0),pt}}function ah(){return"undefined"!=typeof document?document:null}function pl(s){return new ai(s,!0)}class wf{constructor(e,r,a=1e3,u=1.5,h=6e4){this.Hs=e,this.timerId=r,this.mo=a,this.yo=u,this.po=h,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const r=Math.floor(this.Io+this.bo()),a=Math.max(0,Date.now()-this.Eo),u=Math.max(0,r-a);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Vg{constructor(e,r,a,u,h,y,A,G){this.Hs=e,this.vo=a,this.Vo=u,this.connection=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=A,this.listener=G,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wf(e,r)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,_.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,_.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,r){var a=this;return(0,_.Z)(function*(){a.Lo(),a.Uo(),a.xo.cancel(),a.So++,4!==e?a.xo.reset():r&&r.code===Et.RESOURCE_EXHAUSTED?(un(r.toString()),un("Using maximum backoff delay to prevent overloading the backend."),a.xo.Ao()):r&&r.code===Et.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.qo(),a.stream.close(),a.stream=null),a.state=e,yield a.listener.Zr(r)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),r=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.So===r&&this.Go(a,u)},a=>{e(()=>{const u=new kt(Et.UNKNOWN,"Fetching auth token failed: "+a.message);return this.Qo(u)})})}Go(e,r){const a=this.Ko(this.So);this.stream=this.jo(e,r),this.stream.Yr(()=>{a(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{a(()=>this.Qo(u))}),this.stream.onMessage(u=>{a(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,_.Z)(function*(){e.state=0,e.start()}))}Qo(e){return lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return r=>{this.Hs.enqueueAndForget(()=>this.So===e?r():(lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ad extends Vg{constructor(e,r,a,u,h,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,u,y),this.It=h}jo(e,r){return this.connection.wo("Listen",e,r)}onMessage(e){this.xo.reset();const r=function(s,e){let r;if("targetChange"in e){const a="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:ln(),u=e.targetChange.targetIds||[],h=function(G,Y){return G.gt?(xn(void 0===Y||"string"==typeof Y),gr.fromBase64String(Y||"")):(xn(void 0===Y||Y instanceof Uint8Array),gr.fromUint8Array(Y||new Uint8Array))}(s,e.targetChange.resumeToken),y=e.targetChange.cause,A=y&&function(G){const Y=void 0===G.code?Et.UNKNOWN:rf(G.code);return new kt(Y,G.message||"")}(y);r=new K(a,u,h,A||null)}else if("documentChange"in e){const a=e.documentChange,u=Qo(s,a.document.name),h=Zi(a.document.updateTime),y=new vs({mapValue:{fields:a.document.fields}}),A=di.newFoundDocument(u,h,y);r=new p(a.targetIds||[],a.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const a=e.documentDelete,u=Qo(s,a.document),h=a.readTime?Zi(a.readTime):Jn.min(),y=di.newNoDocument(u,h);r=new p([],a.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const a=e.documentRemove,u=Qo(s,a.document);r=new p([],a.removedTargetIds||[],u,null)}else{if(!("filter"in e))return ln();{const a=e.filter,h=new nf(a.count||0);r=new D(a.targetId,h)}}var G;return r}(this.It,e),a=function(u){if(!("targetChange"in u))return Jn.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Jn.min():h.readTime?Zi(h.readTime):Jn.min()}(e);return this.listener.Wo(r,a)}zo(e){const r={};r.database=xc(this.It),r.addTarget=function(u,h){let y;const A=h.target;return y=_a(A)?{documents:uo(u,A)}:{query:Pu(u,A)},y.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?y.resumeToken=Ks(u,h.resumeToken):h.snapshotVersion.compareTo(Jn.min())>0&&(y.readTime=ri(u,h.snapshotVersion.toTimestamp())),y}(this.It,e);const a=function(s,e){const r=function(a,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ln()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);a&&(r.labels=a),this.Bo(r)}Ho(e){const r={};r.database=xc(this.It),r.removeTarget=e,this.Bo(r)}}class gl extends Vg{constructor(e,r,a,u,h,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,u,y),this.It=h,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,r){return this.connection.wo("Write",e,r)}onMessage(e){if(xn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const r=function(s,e){return s&&s.length>0?(xn(void 0!==e),s.map(r=>function(a,u){let h=Zi(a.updateTime?a.updateTime:u);return h.isEqual(Jn.min())&&(h=Zi(u)),new Pd(h,a.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),a=Zi(e.commitTime);return this.listener.Zo(a,r)}return xn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=xc(this.It),this.Bo(e)}Xo(e){const r={streamToken:this.lastStreamToken,writes:e.map(a=>Ru(this.It,a))};this.Bo(r)}}class Df extends class{}{constructor(e,r,a,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=a,this.It=u,this.nu=!1}su(){if(this.nu)throw new kt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,r,a){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ao(e,r,a,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new kt(Et.UNKNOWN,u.toString())})}_o(e,r,a,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.connection._o(e,r,a,h,y,u)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new kt(Et.UNKNOWN,h.toString())})}terminate(){this.nu=!0}}class yl{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(un(r),this.ou=!1):lt("OnlineStateTracker",r)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Xy{constructor(e,r,a,u,h){var y=this;this.localStore=e,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=h,this.mu.qr(A=>{a.enqueueAndForget((0,_.Z)(function*(){var G;oc(y)&&(lt("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,_.Z)(function*(Y){const ge=nn(Y);ge._u.add(4),yield ru(ge),ge.gu.set("Unknown"),ge._u.delete(4),yield vl(ge)}),function(Y){return G.apply(this,arguments)})(y))}))}),this.gu=new yl(a,u)}}function vl(s){return ch.apply(this,arguments)}function ch(){return ch=(0,_.Z)(function*(s){if(oc(s))for(const e of s.wu)yield e(!0)}),ch.apply(this,arguments)}function ru(s){return cd.apply(this,arguments)}function cd(){return cd=(0,_.Z)(function*(s){for(const e of s.wu)yield e(!1)}),cd.apply(this,arguments)}function ud(s,e){const r=nn(s);r.du.has(e.targetId)||(r.du.set(e.targetId,e),uh(r)?$g(r):_l(r).ko()&&Tf(r,e))}function iu(s,e){const r=nn(s),a=_l(r);r.du.delete(e),a.ko()&&Sf(r,e),0===r.du.size&&(a.ko()?a.Fo():oc(r)&&r.gu.set("Unknown"))}function Tf(s,e){s.yu.Mt(e.targetId),_l(s).zo(e)}function Sf(s,e){s.yu.Mt(e),_l(s).Ho(e)}function $g(s){s.yu=new Ke({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),se:e=>s.du.get(e)||null}),_l(s).start(),s.gu.uu()}function uh(s){return oc(s)&&!_l(s).No()&&s.du.size>0}function oc(s){return 0===nn(s)._u.size}function Bg(s){s.yu=void 0}function Ug(s){return Af.apply(this,arguments)}function Af(){return Af=(0,_.Z)(function*(s){s.du.forEach((e,r)=>{Tf(s,e)})}),Af.apply(this,arguments)}function Jy(s,e){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,_.Z)(function*(s,e){Bg(s),uh(s)?(s.gu.hu(e),$g(s)):s.gu.set("Unknown")}),Uo.apply(this,arguments)}function ev(s,e,r){return xf.apply(this,arguments)}function xf(){return xf=(0,_.Z)(function*(s,e,r){if(s.gu.set("Online"),e instanceof K&&2===e.state&&e.cause)try{yield(a=(0,_.Z)(function*(u,h){const y=h.cause;for(const A of h.targetIds)u.du.has(A)&&(yield u.remoteSyncer.rejectListen(A,y),u.du.delete(A),u.yu.removeTarget(A))}),function(u,h){return a.apply(this,arguments)})(s,e)}catch(a){lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Mf(s,a)}else if(e instanceof p?s.yu.Gt(e):e instanceof D?s.yu.Yt(e):s.yu.Wt(e),!r.isEqual(Jn.min()))try{const a=yield jy(s.localStore);r.compareTo(a)>=0&&(yield function(u,h){const y=u.yu.te(h);return y.targetChanges.forEach((A,G)=>{if(A.resumeToken.approximateByteSize()>0){const Y=u.du.get(G);Y&&u.du.set(G,Y.withResumeToken(A.resumeToken,h))}}),y.targetMismatches.forEach(A=>{const G=u.du.get(A);if(!G)return;u.du.set(A,G.withResumeToken(gr.EMPTY_BYTE_STRING,G.snapshotVersion)),Sf(u,A);const Y=new ho(G.target,A,1,G.sequenceNumber);Tf(u,Y)}),u.remoteSyncer.applyRemoteEvent(y)}(s,r))}catch(a){lt("RemoteStore","Failed to raise snapshot:",a),yield Mf(s,a)}var a}),xf.apply(this,arguments)}function Mf(s,e,r){return jg.apply(this,arguments)}function jg(){return jg=(0,_.Z)(function*(s,e,r){if(!T(e))throw e;s._u.add(1),yield ru(s),s.gu.set("Offline"),r||(r=()=>jy(s.localStore)),s.asyncQueue.enqueueRetryable((0,_.Z)(function*(){lt("RemoteStore","Retrying IndexedDB access"),yield r(),s._u.delete(1),yield vl(s)}))}),jg.apply(this,arguments)}function Rf(s,e){return e().catch(r=>Mf(s,r,e))}function ld(s){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,_.Z)(function*(s){const e=nn(s),r=zu(e);let a=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Of(e);)try{const u=yield Og(e.localStore,a);if(null===u){0===e.fu.length&&r.Fo();break}a=u.batchId,Hg(e,u)}catch(u){yield Mf(e,u)}Gg(e)&&zg(e)}),Pf.apply(this,arguments)}function Of(s){return oc(s)&&s.fu.length<10}function Hg(s,e){s.fu.push(e);const r=zu(s);r.ko()&&r.Yo&&r.Xo(e.mutations)}function Gg(s){return oc(s)&&!zu(s).No()&&s.fu.length>0}function zg(s){zu(s).start()}function tv(s){return lh.apply(this,arguments)}function lh(){return lh=(0,_.Z)(function*(s){zu(s).eu()}),lh.apply(this,arguments)}function nv(s){return dh.apply(this,arguments)}function dh(){return dh=(0,_.Z)(function*(s){const e=zu(s);for(const r of s.fu)e.Xo(r.mutations)}),dh.apply(this,arguments)}function rv(s,e,r){return kf.apply(this,arguments)}function kf(){return kf=(0,_.Z)(function*(s,e,r){const a=s.fu.shift(),u=Bd.from(a,e,r);yield Rf(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),yield ld(s)}),kf.apply(this,arguments)}function Wg(s,e){return hh.apply(this,arguments)}function hh(){return hh=(0,_.Z)(function*(s,e){var r;e&&zu(s).Yo&&(yield(r=(0,_.Z)(function*(a,u){if(sl(h=u.code)&&h!==Et.ABORTED){const y=a.fu.shift();zu(a).Mo(),yield Rf(a,()=>a.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield ld(a)}var h}),function(a,u){return r.apply(this,arguments)})(s,e)),Gg(s)&&zg(s)}),hh.apply(this,arguments)}function qg(s,e){return Da.apply(this,arguments)}function Da(){return Da=(0,_.Z)(function*(s,e){const r=nn(s);r.asyncQueue.verifyOperationInProgress(),lt("RemoteStore","RemoteStore received new credentials");const a=oc(r);r._u.add(3),yield ru(r),a&&r.gu.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r._u.delete(3),yield vl(r)}),Da.apply(this,arguments)}function Nf(){return Nf=(0,_.Z)(function*(s,e){const r=nn(s);e?(r._u.delete(2),yield vl(r)):e||(r._u.add(2),yield ru(r),r.gu.set("Unknown"))}),Nf.apply(this,arguments)}function _l(s){return s.pu||(s.pu=function(e,r,a){const u=nn(e);return u.su(),new ad(r,u.connection,u.authCredentials,u.appCheckCredentials,u.It,a)}(s.datastore,s.asyncQueue,{Yr:Ug.bind(null,s),Zr:Jy.bind(null,s),Wo:ev.bind(null,s)}),s.wu.push(function(){var e=(0,_.Z)(function*(r){r?(s.pu.Mo(),uh(s)?$g(s):s.gu.set("Unknown")):(yield s.pu.stop(),Bg(s))});return function(r){return e.apply(this,arguments)}}())),s.pu}function zu(s){return s.Iu||(s.Iu=function(e,r,a){const u=nn(e);return u.su(),new gl(r,u.connection,u.authCredentials,u.appCheckCredentials,u.It,a)}(s.datastore,s.asyncQueue,{Yr:tv.bind(null,s),Zr:Wg.bind(null,s),tu:nv.bind(null,s),Zo:rv.bind(null,s)}),s.wu.push(function(){var e=(0,_.Z)(function*(r){r?(s.Iu.Mo(),yield ld(s)):(yield s.Iu.stop(),s.fu.length>0&&(lt("RemoteStore",`Stopping write stream with ${s.fu.length} pending writes`),s.fu=[]))});return function(r){return e.apply(this,arguments)}}())),s.Iu}class fh{constructor(e,r,a,u,h){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,r,a,u,h){const y=Date.now()+a,A=new fh(e,r,y,u,h);return A.start(a),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(Et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bl(s,e){if(un("AsyncQueue",`${e}: ${s}`),T(s))return new kt(Et.UNAVAILABLE,`${e}: ${s}`);throw s}class El{constructor(e){this.comparator=e?(r,a)=>e(r,a)||on.comparator(r.key,a.key):(r,a)=>on.comparator(r.key,a.key),this.keyedMap=Sc(),this.sortedSet=new yn(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,a)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const a=new El;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=r,a}}class Yg{constructor(){this.Tu=new yn(on.comparator)}track(e){const r=e.doc.key,a=this.Tu.get(r);a?0!==e.type&&3===a.type?this.Tu=this.Tu.insert(r,e):3===e.type&&1!==a.type?this.Tu=this.Tu.insert(r,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Tu=this.Tu.insert(r,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Tu=this.Tu.remove(r):1===e.type&&2===a.type?this.Tu=this.Tu.insert(r,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Tu=this.Tu.insert(r,{type:2,doc:e.doc}):ln():this.Tu=this.Tu.insert(r,e)}Eu(){const e=[];return this.Tu.inorderTraversal((r,a)=>{e.push(a)}),e}}class su{constructor(e,r,a,u,h,y,A,G,Y){this.query=e,this.docs=r,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=A,this.excludesMetadataChanges=G,this.hasCachedResults=Y}static fromInitialDocuments(e,r,a,u,h){const y=[];return r.forEach(A=>{y.push({type:0,doc:A})}),new su(e,r,El.emptySet(r),y,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&he(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,a=e.docChanges;if(r.length!==a.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==a[u].type||!r[u].doc.isEqual(a[u].doc))return!1;return!0}}class iv{constructor(){this.Au=void 0,this.listeners=[]}}class sv{constructor(){this.queries=new rc(e=>We(e),he),this.onlineState="Unknown",this.Ru=new Set}}function hd(){return hd=(0,_.Z)(function*(s,e){const r=nn(s),a=e.query;let u=!1,h=r.queries.get(a);if(h||(u=!0,h=new iv),u)try{h.Au=yield r.onListen(a)}catch(y){const A=bl(y,`Initialization of query '${dt(e.query)}' failed`);return void e.onError(A)}r.queries.set(a,h),h.listeners.push(e),e.bu(r.onlineState),h.Au&&e.Pu(h.Au)&&Vf(r)}),hd.apply(this,arguments)}function fd(){return fd=(0,_.Z)(function*(s,e){const r=nn(s),a=e.query;let u=!1;const h=r.queries.get(a);if(h){const y=h.listeners.indexOf(e);y>=0&&(h.listeners.splice(y,1),u=0===h.listeners.length)}if(u)return r.queries.delete(a),r.onUnlisten(a)}),fd.apply(this,arguments)}function Lf(s,e){const r=nn(s);let a=!1;for(const u of e){const y=r.queries.get(u.query);if(y){for(const A of y.listeners)A.Pu(u)&&(a=!0);y.Au=u}}a&&Vf(r)}function Kg(s,e,r){const a=nn(s),u=a.queries.get(e);if(u)for(const h of u.listeners)h.onError(r);a.queries.delete(e)}function Vf(s){s.Ru.forEach(e=>{e.next()})}class $f{constructor(e,r,a){this.query=e,this.vu=r,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=a||{}}Pu(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)3!==u.type&&a.push(u);e=new su(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),r=!0):this.Cu(e,this.onlineState)&&(this.xu(e),r=!0),this.Su=e,r}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let r=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),r=!0),r}Cu(e,r){return!e.fromCache||(!this.options.Nu||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class jf{constructor(e){this.key=e}}class Hf{constructor(e){this.key=e}}class Gf{constructor(e,r){this.query=e,this.Uu=r,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Br(),this.mutatedKeys=Br(),this.Gu=rr(e),this.Qu=new El(this.Gu)}get ju(){return this.Uu}Wu(e,r){const a=r?r.zu:new Yg,u=r?r.Qu:this.Qu;let h=r?r.mutatedKeys:this.mutatedKeys,y=u,A=!1;const G="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Y="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ge,ke)=>{const pt=u.get(ge),Rt=Wt(this.query,ke)?ke:null,Ht=!!pt&&this.mutatedKeys.has(pt.key),Tn=!!Rt&&(Rt.hasLocalMutations||this.mutatedKeys.has(Rt.key)&&Rt.hasCommittedMutations);let wn=!1;pt&&Rt?pt.data.isEqual(Rt.data)?Ht!==Tn&&(a.track({type:3,doc:Rt}),wn=!0):this.Hu(pt,Rt)||(a.track({type:2,doc:Rt}),wn=!0,(G&&this.Gu(Rt,G)>0||Y&&this.Gu(Rt,Y)<0)&&(A=!0)):!pt&&Rt?(a.track({type:0,doc:Rt}),wn=!0):pt&&!Rt&&(a.track({type:1,doc:pt}),wn=!0,(G||Y)&&(A=!0)),wn&&(Rt?(y=y.add(Rt),h=Tn?h.add(ge):h.delete(ge)):(y=y.delete(ge),h=h.delete(ge)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ge="F"===this.query.limitType?y.last():y.first();y=y.delete(ge.key),h=h.delete(ge.key),a.track({type:1,doc:ge})}return{Qu:y,zu:a,$i:A,mutatedKeys:h}}Hu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,a){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const h=e.zu.Eu();h.sort((Y,ge)=>function(ke,pt){const Rt=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln()}};return Rt(ke)-Rt(pt)}(Y.type,ge.type)||this.Gu(Y.doc,ge.doc)),this.Ju(a);const y=r?this.Yu():[],A=0===this.Ku.size&&this.current?1:0,G=A!==this.qu;return this.qu=A,0!==h.length||G?{snapshot:new su(this.query,e.Qu,u,h,e.mutatedKeys,0===A,G,!1,!!a&&a.resumeToken.approximateByteSize()>0),Xu:y}:{Xu:y}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Yg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(r=>this.Uu=this.Uu.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Uu=this.Uu.delete(r)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Br(),this.Qu.forEach(a=>{this.Zu(a.key)&&(this.Ku=this.Ku.add(a.key))});const r=[];return e.forEach(a=>{this.Ku.has(a)||r.push(new Hf(a))}),this.Ku.forEach(a=>{e.has(a)||r.push(new jf(a))}),r}tc(e){this.Uu=e.Hi,this.Ku=Br();const r=this.Wu(e.documents);return this.applyChanges(r,!0)}ec(){return su.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Zg{constructor(e,r,a){this.query=e,this.targetId=r,this.view=a}}class kc{constructor(e){this.key=e,this.nc=!1}}class ph{constructor(e,r,a,u,h,y){this.localStore=e,this.remoteStore=r,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.sc={},this.ic=new rc(A=>We(A),he),this.rc=new Map,this.oc=new Set,this.uc=new yn(on.comparator),this.cc=new Map,this.ac=new bf,this.hc={},this.lc=new Map,this.fc=La.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function cv(s,e){return zf.apply(this,arguments)}function zf(){return zf=(0,_.Z)(function*(s,e){const r=Ih(s);let a,u;const h=r.ic.get(e);if(h)a=h.targetId,r.sharedClientState.addLocalQueryTarget(a),u=h.view.ec();else{const y=yield ju(r.localStore,M(e));r.isPrimaryClient&&ud(r.remoteStore,y);const A=r.sharedClientState.addLocalQueryTarget(y.targetId);a=y.targetId,u=yield Qg(r,e,a,"current"===A,y.resumeToken)}return u}),zf.apply(this,arguments)}function Qg(s,e,r,a,u){return ou.apply(this,arguments)}function ou(){return ou=(0,_.Z)(function*(s,e,r,a,u){s._c=(ke,pt,Rt)=>{return(Ht=(0,_.Z)(function*(Tn,wn,qr,ei){let Ci=wn.view.Wu(qr);Ci.$i&&(Ci=yield Cf(Tn.localStore,wn.query,!1).then(({documents:wi})=>wn.view.Wu(wi,Ci)));const Vs=ei&&ei.targetChanges.get(wn.targetId),Oi=wn.view.applyChanges(Ci,Tn.isPrimaryClient,Vs);return Xf(Tn,wn.targetId,Oi.Xu),Oi.snapshot}),function(Tn,wn,qr,ei){return Ht.apply(this,arguments)})(s,ke,pt,Rt);var Ht};const h=yield Cf(s.localStore,e,!0),y=new Gf(e,h.Hi),A=y.Wu(h.documents),G=d.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==s.onlineState,u),Y=y.applyChanges(A,s.isPrimaryClient,G);Xf(s,r,Y.Xu);const ge=new Zg(e,r,y);return s.ic.set(e,ge),s.rc.has(r)?s.rc.get(r).push(e):s.rc.set(r,[e]),Y.snapshot}),ou.apply(this,arguments)}function Xg(s,e){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,_.Z)(function*(s,e){const r=nn(s),a=r.ic.get(e),u=r.rc.get(a.targetId);if(u.length>1)return r.rc.set(a.targetId,u.filter(h=>!he(h,e))),void r.ic.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield fl(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),iu(r.remoteStore,a.targetId),ja(r,a.targetId)}).catch(ro))):(ja(r,a.targetId),yield fl(r.localStore,a.targetId,!0))}),Wu.apply(this,arguments)}function Wf(){return Wf=(0,_.Z)(function*(s,e,r){const a=Ch(s);try{const u=yield function(h,y){const A=nn(h),G=Wr.now(),Y=y.reduce((pt,Rt)=>pt.add(Rt.key),Br());let ge,ke;return A.persistence.runTransaction("Locally write mutations","readwrite",pt=>{let Rt=co(),Ht=Br();return A.Gi.getEntries(pt,Y).next(Tn=>{Rt=Tn,Rt.forEach((wn,qr)=>{qr.isValidDocument()||(Ht=Ht.add(wn))})}).next(()=>A.localDocuments.getOverlayedDocuments(pt,Rt)).next(Tn=>{ge=Tn;const wn=[];for(const qr of y){const ei=tf(qr,ge.get(qr.key).overlayedDocument);null!=ei&&wn.push(new Do(qr.key,ei,Ki(ei.value.mapValue),Pi.exists(!0)))}return A.mutationQueue.addMutationBatch(pt,G,wn,y)}).next(Tn=>{ke=Tn;const wn=Tn.applyToLocalDocumentSet(ge,Ht);return A.documentOverlayCache.saveOverlays(pt,Tn.batchId,wn)})}).then(()=>({batchId:ke.batchId,changes:Zo(ge)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(h,y,A){let G=h.hc[h.currentUser.toKey()];G||(G=new yn(hr)),G=G.insert(y,A),h.hc[h.currentUser.toKey()]=G}(a,u.batchId,r),yield au(a,u.changes),yield ld(a.remoteStore)}catch(u){const h=bl(u,"Failed to persist write");r.reject(h)}}),Wf.apply(this,arguments)}function gh(s,e){return mh.apply(this,arguments)}function mh(){return mh=(0,_.Z)(function*(s,e){const r=nn(s);try{const a=yield Hy(r.localStore,e);e.targetChanges.forEach((u,h)=>{const y=r.cc.get(h);y&&(xn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.nc=!0:u.modifiedDocuments.size>0?xn(y.nc):u.removedDocuments.size>0&&(xn(y.nc),y.nc=!1))}),yield au(r,a,e)}catch(a){yield ro(a)}}),mh.apply(this,arguments)}function Jg(s,e,r){const a=nn(s);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const u=[];a.ic.forEach((h,y)=>{const A=y.view.bu(e);A.snapshot&&u.push(A.snapshot)}),function(h,y){const A=nn(h);A.onlineState=y;let G=!1;A.queries.forEach((Y,ge)=>{for(const ke of ge.listeners)ke.bu(y)&&(G=!0)}),G&&Vf(A)}(a.eventManager,e),u.length&&a.sc.Wo(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function em(s,e,r){return qf.apply(this,arguments)}function qf(){return qf=(0,_.Z)(function*(s,e,r){const a=nn(s);a.sharedClientState.updateQueryState(e,"rejected",r);const u=a.cc.get(e),h=u&&u.key;if(h){let y=new yn(on.comparator);y=y.insert(h,di.newNoDocument(h,Jn.min()));const A=Br().add(h),G=new I(Jn.min(),new Map,new $r(hr),y,A);yield gh(a,G),a.uc=a.uc.remove(h),a.cc.delete(e),Jf(a)}else yield fl(a.localStore,e,!1).then(()=>ja(a,e,r)).catch(ro)}),qf.apply(this,arguments)}function Yf(s,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,_.Z)(function*(s,e){const r=nn(s),a=e.batch.batchId;try{const u=yield Pg(r.localStore,e);Qf(r,a,null),Zf(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield au(r,u)}catch(u){yield ro(u)}}),Kf.apply(this,arguments)}function uv(s,e,r){return yh.apply(this,arguments)}function yh(){return yh=(0,_.Z)(function*(s,e,r){const a=nn(s);try{const u=yield function(h,y){const A=nn(h);return A.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let Y;return A.mutationQueue.lookupMutationBatch(G,y).next(ge=>(xn(null!==ge),Y=ge.keys(),A.mutationQueue.removeMutationBatch(G,ge))).next(()=>A.mutationQueue.performConsistencyCheck(G)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(G,Y,y)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,Y)).next(()=>A.localDocuments.getDocuments(G,Y))})}(a.localStore,e);Qf(a,e,r),Zf(a,e),a.sharedClientState.updateMutationState(e,"rejected",r),yield au(a,u)}catch(u){yield ro(u)}}),yh.apply(this,arguments)}function Zf(s,e){(s.lc.get(e)||[]).forEach(r=>{r.resolve()}),s.lc.delete(e)}function Qf(s,e,r){const a=nn(s);let u=a.hc[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(r?h.reject(r):h.resolve(),u=u.remove(e)),a.hc[a.currentUser.toKey()]=u}}function ja(s,e,r=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.rc.get(e))s.ic.delete(a),r&&s.sc.wc(a,r);s.rc.delete(e),s.isPrimaryClient&&s.ac.ls(e).forEach(a=>{s.ac.containsKey(a)||tm(s,a)})}function tm(s,e){s.oc.delete(e.path.canonicalString());const r=s.uc.get(e);null!==r&&(iu(s.remoteStore,r),s.uc=s.uc.remove(e),s.cc.delete(r),Jf(s))}function Xf(s,e,r){for(const a of r)a instanceof jf?(s.ac.addReference(a.key,e),lv(s,a)):a instanceof Hf?(lt("SyncEngine","Document no longer in limbo: "+a.key),s.ac.removeReference(a.key,e),s.ac.containsKey(a.key)||tm(s,a.key)):ln()}function lv(s,e){const r=e.key,a=r.path.canonicalString();s.uc.get(r)||s.oc.has(a)||(lt("SyncEngine","New document in limbo: "+r),s.oc.add(a),Jf(s))}function Jf(s){for(;s.oc.size>0&&s.uc.size<s.maxConcurrentLimboResolutions;){const e=s.oc.values().next().value;s.oc.delete(e);const r=new on(zr.fromString(e)),a=s.fc.next();s.cc.set(a,new kc(r)),s.uc=s.uc.insert(r,a),ud(s.remoteStore,new ho(M(Ja(r.path)),a,2,Ve.at))}}function au(s,e,r){return ep.apply(this,arguments)}function ep(){return ep=(0,_.Z)(function*(s,e,r){const a=nn(s),u=[],h=[],y=[];var A;a.ic.isEmpty()||(a.ic.forEach((A,G)=>{y.push(a._c(G,e,r).then(Y=>{if((Y||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(G.targetId,(null==Y?void 0:Y.fromCache)?"not-current":"current"),Y){u.push(Y);const ge=Ba.Ci(G.targetId,Y);h.push(ge)}}))}),yield Promise.all(y),a.sc.Wo(u),yield(A=(0,_.Z)(function*(G,Y){const ge=nn(G);try{yield ge.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>at.forEach(Y,pt=>at.forEach(pt.Si,Rt=>ge.persistence.referenceDelegate.addReference(ke,pt.targetId,Rt)).next(()=>at.forEach(pt.Di,Rt=>ge.persistence.referenceDelegate.removeReference(ke,pt.targetId,Rt)))))}catch(ke){if(!T(ke))throw ke;lt("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of Y){const pt=ke.targetId;if(!ke.fromCache){const Rt=ge.Ui.get(pt),Tn=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);ge.Ui=ge.Ui.insert(pt,Tn)}}}),function(G,Y){return A.apply(this,arguments)})(a.localStore,h))}),ep.apply(this,arguments)}function nm(s,e){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,_.Z)(function*(s,e){const r=nn(s);if(!r.currentUser.isEqual(e)){lt("SyncEngine","User change. New user:",e.toKey());const a=yield Uy(r.localStore,e);r.currentUser=e,(u=r).lc.forEach(y=>{y.forEach(A=>{A.reject(new kt(Et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),r.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield au(r,a.ji)}var u}),Vi.apply(this,arguments)}function tp(s,e){const r=nn(s),a=r.cc.get(e);if(a&&a.nc)return Br().add(a.key);{let u=Br();const h=r.rc.get(e);if(!h)return u;for(const y of h){const A=r.ic.get(y);u=u.unionWith(A.view.ju)}return u}}function Ih(s){const e=nn(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=gh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=em.bind(null,e),e.sc.Wo=Lf.bind(null,e.eventManager),e.sc.wc=Kg.bind(null,e.eventManager),e}function Ch(s){const e=nn(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uv.bind(null,e),e}class im{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,_.Z)(function*(){r.It=pl(e.databaseInfo.databaseId),r.sharedClientState=r.gc(e),r.persistence=r.yc(e),yield r.persistence.start(),r.localStore=r.Ic(e),r.gcScheduler=r.Tc(e,r.localStore),r.indexBackfillerScheduler=r.Ec(e,r.localStore)})()}Tc(e,r){return null}Ec(e,r){return null}Ic(e){return th(this.persistence,new id,e.initialUser,this.It)}yc(e){return new Ef(hl.Bs,this.It)}gc(e){return new sh}terminate(){var e=this;return(0,_.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pv extends im{constructor(e,r,a){super(),this.Ac=e,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,a=this;return(0,_.Z)(function*(){yield r().call(a,e),yield a.Ac.initialize(a,e),yield Ch(a.Ac.syncEngine),yield ld(a.Ac.remoteStore),yield a.persistence.li(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return th(this.persistence,new id,e.initialUser,this.It)}Tc(e,r){return new Cg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ec(e,r){const a=new Ae(r,this.persistence);return new ie(e.asyncQueue,a)}yc(e){const r=function(s,e){let r=s.projectId;return s.isDefaultDatabase||(r+="."+s.database),"firestore/"+e+"/"+r+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ao.withCacheSize(this.cacheSizeBytes):Ao.DEFAULT;return new nd(this.synchronizeTabs,r,e.clientId,a,e.asyncQueue,"undefined"!=typeof window?window:null,ah(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new sh}}class ap{initialize(e,r){var a=this;return(0,_.Z)(function*(){a.localStore||(a.localStore=e.localStore,a.sharedClientState=e.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!e.synchronizeTabs),a.sharedClientState.onlineStateHandler=u=>Jg(a.syncEngine,u,1),a.remoteStore.remoteSyncer.handleCredentialChange=nm.bind(null,a.syncEngine),yield function(s,e){return Nf.apply(this,arguments)}(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(e){return new sv}createDatastore(e){const r=pl(e.databaseInfo.databaseId),a=new f0(e.databaseInfo);return new Df(e.authCredentials,e.appCheckCredentials,a,r)}createRemoteStore(e){return r=this.localStore,a=this.datastore,u=e.asyncQueue,h=A=>Jg(this.syncEngine,A,0),y=Oc.C()?new Oc:new Zy,new Xy(r,a,u,h,y);var r,a,u,h,y}createSyncEngine(e,r){return function(a,u,h,y,A,G,Y){const ge=new ph(a,u,h,y,A,G);return Y&&(ge.dc=!0),ge}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,_.Z)(function*(r){const a=nn(r);lt("RemoteStore","RemoteStore shutting down."),a._u.add(5),yield ru(a),a.mu.shutdown(),a.gu.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function wh(s,e,r){if(!r)throw new kt(Et.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cp(s){if(!on.isDocumentKey(s))throw new kt(Et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sm(s){if(on.isDocumentKey(s))throw new kt(Et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Dh(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(r=s).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof s?"a function":ln()}function ci(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new kt(Et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Dh(s);throw new kt(Et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return s}const Th=new Map;class om{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(Et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(Et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(s,e,r,a){if(!0===e&&!0===a)throw new kt(Et.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wl{constructor(e,r,a,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new om({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(Et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(Et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new om(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new mu;switch(r.type){case"gapi":return new tl(r.client,r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new kt(Et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Th.get(e);r&&(lt("ComponentProvider","Removing Datastore"),Th.delete(e),r.terminate())}(this),Promise.resolve()}}class _s{constructor(e,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _s(this.firestore,e,this._key)}}class $i{constructor(e,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Nc extends $i{constructor(e,r,a){super(e,r,Ja(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _s(this.firestore,null,new on(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function y0(s,e,...r){if(s=(0,de.m9)(s),wh("collection","path",e),s instanceof wl){const a=zr.fromString(e,...r);return sm(a),new Nc(s,null,a)}{if(!(s instanceof _s||s instanceof Nc))throw new kt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(zr.fromString(e,...r));return sm(a),new Nc(s.firestore,null,a)}}function up(s,e,...r){if(s=(0,de.m9)(s),1===arguments.length&&(e=Wa.R()),wh("doc","path",e),s instanceof wl){const a=zr.fromString(e,...r);return cp(a),new _s(s,null,new on(a))}{if(!(s instanceof _s||s instanceof Nc))throw new kt(Et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(zr.fromString(e,...r));return cp(a),new _s(s.firestore,s instanceof Nc?s.converter:null,new on(a))}}class dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):un("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Ev{constructor(e,r,a,u){var h=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=u,this.user=$.UNAUTHENTICATED,this.clientId=Wa.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var y=(0,_.Z)(function*(A){lt("FirestoreClient","Received user=",A.uid),yield h.authCredentialListener(A),h.user=A});return function(A){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(a,y=>(lt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,_.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(Et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(a){const u=bl(a,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function dm(s,e){return fp.apply(this,arguments)}function fp(){return fp=(0,_.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),lt("FirestoreClient","Initializing OfflineComponentProvider");const r=yield s.getConfiguration();yield e.initialize(r);let a=r.initialUser;s.setCredentialChangeListener(function(){var u=(0,_.Z)(function*(h){a.isEqual(h)||(yield Uy(e.localStore,h),a=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=e}),fp.apply(this,arguments)}function hm(s,e){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,_.Z)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const r=yield cu(s);lt("FirestoreClient","Initializing OnlineComponentProvider");const a=yield s.getConfiguration();yield e.initialize(r,a),s.setCredentialChangeListener(u=>qg(e.remoteStore,u)),s.setAppCheckTokenChangeListener((u,h)=>qg(e.remoteStore,h)),s.onlineComponents=e}),Dl.apply(this,arguments)}function cu(s){return Sh.apply(this,arguments)}function Sh(){return Sh=(0,_.Z)(function*(s){return s.offlineComponents||(lt("FirestoreClient","Using default OfflineComponentProvider"),yield dm(s,new im)),s.offlineComponents}),Sh.apply(this,arguments)}function Xo(s){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,_.Z)(function*(s){return s.onlineComponents||(lt("FirestoreClient","Using default OnlineComponentProvider"),yield hm(s,new ap)),s.onlineComponents}),Yu.apply(this,arguments)}function ls(s){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,_.Z)(function*(s){const e=yield Xo(s),r=e.eventManager;return r.onListen=cv.bind(null,e.syncEngine),r.onUnlisten=Xg.bind(null,e.syncEngine),r}),Fc.apply(this,arguments)}class Rl{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new wf(this,"async_queue_retry"),this.Wc=()=>{const r=ah();r&&lt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.xo.Po()};const e=ah();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const r=ah();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const r=new Fi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,_.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(r){if(!T(r))throw r;lt("AsyncQueue","Operation failed with retryable error: "+r)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const r=this.Bc.then(()=>(this.Gc=!0,e().catch(a=>{throw this.Kc=a,this.Gc=!1,un("INTERNAL UNHANDLED ERROR: ",function(h){let y=h.message||"";return h.stack&&(y=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),y}(a)),a}).then(a=>(this.Gc=!1,a))));return this.Bc=r,r}enqueueAfterDelay(e,r,a){this.zc(),this.jc.indexOf(e)>-1&&(r=0);const u=fh.createAndSchedule(this,e,r,a,h=>this.Yc(h));return this.qc.push(u),u}zc(){this.Kc&&ln()}verifyOperationInProgress(){}Xc(){var e=this;return(0,_.Z)(function*(){let r;do{r=e.Bc,yield r}while(r!==e.Bc)})()}Zc(e){for(const r of this.qc)if(r.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.qc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const r=this.qc.indexOf(e);this.qc.splice(r,1)}}function uu(s){return function(e,r){if("object"!=typeof e||null===e)return!1;const a=e;for(const u of["next","error","complete"])if(u in a&&"function"==typeof a[u])return!0;return!1}(s)}class Bi extends wl{constructor(e,r,a,u){super(e,r,a,u),this.type="firestore",this._queue=new Rl,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gp(this),this._firestoreClient.terminate()}}function pm(s,e){const r="object"==typeof s?s:(0,R.Mq)(),a="string"==typeof s?s:e||"(default)",u=(0,R.qX)(r,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=(0,de.P0)("firestore");h&&function(s,e,r,a={}){var u;const h=(s=ci(s,wl))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&Wn("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${r}`,ssl:!1})),a.mockUserToken){let y,A;if("string"==typeof a.mockUserToken)y=a.mockUserToken,A=$.MOCK_USER;else{y=(0,de.Sg)(a.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const G=a.mockUserToken.sub||a.mockUserToken.user_id;if(!G)throw new kt(Et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $(G)}s._authCredentials=new zo(new dc(y,A))}}(u,...h)}return u}function ds(s){return s._firestoreClient||gp(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function gp(s){var e;const r=s._freezeSettings(),a=(h=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new xd(s._databaseId,h,s._persistenceKey,(A=r).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var h,A;s._firestoreClient=new Ev(s._authCredentials,s._appCheckCredentials,s._queue,a)}function gm(s,e){!function(s){if(s._initialized||s._terminated)throw new kt(Et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(s=ci(s,Bi));const r=ds(s),a=s._freezeSettings(),u=new ap;return function(s,e,r){const a=new Fi;return s.asyncQueue.enqueue((0,_.Z)(function*(){try{yield dm(s,r),yield hm(s,e),a.resolve()}catch(u){const h=u;if(!("FirebaseError"===(y=h).name?y.code===Et.FAILED_PRECONDITION||y.code===Et.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw h;Wn("Error enabling offline persistence. Falling back to persistence disabled: "+h),a.reject(h)}var y})).then(()=>a.promise)}(r,u,new pv(u,a.cacheSizeBytes,null==e?void 0:e.forceOwnership))}class lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lu(gr.fromBase64String(e))}catch(r){throw new kt(Et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new lu(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ol{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new kt(Et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yp{constructor(e){this._methodName=e}}class vp{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new kt(Et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new kt(Et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hr(this._lat,e._lat)||hr(this._long,e._long)}}const I0=/^__.*__$/;class Av{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return null!==this.fieldMask?new Do(e,this.data,this.fieldMask,r,this.fieldTransforms):new wo(e,this.data,r,this.fieldTransforms)}}class _p{constructor(e,r,a){this.data=e,this.fieldMask=r,this.fieldTransforms=a}toMutation(e,r){return new Do(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function xv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln()}}class bp{constructor(e,r,a,u,h,y){this.settings=e,this.databaseId=r,this.It=a,this.ignoreUndefinedProperties=u,void 0===h&&this.na(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new bp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.ia({path:a,oa:!1});return u.ua(e),u}ca(e){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.ia({path:a,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return _d(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(xv(this.sa)&&I0.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class C0{constructor(e,r,a){this.databaseId=e,this.ignoreUndefinedProperties=r,this.It=a||pl(e)}da(e,r,a,u=!1){return new bp({sa:e,methodName:r,fa:a,path:Ai.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function kl(s){const e=s._freezeSettings(),r=pl(s._databaseId);return new C0(s._databaseId,!!e.ignoreUndefinedProperties,r)}function ym(s,e,r,a,u,h={}){const y=s.da(h.merge||h.mergeFields?2:0,e,r,u);hu("Data must be an object, but it was:",y,a);const A=Ov(a,y);let G,Y;if(h.merge)G=new ms(y.fieldMask),Y=y.fieldTransforms;else if(h.mergeFields){const ge=[];for(const ke of h.mergeFields){const pt=Ip(e,ke,r);if(!y.contains(pt))throw new kt(Et.INVALID_ARGUMENT,`Field '${pt}' is specified in your field mask but missing from your input data.`);bd(ge,pt)||ge.push(pt)}G=new ms(ge),Y=y.fieldTransforms.filter(ke=>G.covers(ke.field))}else G=null,Y=y.fieldTransforms;return new Av(new vs(A),G,Y)}class yd extends yp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}function du(s,e){if(bm(s=(0,de.m9)(s)))return hu("Unsupported field value:",e,s),Ov(s,e);if(s instanceof yp)return function(r,a){if(!xv(a.sa))throw a.ha(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.ha(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(r,a){const u=[];let h=0;for(const y of r){let A=du(y,a.aa(h));null==A&&(A={nullValue:"NULL_VALUE"}),u.push(A),h++}return{arrayValue:{values:u}}}(s,e)}return function(r,a){if(null===(r=(0,de.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return cs(a.It,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const u=Wr.fromDate(r);return{timestampValue:ri(a.It,u)}}if(r instanceof Wr){const u=new Wr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ri(a.It,u)}}if(r instanceof vp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lu)return{bytesValue:Ks(a.It,r._byteString)};if(r instanceof _s){const u=a.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw a.ha(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Au(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.ha(`Unsupported field value: ${Dh(r)}`)}(s,e)}function Ov(s,e){const r={};return Tr(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fn(s,(a,u)=>{const h=du(u,e.ra(a));null!=h&&(r[a]=h)}),{mapValue:{fields:r}}}function bm(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Wr||s instanceof vp||s instanceof lu||s instanceof _s||s instanceof yp)}function hu(s,e,r){if(!bm(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=Dh(r);throw e.ha("an object"===a?s+" a custom object":s+" "+a)}var a}function Ip(s,e,r){if((e=(0,de.m9)(e))instanceof Ol)return e._internalPath;if("string"==typeof e)return Mh(s,e);throw _d("Field path arguments must be of type string or ",s,!1,void 0,r)}const Em=new RegExp("[~\\*/\\[\\]]");function Mh(s,e,r){if(e.search(Em)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Ol(...e.split("."))._internalPath}catch(a){throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function _d(s,e,r,a,u){const h=a&&!a.isEmpty(),y=void 0!==u;let A=`Function ${e}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let G="";return(h||y)&&(G+=" (found",h&&(G+=` in field ${a}`),y&&(G+=` in document ${u}`),G+=")"),new kt(Et.INVALID_ARGUMENT,A+s+G)}function bd(s,e){return s.some(r=>r.isEqual(e))}class Cp{constructor(e,r,a,u,h){this._firestore=e,this._userDataWriter=r,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new _s(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Im(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Rh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Im extends Cp{data(){return super.data()}}function Rh(s,e){return"string"==typeof e?Mh(s,e):e instanceof Ol?e._internalPath:e._delegate._internalPath}function Nv(s,...e){for(const r of e)s=r._apply(s);return s}class Vv extends class{}{constructor(e,r){super(),this.ma=e,this.pa=r,this.type="orderBy"}_apply(e){const r=function(a,u,h){if(null!==a.startAt)throw new kt(Et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new kt(Et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new mi(u,h);return function(A,G){if(null===Ul(A)){const Y=ba(A);null!==Y&&function(s,e,r){if(!r.isEqual(e))throw new kt(Et.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}(0,Y,G.field)}}(a,y),y}(e._query,this.ma,this.pa);return new $i(e.firestore,e.converter,function(a,u){const h=a.explicitOrderBy.concat([u]);return new qi(a.path,a.collectionGroup,h,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}function wm(s,e="asc"){const r=e,a=Rh("orderBy",s);return new Vv(a,r)}function xm(s,e,r){let a;return a=s?r&&(r.merge||r.mergeFields)?s.toFirestore(e,r):s.toFirestore(e):e,a}class fu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qu extends Cp{constructor(e,r,a,u,h,y){super(e,r,a,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const a=this._document.data.field(Rh("DocumentSnapshot.get",e));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Fh extends Qu{data(e={}){return super.data(e)}}class Xu{constructor(e,r,a,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new fu(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(a=>{e.call(r,new Fh(this._firestore,this._userDataWriter,a.key,a,new fu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new kt(Et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(y=>({type:"added",doc:new Fh(a._firestore,a._userDataWriter,y.doc.key,y.doc,new fu(a._snapshot.mutatedKeys.has(y.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:h++}))}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const A=new Fh(a._firestore,a._userDataWriter,y.doc.key,y.doc,new fu(a._snapshot.mutatedKeys.has(y.doc.key),a._snapshot.fromCache),a.query.converter);let G=-1,Y=-1;return 0!==y.type&&(G=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),1!==y.type&&(h=h.add(y.doc),Y=h.indexOf(y.doc.key)),{type:Dp(y.type),doc:A,oldIndex:G,newIndex:Y}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Dp(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln()}}class ac extends class{convertValue(e,r="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw ln()}}convertObject(e,r){const a={};return fn(e.fields,(u,h)=>{a[u]=this.convertValue(h,r)}),a}convertGeoPoint(e){return new vp(Di(e.latitude),Di(e.longitude))}convertArray(e,r){return(e.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(e,r){switch(r){case"previous":const a=vu(e);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(qs(e));default:return null}}convertTimestamp(e){const r=oa(e);return new Wr(r.seconds,r.nanos)}convertDocumentKey(e,r){const a=zr.fromString(e);xn(ig(a));const u=new aa(a.get(1),a.get(3)),h=new on(a.popFirst(5));return u.isEqual(r)||un(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new lu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new _s(this.firestore,null,r)}}function Pm(s,e,r){s=ci(s,_s);const a=ci(s.firestore,Bi),u=xm(s.converter,e,r);return Fl(a,[ym(kl(a),"setDoc",s._key,u,null!==s.converter,r).toMutation(s._key,Pi.none())])}function Gv(s,e,r,...a){s=ci(s,_s);const u=ci(s.firestore,Bi),h=kl(u);let y;return y="string"==typeof(e=(0,de.m9)(e))||e instanceof Ol?function(s,e,r,a,u,h){const y=s.da(1,e,r),A=[Ip(e,a,r)],G=[u];if(h.length%2!=0)throw new kt(Et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pt=0;pt<h.length;pt+=2)A.push(Ip(e,h[pt])),G.push(h[pt+1]);const Y=[],ge=vs.empty();for(let pt=A.length-1;pt>=0;--pt)if(!bd(Y,A[pt])){const Rt=A[pt];let Ht=G[pt];Ht=(0,de.m9)(Ht);const Tn=y.ca(Rt);if(Ht instanceof yd)Y.push(Rt);else{const wn=du(Ht,Tn);null!=wn&&(Y.push(Rt),ge.set(Rt,wn))}}const ke=new ms(Y);return new _p(ge,ke,y.fieldTransforms)}(h,"updateDoc",s._key,e,r,a):function(s,e,r,a){const u=s.da(1,e,r);hu("Data must be an object, but it was:",u,a);const h=[],y=vs.empty();fn(a,(G,Y)=>{const ge=Mh(e,G,r);Y=(0,de.m9)(Y);const ke=u.ca(ge);if(Y instanceof yd)h.push(ge);else{const pt=du(Y,ke);null!=pt&&(h.push(ge),y.set(ge,pt))}});const A=new ms(h);return new _p(y,A,u.fieldTransforms)}(h,"updateDoc",s._key,e),Fl(u,[y.toMutation(s._key,Pi.exists(!0))])}function Om(s,e){const r=ci(s.firestore,Bi),a=up(s),u=xm(s.converter,e);return Fl(r,[ym(kl(s.firestore),"addDoc",a._key,u,null!==s.converter,{}).toMutation(a._key,Pi.exists(!1))]).then(()=>a)}function Tp(s,...e){var r,a,u;s=(0,de.m9)(s);let h={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||uu(e[y])||(h=e[y],y++);const A={includeMetadataChanges:h.includeMetadataChanges};if(uu(e[y])){const ke=e[y];e[y]=null===(r=ke.next)||void 0===r?void 0:r.bind(ke),e[y+1]=null===(a=ke.error)||void 0===a?void 0:a.bind(ke),e[y+2]=null===(u=ke.complete)||void 0===u?void 0:u.bind(ke)}let G,Y,ge;if(s instanceof _s)Y=ci(s.firestore,Bi),ge=Ja(s._key.path),G={next:ke=>{e[y]&&e[y](function(s,e,r){const a=r.docs.get(e._key),u=new ac(s);return new Qu(s,u,e._key,a,new fu(r.hasPendingWrites,r.fromCache),e.converter)}(Y,s,ke))},error:e[y+1],complete:e[y+2]};else{const ke=ci(s,$i);Y=ci(ke.firestore,Bi),ge=ke._query;const pt=new ac(Y);G={next:Rt=>{e[y]&&e[y](new Xu(Y,pt,ke,Rt))},error:e[y+1],complete:e[y+2]},function(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new kt(Et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(s._query)}return function(ke,pt,Rt,Ht){const Tn=new dp(Ht),wn=new $f(pt,Tn,Rt);return ke.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(s,e){return hd.apply(this,arguments)}(yield ls(ke),wn)})),()=>{Tn.bc(),ke.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(s,e){return fd.apply(this,arguments)}(yield ls(ke),wn)}))}}(ds(Y),ge,A,G)}function Fl(s,e){return function(r,a){const u=new Fi;return r.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(s,e,r){return Wf.apply(this,arguments)}(yield function(s){return Xo(s).then(e=>e.syncEngine)}(r),a,u)})),u.promise}(ds(s),e)}!function(s,e=!0){te=R.Jn,(0,R.Xd)(new De.wA("firestore",(r,{instanceIdentifier:a,options:u})=>{const h=r.getProvider("app").getImmediate(),y=new Bi(new Wi(r.getProvider("auth-internal")),new za(r.getProvider("app-check-internal")),function(A,G){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new kt(Et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(A.options.projectId,G)}(h,a),h);return u=Object.assign({useFetchStreams:e},u),y._setSettings(u),y},"PUBLIC").setMultipleInstances(!0)),(0,R.KN)(b,"3.7.2",s),(0,R.KN)(b,"3.7.2","esm2017")}()},3854:(rn,et,H)=>{"use strict";H.d(et,{BH:()=>He,LL:()=>It,ZR:()=>tt,zI:()=>Ce,US:()=>Te,tV:()=>Ee,L:()=>pe,$s:()=>$t,Sg:()=>Ge,ne:()=>Fr,vZ:()=>Hn,pd:()=>fr,aH:()=>vt,P0:()=>je,Pz:()=>Oe,m9:()=>tn,z$:()=>se,ru:()=>Ze,hl:()=>xt,uI:()=>fe,b$:()=>$e,G6:()=>_t,xO:()=>Yr,zd:()=>Sn,eu:()=>g});const Ue=function(Se){const we=[];let Be=0;for(let Tt=0;Tt<Se.length;Tt++){let ot=Se.charCodeAt(Tt);ot<128?we[Be++]=ot:ot<2048?(we[Be++]=ot>>6|192,we[Be++]=63&ot|128):55296==(64512&ot)&&Tt+1<Se.length&&56320==(64512&Se.charCodeAt(Tt+1))?(ot=65536+((1023&ot)<<10)+(1023&Se.charCodeAt(++Tt)),we[Be++]=ot>>18|240,we[Be++]=ot>>12&63|128,we[Be++]=ot>>6&63|128,we[Be++]=63&ot|128):(we[Be++]=ot>>12|224,we[Be++]=ot>>6&63|128,we[Be++]=63&ot|128)}return we},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,we){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,Tt=[];for(let ot=0;ot<Se.length;ot+=3){const Jt=Se[ot],En=ot+1<Se.length,cr=En?Se[ot+1]:0,_r=ot+2<Se.length,ir=_r?Se[ot+2]:0;let wr=(15&cr)<<2|ir>>6,si=63&ir;_r||(si=64,En||(wr=64)),Tt.push(Be[Jt>>2],Be[(3&Jt)<<4|cr>>4],Be[wr],Be[si])}return Tt.join("")},encodeString(Se,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(Se):this.encodeByteArray(Ue(Se),we)},decodeString(Se,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(Se):function(Se){const we=[];let Be=0,Tt=0;for(;Be<Se.length;){const ot=Se[Be++];if(ot<128)we[Tt++]=String.fromCharCode(ot);else if(ot>191&&ot<224){const Jt=Se[Be++];we[Tt++]=String.fromCharCode((31&ot)<<6|63&Jt)}else if(ot>239&&ot<365){const _r=((7&ot)<<18|(63&Se[Be++])<<12|(63&Se[Be++])<<6|63&Se[Be++])-65536;we[Tt++]=String.fromCharCode(55296+(_r>>10)),we[Tt++]=String.fromCharCode(56320+(1023&_r))}else{const Jt=Se[Be++],En=Se[Be++];we[Tt++]=String.fromCharCode((15&ot)<<12|(63&Jt)<<6|63&En)}}return we.join("")}(this.decodeStringToByteArray(Se,we))},decodeStringToByteArray(Se,we){this.init_();const Be=we?this.charToByteMapWebSafe_:this.charToByteMap_,Tt=[];for(let ot=0;ot<Se.length;){const Jt=Be[Se.charAt(ot++)],cr=ot<Se.length?Be[Se.charAt(ot)]:0;++ot;const ir=ot<Se.length?Be[Se.charAt(ot)]:64;++ot;const In=ot<Se.length?Be[Se.charAt(ot)]:64;if(++ot,null==Jt||null==cr||null==ir||null==In)throw Error();Tt.push(Jt<<2|cr>>4),64!==ir&&(Tt.push(cr<<4&240|ir>>2),64!==In&&Tt.push(ir<<6&192|In))}return Tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}},pe=function(Se){return function(Se){const we=Ue(Se);return Te.encodeByteArray(we,!0)}(Se).replace(/\./g,"")},Ee=function(Se){try{return Te.decodeString(Se,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function Ze(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){return!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Se){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xt(){return"object"==typeof indexedDB}function g(){return new Promise((Se,we)=>{try{let Be=!0;const Tt="validate-browser-context-for-indexeddb-analytics-module",ot=self.indexedDB.open(Tt);ot.onsuccess=()=>{ot.result.close(),Be||self.indexedDB.deleteDatabase(Tt),Se(!0)},ot.onupgradeneeded=()=>{Be=!1},ot.onerror=()=>{var Jt;we((null===(Jt=ot.error)||void 0===Jt?void 0:Jt.message)||"")}}catch(Be){we(Be)}})}function Ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const oe=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Se=process.env.__FIREBASE_DEFAULTS__;return Se?JSON.parse(Se):void 0})()||(()=>{if("undefined"==typeof document)return;let Se;try{Se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Be){return}const we=Se&&Ee(Se[1]);return we&&JSON.parse(we)})()}catch(Se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Se}`)}},je=Se=>{const we=(Se=>{var we,Be;return null===(Be=null===(we=oe())||void 0===we?void 0:we.emulatorHosts)||void 0===Be?void 0:Be[Se]})(Se);if(!we)return;const Be=we.lastIndexOf(":");if(Be<=0||Be+1===we.length)throw new Error(`Invalid host ${we} with no separate hostname and port!`);const Tt=parseInt(we.substring(Be+1),10);return"["===we[0]?[we.substring(1,Be-1),Tt]:[we.substring(0,Be),Tt]},vt=()=>{var Se;return null===(Se=oe())||void 0===Se?void 0:Se.config},Oe=Se=>{var we;return null===(we=oe())||void 0===we?void 0:we[`_${Se}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,Be)=>{this.resolve=we,this.reject=Be})}wrapCallback(we){return(Be,Tt)=>{Be?this.reject(Be):this.resolve(Tt),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(Be):we(Be,Tt))}}}function Ge(Se,we){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Tt=we||"demo-project",ot=Se.iat||0,Jt=Se.sub||Se.user_id;if(!Jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const En=Object.assign({iss:`https://securetoken.google.com/${Tt}`,aud:Tt,iat:ot,exp:ot+3600,auth_time:ot,sub:Jt,user_id:Jt,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(En)),""].join(".")}class tt extends Error{constructor(we,Be,Tt){super(Be),this.code=we,this.customData=Tt,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(we,Be,Tt){this.service=we,this.serviceName=Be,this.errors=Tt}create(we,...Be){const Tt=Be[0]||{},ot=`${this.service}/${we}`,Jt=this.errors[we],En=Jt?function(Se,we){return Se.replace(sn,(Be,Tt)=>{const ot=we[Tt];return null!=ot?String(ot):`<${Tt}?>`})}(Jt,Tt):"Error";return new tt(ot,`${this.serviceName}: ${En} (${ot}).`,Tt)}}const sn=/\{\$([^}]+)}/g;function Hn(Se,we){if(Se===we)return!0;const Be=Object.keys(Se),Tt=Object.keys(we);for(const ot of Be){if(!Tt.includes(ot))return!1;const Jt=Se[ot],En=we[ot];if(Vn(Jt)&&Vn(En)){if(!Hn(Jt,En))return!1}else if(Jt!==En)return!1}for(const ot of Tt)if(!Be.includes(ot))return!1;return!0}function Vn(Se){return null!==Se&&"object"==typeof Se}function Yr(Se){const we=[];for(const[Be,Tt]of Object.entries(Se))Array.isArray(Tt)?Tt.forEach(ot=>{we.push(encodeURIComponent(Be)+"="+encodeURIComponent(ot))}):we.push(encodeURIComponent(Be)+"="+encodeURIComponent(Tt));return we.length?"&"+we.join("&"):""}function Sn(Se){const we={};return Se.replace(/^\?/,"").split("&").forEach(Tt=>{if(Tt){const[ot,Jt]=Tt.split("=");we[decodeURIComponent(ot)]=decodeURIComponent(Jt)}}),we}function fr(Se){const we=Se.indexOf("?");if(!we)return"";const Be=Se.indexOf("#",we);return Se.substring(we,Be>0?Be:void 0)}function Fr(Se,we){const Be=new en(Se,we);return Be.subscribe.bind(Be)}class en{constructor(we,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{we(this)}).catch(Tt=>{this.error(Tt)})}next(we){this.forEachObserver(Be=>{Be.next(we)})}error(we){this.forEachObserver(Be=>{Be.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,Be,Tt){let ot;if(void 0===we&&void 0===Be&&void 0===Tt)throw new Error("Missing Observer.");ot=function(Se,we){if("object"!=typeof Se||null===Se)return!1;for(const Be of["next","error","complete"])if(Be in Se&&"function"==typeof Se[Be])return!0;return!1}(we)?we:{next:we,error:Be,complete:Tt},void 0===ot.next&&(ot.next=Vt),void 0===ot.error&&(ot.error=Vt),void 0===ot.complete&&(ot.complete=Vt);const Jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ot.error(this.finalError):ot.complete()}catch(En){}}),this.observers.push(ot),Jt}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,we)}sendOne(we,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{Be(this.observers[we])}catch(Tt){"undefined"!=typeof console&&console.error&&console.error(Tt)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function $t(Se,we=1e3,Be=2){const Tt=we*Math.pow(Be,Se),ot=Math.round(.5*Tt*(Math.random()-.5)*2);return Math.min(144e5,Tt+ot)}function tn(Se){return Se&&Se._delegate?Se._delegate:Se}},3083:(rn,et,H)=>{"use strict";function de(v,S,b,$){var Mt,te=arguments.length,Ye=te<3?S:null===$?$=Object.getOwnPropertyDescriptor(S,b):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(v,S,b,$);else for(var dn=v.length-1;dn>=0;dn--)(Mt=v[dn])&&(Ye=(te<3?Mt(Ye):te>3?Mt(S,b,Ye):Mt(S,b))||Ye);return te>3&&Ye&&Object.defineProperty(S,b,Ye),Ye}function Te(v,S){return function(b,$){S(b,$,v)}}function pe(v,S,b,$){return new(b||(b=Promise))(function(Ye,Mt){function dn(Wn){try{un($.next(Wn))}catch(Qr){Mt(Qr)}}function lt(Wn){try{un($.throw(Wn))}catch(Qr){Mt(Qr)}}function un(Wn){Wn.done?Ye(Wn.value):function(Ye){return Ye instanceof b?Ye:new b(function(Mt){Mt(Ye)})}(Wn.value).then(dn,lt)}un(($=$.apply(v,S||[])).next())})}H.d(et,{Br:()=>Nr,w:()=>Se,dr:()=>pn,oU:()=>tr,cs:()=>yo,YG:()=>Pr,Sm:()=>Zn,W2:()=>L,Gu:()=>mt,gu:()=>bt,pK:()=>Nn,Ie:()=>Fn,u8:()=>Gr,IK:()=>fi,td:()=>Ui,Q$:()=>Kr,q_:()=>ni,z0:()=>Qi,fG:()=>Es,uN:()=>ws,I_:()=>_e,jP:()=>Ms,t9:()=>Bs,n0:()=>Mi,PQ:()=>Ts,g2:()=>Ss,wd:()=>As,ho:()=>j,sr:()=>ee,Pc:()=>no,r4:()=>Go,HT:()=>Ni,t4:()=>ir,QI:()=>En,j9:()=>_r});var g=H(639),Ce=H(665),Xe=H(8583),be=H(2465),Q=H(7235),ve=(H(7689),H(5392),H(7807)),je=H(9461),vt=H(7585),Oe=H(1567),He=H(4425),Ge=H(6951),ze=H(3291),It=(H(960),H(3150)),Xt=H(8891),_n=H(9796),Xn=H(9105),xr=H(8002);function gt(v,S,b,$){return(0,Xn.m)(b)&&($=b,b=void 0),$?gt(v,S,b).pipe((0,xr.U)(te=>(0,_n.k)(te)?$(...te):$(te))):new Xt.y(te=>{Zt(v,S,function(Mt){te.next(arguments.length>1?Array.prototype.slice.call(arguments):Mt)},te,b)})}function Zt(v,S,b,$,te){let Ye;if(function(v){return v&&"function"==typeof v.addEventListener&&"function"==typeof v.removeEventListener}(v)){const Mt=v;v.addEventListener(S,b,te),Ye=()=>Mt.removeEventListener(S,b,te)}else if(function(v){return v&&"function"==typeof v.on&&"function"==typeof v.off}(v)){const Mt=v;v.on(S,b),Ye=()=>Mt.off(S,b)}else if(function(v){return v&&"function"==typeof v.addListener&&"function"==typeof v.removeListener}(v)){const Mt=v;v.addListener(S,b),Ye=()=>Mt.removeListener(S,b)}else{if(!v||!v.length)throw new TypeError("Invalid event target");for(let Mt=0,dn=v.length;Mt<dn;Mt++)Zt(v[Mt],S,b,$,te)}$.add(Ye)}var jn=H(7709),Yr=H(6215),Sn=H(7393);class ar{constructor(S,b){this.compare=S,this.keySelector=b}call(S,b){return b.subscribe(new Fr(S,this.compare,this.keySelector))}}class Fr extends Sn.L{constructor(S,b,$){super(S),this.keySelector=$,this.hasKey=!1,"function"==typeof b&&(this.compare=b)}compare(S,b){return S===b}_next(S){let b;try{const{keySelector:te}=this;b=te?te(S):S}catch(te){return this.destination.error(te)}let $=!1;if(this.hasKey)try{const{compare:te}=this;$=te(this.key,b)}catch(te){return this.destination.error(te)}else this.hasKey=!0;$||(this.key=b,this.destination.next(S))}}var en=H(5435),Ln=H(3190);const Vt=vt.i,yt=["*"],Dn=v=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(v):"function"==typeof requestAnimationFrame?requestAnimationFrame(v):setTimeout(v);let Lr=(()=>{class v{constructor(b,$){this.injector=b,this.el=$,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(b){this.el.nativeElement.value=this.lastValue=null==b?"":b,Bn(this.el)}handleChangeEvent(b,$){b===this.el.nativeElement&&($!==this.lastValue&&(this.lastValue=$,this.onChange($)),Bn(this.el))}_handleBlurEvent(b){b===this.el.nativeElement&&(this.onTouched(),Bn(this.el))}registerOnChange(b){this.onChange=b}registerOnTouched(b){this.onTouched=b}setDisabledState(b){this.el.nativeElement.disabled=b}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let b;try{b=this.injector.get(Ce.a5)}catch(te){}if(!b)return;b.statusChanges&&(this.statusChanges=b.statusChanges.subscribe(()=>Bn(this.el)));const $=b.control;$&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ye=>{if($[Ye]){const Mt=$[Ye].bind($);$[Ye]=(...dn)=>{Mt(...dn),Bn(this.el)}}})}}return v.\u0275fac=function(b){g.$Z()},v.\u0275dir=g.lG2({type:v,hostBindings:function(b,$){1&b&&g.NdJ("ionBlur",function(Ye){return $._handleBlurEvent(Ye.target)})}}),de([(0,g.L6J)("ionBlur",["$event.target"])],v.prototype,"_handleBlurEvent",null),v})();const Bn=v=>{Dn(()=>{const S=v.nativeElement,b=ui(S);it(S,b);const $=S.closest("ion-item");$&&it($,b)})},ui=v=>{const S=v.classList,b=[];for(let $=0;$<S.length;$++){const te=S.item($);null!==te&&Ot(te,"ng-")&&b.push(`ion-${te.substr(3)}`)}return b},it=(v,S)=>{const b=v.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach($=>b.remove($)),S.forEach($=>b.add($))},Ot=(v,S)=>v.substr(0,S.length)===S;var tn;let Se=tn=class extends Lr{constructor(S,b){super(S,b)}writeValue(S){this.el.nativeElement.checked=this.lastValue=null!=S&&S,Bn(this.el)}_handleIonChange(S){this.handleChangeEvent(S,S.checked)}};var we;Se.\u0275fac=function(S){return new(S||Se)(g.Y36(g.zs3),g.Y36(g.SBq))},Se.\u0275dir=g.lG2({type:Se,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(S,b){1&S&&g.NdJ("ionChange",function(te){return b._handleIonChange(te.target)})},features:[g._Bn([{provide:Ce.JU,useExisting:tn,multi:!0}]),g.qOj]}),Se.ctorParameters=()=>[{type:g.zs3},{type:g.SBq}],de([(0,g.L6J)("ionChange",["$event.target"])],Se.prototype,"_handleIonChange",null);let Be=we=class extends Lr{constructor(S,b){super(S,b)}_handleIonChange(S){this.handleChangeEvent(S,S.value)}registerOnChange(S){super.registerOnChange(b=>{S(""===b?null:parseFloat(b))})}};var Tt;Be.\u0275fac=function(S){return new(S||Be)(g.Y36(g.zs3),g.Y36(g.SBq))},Be.\u0275dir=g.lG2({type:Be,selectors:[["ion-input","type","number"]],hostBindings:function(S,b){1&S&&g.NdJ("ionChange",function(te){return b._handleIonChange(te.target)})},features:[g._Bn([{provide:Ce.JU,useExisting:we,multi:!0}]),g.qOj]}),Be.ctorParameters=()=>[{type:g.zs3},{type:g.SBq}],de([(0,g.L6J)("ionChange",["$event.target"])],Be.prototype,"_handleIonChange",null);let ot=Tt=class extends Lr{constructor(S,b){super(S,b)}_handleIonSelect(S){this.handleChangeEvent(S,S.checked)}};var Jt;ot.\u0275fac=function(S){return new(S||ot)(g.Y36(g.zs3),g.Y36(g.SBq))},ot.\u0275dir=g.lG2({type:ot,selectors:[["ion-radio"]],hostBindings:function(S,b){1&S&&g.NdJ("ionSelect",function(te){return b._handleIonSelect(te.target)})},features:[g._Bn([{provide:Ce.JU,useExisting:Tt,multi:!0}]),g.qOj]}),ot.ctorParameters=()=>[{type:g.zs3},{type:g.SBq}],de([(0,g.L6J)("ionSelect",["$event.target"])],ot.prototype,"_handleIonSelect",null);let En=Jt=class extends Lr{constructor(S,b){super(S,b)}_handleChangeEvent(S){this.handleChangeEvent(S,S.value)}};var cr;En.\u0275fac=function(S){return new(S||En)(g.Y36(g.zs3),g.Y36(g.SBq))},En.\u0275dir=g.lG2({type:En,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(S,b){1&S&&g.NdJ("ionChange",function(te){return b._handleChangeEvent(te.target)})},features:[g._Bn([{provide:Ce.JU,useExisting:Jt,multi:!0}]),g.qOj]}),En.ctorParameters=()=>[{type:g.zs3},{type:g.SBq}],de([(0,g.L6J)("ionChange",["$event.target"])],En.prototype,"_handleChangeEvent",null);let _r=cr=class extends Lr{constructor(S,b){super(S,b)}_handleInputEvent(S){this.handleChangeEvent(S,S.value)}};_r.\u0275fac=function(S){return new(S||_r)(g.Y36(g.zs3),g.Y36(g.SBq))},_r.\u0275dir=g.lG2({type:_r,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(S,b){1&S&&g.NdJ("ionChange",function(te){return b._handleInputEvent(te.target)})},features:[g._Bn([{provide:Ce.JU,useExisting:cr,multi:!0}]),g.qOj]}),_r.ctorParameters=()=>[{type:g.zs3},{type:g.SBq}],de([(0,g.L6J)("ionChange",["$event.target"])],_r.prototype,"_handleInputEvent",null);let ir=class{constructor(S,b){this.doc=S,this.backButton=new jn.xQ,this.keyboardDidShow=new jn.xQ,this.keyboardDidHide=new jn.xQ,this.pause=new jn.xQ,this.resume=new jn.xQ,this.resize=new jn.xQ,b.run(()=>{let $;this.win=S.defaultView,this.backButton.subscribeWithPriority=function(te,Ye){return this.subscribe(Mt=>Mt.register(te,dn=>b.run(()=>Ye(dn))))},wr(this.pause,S,"pause"),wr(this.resume,S,"resume"),wr(this.backButton,S,"ionBackButton"),wr(this.resize,this.win,"resize"),wr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),wr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(te=>{$=te}),this.win&&this.win.cordova?S.addEventListener("deviceready",()=>{$("cordova")},{once:!0}):$("dom")})}is(S){return(0,vt.a)(this.win,S)}platforms(){return(0,vt.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(S){return pr(this.win.location.href,S)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(S){const b=this.win.navigator;return!!(b&&b.userAgent&&b.userAgent.indexOf(S)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};ir.\u0275fac=function(S){return new(S||ir)(g.LFG(Xe.K0),g.LFG(g.R0b))},ir.\u0275prov=g.Yz7({token:ir,factory:function(v){return ir.\u0275fac(v)},providedIn:"root"}),ir.ngInjectableDef=(0,g.Yz7)({factory:function(){return new ir((0,g.LFG)(Xe.K0),(0,g.LFG)(g.R0b))},token:ir,providedIn:"root"}),ir=de([Te(0,(0,g.tBr)(Xe.K0))],ir);const pr=(v,S)=>{S=S.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const $=new RegExp("[\\?&]"+S+"=([^&#]*)").exec(v);return $?decodeURIComponent($[1].replace(/\+/g," ")):null},wr=(v,S,b)=>{S&&S.addEventListener(b,$=>{v.next(null!=$?$.detail:void 0)})};let qt=class{constructor(S,b,$,te){this.location=b,this.serializer=$,this.router=te,this.direction=dr,this.animated=mr,this.guessDirection="forward",this.lastNavId=-1,te&&te.events.subscribe(Ye=>{if(Ye instanceof be.OD){const Mt=Ye.restoredState?Ye.restoredState.navigationId:Ye.id;this.guessDirection=Mt<this.lastNavId?"back":"forward",this.guessAnimation=Ye.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Ye.id:Mt}}),S.backButton.subscribeWithPriority(0,Ye=>{this.pop(),Ye()})}navigateForward(S,b={}){return this.setDirection("forward",b.animated,b.animationDirection,b.animation),this.navigate(S,b)}navigateBack(S,b={}){return this.setDirection("back",b.animated,b.animationDirection,b.animation),this.navigate(S,b)}navigateRoot(S,b={}){return this.setDirection("root",b.animated,b.animationDirection,b.animation),this.navigate(S,b)}back(S={animated:!0,animationDirection:"back"}){return this.setDirection("back",S.animated,S.animationDirection,S.animation),this.location.back()}pop(){return pe(this,void 0,void 0,function*(){let S=this.topOutlet;for(;S&&!(yield S.pop());)S=S.parentOutlet})}setDirection(S,b,$,te){this.direction=S,this.animated=Qt(S,b,$),this.animationBuilder=te}setTopOutlet(S){this.topOutlet=S}consumeTransition(){let b,S="root";const $=this.animationBuilder;return"auto"===this.direction?(S=this.guessDirection,b=this.guessAnimation):(b=this.animated,S=this.direction),this.direction=dr,this.animated=mr,this.animationBuilder=void 0,{direction:S,animation:b,animationBuilder:$}}navigate(S,b){if(Array.isArray(S))return this.router.navigate(S,b);{const $=this.serializer.parse(S.toString());return void 0!==b.queryParams&&($.queryParams=Object.assign({},b.queryParams)),void 0!==b.fragment&&($.fragment=b.fragment),this.router.navigateByUrl($,b)}}};qt.\u0275fac=function(S){return new(S||qt)(g.LFG(ir),g.LFG(Xe.Ye),g.LFG(be.Hx),g.LFG(be.F0,8))},qt.\u0275prov=g.Yz7({token:qt,factory:function(v){return qt.\u0275fac(v)},providedIn:"root"}),qt.ngInjectableDef=(0,g.Yz7)({factory:function(){return new qt((0,g.LFG)(ir),(0,g.LFG)(Xe.Ye),(0,g.LFG)(be.Hx),(0,g.LFG)(be.F0,8))},token:qt,providedIn:"root"}),qt=de([Te(3,(0,g.FiY)())],qt);const Qt=(v,S,b)=>{if(!1!==S){if(void 0!==b)return b;if("forward"===v||"back"===v)return v;if("root"===v&&!0===S)return"forward"}},dr="auto",mr=void 0,Dr=(v,S)=>{const b=v.prototype;S.forEach($=>{Object.defineProperty(b,$,{get(){return this.el[$]},set(te){this.z.runOutsideAngular(()=>this.el[$]=te)}})})},Cr=(v,S)=>{const b=v.prototype;S.forEach($=>{b[$]=function(){const te=arguments;return this.z.runOutsideAngular(()=>this.el[$].apply(this.el,te))}})},Rn=(v,S,b)=>{b.forEach($=>v[$]=gt(S,$))};function zt(v){return function(b){return v.inputs&&Dr(b,v.inputs),v.methods&&Cr(b,v.methods),b}}let pn=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-app"]],ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v})(),tr=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],v),v})(),Pr=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],v),v})(),Zn=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["collapse"]})],v),v})(),L=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],v),v})(),mt=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["collapse","mode","translucent"]})],v),v})(),bt=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],v),v})(),Nn=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],v),v})(),Fn=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],v),v})(),Gr=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],v),v})(),fi=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionSwipe"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["side"]})],v),v})(),Ui=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionDrag"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],v),v})(),Kr=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","mode","position"]})],v),v})(),ni=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],v),v})(),Qi=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],v),v})(),Es=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["autoHide","color","disabled","menu","mode","type"]})],v),v})(),ws=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","mode"]})],v),v})(),_e=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","snaps","step","ticks","value"]})],v),v})(),Bs=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],v),v})(),Mi=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["disabled","value"]})],v),v})(),Ts=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","duration","name","paused"]})],v),v})(),Ss=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],v),v})(),As=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","size"]})],v),v})(),j=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement,Rn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["checked","color","disabled","mode","name","value"]})],v),v})(),ee=(()=>{let v=class{constructor(b,$,te){this.z=te,b.detach(),this.el=$.nativeElement}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(g.sBO),g.Y36(g.SBq),g.Y36(g.R0b))},v.\u0275cmp=g.Xpm({type:v,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:yt,decls:1,vars:0,template:function(b,$){1&b&&(g.F$t(),g.Hsn(0))},encapsulation:2,changeDetection:0}),v=de([zt({inputs:["color","mode"]})],v),v})(),B=class{get(S,b){const $=Pe();return $?$.get(S,b):null}getBoolean(S,b){const $=Pe();return!!$&&$.getBoolean(S,b)}getNumber(S,b){const $=Pe();return $?$.getNumber(S,b):0}set(S,b){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const $=Pe();$&&$.set(S,b)}};B.\u0275fac=function(S){return new(S||B)},B.\u0275prov=g.Yz7({token:B,factory:function(v){return B.\u0275fac(v)},providedIn:"root"}),B.ngInjectableDef=(0,g.Yz7)({factory:function(){return new B},token:B,providedIn:"root"});const ce=new g.OlP("USERCONFIG"),Pe=()=>{if("undefined"!=typeof window){const v=window.Ionic;if(v&&v.config)return v.config}return null};class Bt{constructor(S={}){this.data=S}get(S){return this.data[S]}}let V=(()=>{let v=class{constructor(b,$){this.zone=b,this.appRef=$}create(b,$,te){return new O(b,$,te,this.appRef,this.zone)}};return v.\u0275fac=function(b){return new(b||v)(g.LFG(g.R0b),g.LFG(g.z2F))},v.\u0275prov=g.Yz7({token:v,factory:function(S){return v.\u0275fac(S)}}),v})();class O{constructor(S,b,$,te,Ye){this.resolver=S,this.injector=b,this.location=$,this.appRef=te,this.zone=Ye,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(S,b,$,te){return this.zone.run(()=>new Promise(Ye=>{Ye(x(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,S,b,$,te))}))}removeViewFromDom(S,b){return this.zone.run(()=>new Promise($=>{const te=this.elRefMap.get(b);if(te){te.destroy(),this.elRefMap.delete(b);const Ye=this.elEventsMap.get(b);Ye&&(Ye(),this.elEventsMap.delete(b))}$()}))}}const x=(v,S,b,$,te,Ye,Mt,dn,lt,un,Wn)=>{const Qr=S.resolveComponentFactory(lt),ln=g.zs3.create({providers:zn(un),parent:b}),xn=$?$.createComponent(Qr,$.length,ln):Qr.create(ln),zs=xn.instance,nn=xn.location.nativeElement;if(un&&Object.assign(zs,un),Wn)for(const kt of Wn)nn.classList.add(kt);const Et=nt(v,zs,nn);return dn.appendChild(nn),$||te.attachView(xn.hostView),xn.changeDetectorRef.reattach(),Ye.set(nn,xn),Mt.set(nn,Et),nn},J=[He.L,He.a,He.b,He.c,He.d],nt=(v,S,b)=>v.run(()=>{const $=J.filter(te=>"function"==typeof S[te]).map(te=>{const Ye=Mt=>S[te](Mt.detail);return b.addEventListener(te,Ye),()=>b.removeEventListener(te,Ye)});return()=>$.forEach(te=>te())}),Kt=new g.OlP("NavParamsToken"),zn=v=>[{provide:Kt,useValue:v},{provide:Bt,useFactory:li,deps:[Kt]}],li=v=>new Bt(v),ki=(v,S)=>((v=v.filter(b=>b.stackId!==S.stackId)).push(S),v),fs=(v,S)=>{const b=v.createUrlTree(["."],{relativeTo:S});return v.serializeUrl(b)},Xs=(v,S)=>{if(!v)return;const b=Un(S);for(let $=0;$<b.length;$++){if($>=v.length)return b[$];if(b[$]!==v[$])return}},Un=v=>v.split("/").map(S=>S.trim()).filter(S=>""!==S),xs=v=>{v&&(v.ref.destroy(),v.unlistenEvents())};class ta{constructor(S,b,$,te,Ye,Mt){this.containerEl=b,this.router=$,this.navCtrl=te,this.zone=Ye,this.location=Mt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==S?Un(S):void 0}createView(S,b){const $=fs(this.router,b),te=S&&S.location&&S.location.nativeElement,Ye=nt(this.zone,S.instance,te);return{id:this.nextId++,stackId:Xs(this.tabsPrefix,$),unlistenEvents:Ye,element:te,ref:S,url:$}}getExistingView(S){const b=fs(this.router,S),$=this.views.find(te=>te.url===b);return $&&$.ref.changeDetectorRef.reattach(),$}setActive(S){const b=this.navCtrl.consumeTransition();let{direction:$,animation:te,animationBuilder:Ye}=b;const Mt=this.activeView,dn=((v,S)=>!S||v.stackId!==S.stackId)(S,Mt);dn&&($="back",te=void 0);const lt=this.views.slice();let un;const Wn=this.router;Wn.getCurrentNavigation?un=Wn.getCurrentNavigation():Wn.navigations&&Wn.navigations.value&&(un=Wn.navigations.value),un&&un.extras&&un.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Qr=this.views.includes(S),ln=this.insertView(S,$);Qr||S.ref.changeDetectorRef.detectChanges();const xn=S.animationBuilder;return void 0===Ye&&"back"===$&&!dn&&void 0!==xn&&(Ye=xn),Mt&&(Mt.animationBuilder=Ye),this.zone.runOutsideAngular(()=>this.wait(()=>(Mt&&Mt.ref.changeDetectorRef.detach(),S.ref.changeDetectorRef.reattach(),this.transition(S,Mt,te,this.canGoBack(1),!1,Ye).then(()=>Js(S,ln,lt,this.location)).then(()=>({enteringView:S,direction:$,animation:te,tabSwitch:dn})))))}canGoBack(S,b=this.getActiveStackId()){return this.getStack(b).length>S}pop(S,b=this.getActiveStackId()){return this.zone.run(()=>{const $=this.getStack(b);if($.length<=S)return Promise.resolve(!1);const te=$[$.length-S-1];let Ye=te.url;const Mt=te.savedData;if(Mt){const lt=Mt.get("primary");lt&&lt.route&&lt.route._routerState&&lt.route._routerState.snapshot&&lt.route._routerState.snapshot.url&&(Ye=lt.route._routerState.snapshot.url)}const{animationBuilder:dn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ye,Object.assign({},te.savedExtras,{animation:dn})).then(()=>!0)})}startBackTransition(){const S=this.activeView;if(S){const b=this.getStack(S.stackId),$=b[b.length-2],te=$.animationBuilder;return this.wait(()=>this.transition($,S,"back",this.canGoBack(2),!0,te))}return Promise.resolve()}endBackTransition(S){S?(this.skipTransition=!0,this.pop(1)):this.activeView&&jo(this.activeView,this.views,this.views,this.location)}getLastUrl(S){const b=this.getStack(S);return b.length>0?b[b.length-1]:void 0}getRootUrl(S){const b=this.getStack(S);return b.length>0?b[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(xs),this.activeView=void 0,this.views=[]}getStack(S){return this.views.filter(b=>b.stackId===S)}insertView(S,b){return this.activeView=S,this.views=((v,S,b)=>"root"===b?ki(v,S):"forward"===b?((v,S)=>(v.indexOf(S)>=0?v=v.filter($=>$.stackId!==S.stackId||$.id<=S.id):v.push(S),v))(v,S):((v,S)=>v.indexOf(S)>=0?v.filter($=>$.stackId!==S.stackId||$.id<=S.id):ki(v,S))(v,S))(this.views,S,b),this.views.slice()}transition(S,b,$,te,Ye,Mt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(b===S)return Promise.resolve(!1);const dn=S?S.element:void 0,lt=b?b.element:void 0,un=this.containerEl;return dn&&dn!==lt&&(dn.classList.add("ion-page"),dn.classList.add("ion-page-invisible"),dn.parentElement!==un&&un.appendChild(dn),un.commit)?un.commit(dn,lt,{deepWait:!0,duration:void 0===$?0:void 0,direction:$,showGoBack:te,progressAnimation:Ye,animationBuilder:Mt}):Promise.resolve(!1)}wait(S){return pe(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const b=this.runningTask=S();return b.finally(()=>this.runningTask=void 0),b})}}const Js=(v,S,b,$)=>"function"==typeof requestAnimationFrame?new Promise(te=>{requestAnimationFrame(()=>{jo(v,S,b,$),te()})}):Promise.resolve(),jo=(v,S,b,$)=>{b.filter(te=>!S.includes(te)).forEach(xs),S.forEach(te=>{const Mt=$.path().split("?")[0].split("#")[0];if(te!==v&&te.url!==Mt){const dn=te.element;dn.setAttribute("aria-hidden","true"),dn.classList.add("ion-page-hidden"),te.ref.changeDetectorRef.detach()}})};let Ms=(()=>{let v=class{constructor(b,$,te,Ye,Mt,dn,lt,un,Wn,Qr,ln,xn,zs){this.parentContexts=b,this.location=$,this.resolver=te,this.config=dn,this.navCtrl=lt,this.parentOutlet=zs,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Yr.X(null),this.stackEvents=new g.vpe,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.nativeEl=Wn.nativeElement,this.name=Ye||be.eC,this.tabsPrefix="true"===Mt?fs(Qr,xn):void 0,this.stackCtrl=new ta(this.tabsPrefix,this.nativeEl,Qr,lt,ln,un),b.onChildOutletCreated(this.name,this)}set animation(b){this.nativeEl.animation=b}set animated(b){this.nativeEl.animated=b}set swipeGesture(b){this._swipeGesture=b,this.nativeEl.swipeHandler=b?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:$=>this.stackCtrl.endBackTransition($)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const b=this.getContext();b&&b.route&&this.activateWith(b.route,b.resolver||null)}new Promise(b=>(0,Oe.c)(this.nativeEl,b)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(b,$){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const $=this.getContext();this.activatedView.savedData=new Map($.children.contexts);const te=this.activatedView.savedData.get("primary");if(te&&$.route&&(te.route=Object.assign({},$.route)),this.activatedView.savedExtras={},$.route){const Ye=$.route.snapshot;this.activatedView.savedExtras.queryParams=Ye.queryParams,this.activatedView.savedExtras.fragment=Ye.fragment}}const b=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,$){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;let te,Ye=this.stackCtrl.getExistingView(b);if(Ye){te=this.activated=Ye.ref;const Mt=Ye.savedData;Mt&&(this.getContext().children.contexts=Mt),this.updateActivatedRouteProxy(te.instance,b)}else{const lt=($=$||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),un=this.parentContexts.getOrCreateContext(this.name).children,Wn=new Yr.X(null),Qr=this.createActivatedRouteProxy(Wn,b),ln=new jt(Qr,un,this.location.injector);te=this.activated=this.location.createComponent(lt,this.location.length,ln),Wn.next(te.instance),Ye=this.stackCtrl.createView(this.activated,b),this.proxyMap.set(te.instance,Qr),this.currentActivatedRoute$.next({component:te.instance,activatedRoute:b})}this.activatedView=Ye,this.stackCtrl.setActive(Ye).then(Mt=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(te.instance),this.stackEvents.emit(Mt)})}canGoBack(b=1,$){return this.stackCtrl.canGoBack(b,$)}pop(b=1,$){return this.stackCtrl.pop(b,$)}getLastUrl(b){const $=this.stackCtrl.getLastUrl(b);return $?$.url:void 0}getLastRouteView(b){return this.stackCtrl.getLastUrl(b)}getRootView(b){return this.stackCtrl.getRootUrl(b)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(b,$){const te=new be.gz;return te._futureSnapshot=$._futureSnapshot,te._routerState=$._routerState,te.snapshot=$.snapshot,te.outlet=$.outlet,te.component=$.component,te._paramMap=this.proxyObservable(b,"paramMap"),te._queryParamMap=this.proxyObservable(b,"queryParamMap"),te.url=this.proxyObservable(b,"url"),te.params=this.proxyObservable(b,"params"),te.queryParams=this.proxyObservable(b,"queryParams"),te.fragment=this.proxyObservable(b,"fragment"),te.data=this.proxyObservable(b,"data"),te}proxyObservable(b,$){return b.pipe((0,en.h)(te=>!!te),(0,Ln.w)(te=>this.currentActivatedRoute$.pipe((0,en.h)(Ye=>null!==Ye&&Ye.component===te),(0,Ln.w)(Ye=>Ye&&Ye.activatedRoute[$]),b=>b.lift(new ar(void 0,void 0)))))}updateActivatedRouteProxy(b,$){const te=this.proxyMap.get(b);if(!te)throw new Error("Could not find activated route proxy for view");te._futureSnapshot=$._futureSnapshot,te._routerState=$._routerState,te.snapshot=$.snapshot,te.outlet=$.outlet,te.component=$.component,this.currentActivatedRoute$.next({component:b,activatedRoute:$})}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(be.y6),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.$8M("tabs"),g.Y36(B),g.Y36(qt),g.Y36(Xe.Ye),g.Y36(g.SBq),g.Y36(be.F0),g.Y36(g.R0b),g.Y36(be.gz),g.Y36(v,12))},v.\u0275dir=g.lG2({type:v,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),de([(0,g.r_U)()],v.prototype,"stackEvents",void 0),de([(0,g.r_U)("activate")],v.prototype,"activateEvents",void 0),de([(0,g.r_U)("deactivate")],v.prototype,"deactivateEvents",void 0),v=de([Te(3,(0,g.ahi)("name")),Te(4,(0,g.FiY)()),Te(4,(0,g.ahi)("tabs")),Te(12,(0,g.tp0)()),Te(12,(0,g.FiY)())],v),v})();class jt{constructor(S,b,$){this.route=S,this.childContexts=b,this.parent=$}get(S,b){return S===be.gz?this.route:S===be.y6?this.childContexts:this.parent.get(S,b)}}let yo=(()=>{let v=class{constructor(b,$,te){this.routerOutlet=b,this.navCtrl=$,this.config=te}onClick(b){const $=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet&&this.routerOutlet.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),b.preventDefault()):null!=$&&(this.navCtrl.navigateBack($,{animation:this.routerAnimation}),b.preventDefault())}};return v.\u0275fac=function(b){return new(b||v)(g.Y36(Ms,8),g.Y36(qt),g.Y36(B))},v.\u0275dir=g.lG2({type:v,selectors:[["ion-back-button"]],hostBindings:function(b,$){1&b&&g.NdJ("click",function(Ye){return $.onClick(Ye)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),de([(0,g.L6J)("click",["$event"])],v.prototype,"onClick",null),v=de([Te(0,(0,g.FiY)())],v),v})();class zi{constructor(S){this.ctrl=S}create(S){return this.ctrl.create(S||{})}dismiss(S,b,$){return this.ctrl.dismiss(S,b,$)}getTop(){return this.ctrl.getTop()}}let ps=class extends zi{constructor(){super(ze.b)}};ps.\u0275fac=function(S){return new(S||ps)},ps.\u0275prov=g.Yz7({token:ps,factory:function(v){return ps.\u0275fac(v)},providedIn:"root"}),ps.ngInjectableDef=(0,g.Yz7)({factory:function(){return new ps},token:ps,providedIn:"root"});let Nr=class extends zi{constructor(){super(ze.a)}};Nr.\u0275fac=function(S){return new(S||Nr)},Nr.\u0275prov=g.Yz7({token:Nr,factory:function(v){return Nr.\u0275fac(v)},providedIn:"root"}),Nr.ngInjectableDef=(0,g.Yz7)({factory:function(){return new Nr},token:Nr,providedIn:"root"});let Ni=class extends zi{constructor(){super(ze.l)}};Ni.\u0275fac=function(S){return new(S||Ni)},Ni.\u0275prov=g.Yz7({token:Ni,factory:function(v){return Ni.\u0275fac(v)},providedIn:"root"}),Ni.ngInjectableDef=(0,g.Yz7)({factory:function(){return new Ni},token:Ni,providedIn:"root"});let Xi=class{open(S){return Ge.m.open(S)}close(S){return Ge.m.close(S)}toggle(S){return Ge.m.toggle(S)}enable(S,b){return Ge.m.enable(S,b)}swipeGesture(S,b){return Ge.m.swipeGesture(S,b)}isOpen(S){return Ge.m.isOpen(S)}isEnabled(S){return Ge.m.isEnabled(S)}get(S){return Ge.m.get(S)}getOpen(){return Ge.m.getOpen()}getMenus(){return Ge.m.getMenus()}};Xi.\u0275fac=function(S){return new(S||Xi)},Xi.\u0275prov=g.Yz7({token:Xi,factory:function(v){return Xi.\u0275fac(v)},providedIn:"root"}),Xi.ngInjectableDef=(0,g.Yz7)({factory:function(){return new Xi},token:Xi,providedIn:"root"});let rs=class extends zi{constructor(){super(ze.p)}};rs.\u0275fac=function(S){return new(S||rs)},rs.\u0275prov=g.Yz7({token:rs,factory:function(v){return rs.\u0275fac(v)},providedIn:"root"}),rs.ngInjectableDef=(0,g.Yz7)({factory:function(){return new rs},token:rs,providedIn:"root"});let gs=(()=>{let v=class extends zi{constructor(b,$,te){super(ze.m),this.angularDelegate=b,this.resolver=$,this.injector=te}create(b){return super.create(Object.assign({},b,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return v.\u0275fac=function(b){return new(b||v)(g.LFG(V),g.LFG(g._Vd),g.LFG(g.zs3))},v.\u0275prov=g.Yz7({token:v,factory:function(S){return v.\u0275fac(S)}}),v})(),Ho=(()=>{let v=class extends zi{constructor(b,$,te){super(ze.c),this.angularDelegate=b,this.resolver=$,this.injector=te}create(b){return super.create(Object.assign({},b,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return v.\u0275fac=function(b){return new(b||v)(g.LFG(V),g.LFG(g._Vd),g.LFG(g.zs3))},v.\u0275prov=g.Yz7({token:v,factory:function(S){return v.\u0275fac(S)}}),v})(),pi=class extends zi{constructor(){super(ze.t)}};pi.\u0275fac=function(S){return new(S||pi)},pi.\u0275prov=g.Yz7({token:pi,factory:function(v){return pi.\u0275fac(v)},providedIn:"root"}),pi.ngInjectableDef=(0,g.Yz7)({factory:function(){return new pi},token:pi,providedIn:"root"});let to=class{read(S){ra().read(S)}write(S){ra().write(S)}};to.\u0275fac=function(S){return new(S||to)},to.\u0275prov=g.Yz7({token:to,factory:function(v){return to.\u0275fac(v)},providedIn:"root"}),to.ngInjectableDef=(0,g.Yz7)({factory:function(){return new to},token:to,providedIn:"root"});const ra=()=>{const v="undefined"!=typeof window?window:null;if(null!=v){const S=v.Ionic;return S&&S.queue?S.queue:{read:b=>v.requestAnimationFrame(b),write:b=>v.requestAnimationFrame(b)}}return{read:S=>S(),write:S=>S()}};let is=class{create(S){return(0,Q.c)(S)}easingTime(S,b,$,te,Ye){return(0,ve.g)(S,b,$,te,Ye)}};is.\u0275fac=function(S){return new(S||is)},is.\u0275prov=g.Yz7({token:is,factory:function(v){return is.\u0275fac(v)},providedIn:"root"}),is.ngInjectableDef=(0,g.Yz7)({factory:function(){return new is},token:is,providedIn:"root"});let Gs=class{constructor(S){this.zone=S}create(S,b=!1){return b&&Object.getOwnPropertyNames(S).forEach($=>{if("function"==typeof S[$]){const te=S[$];S[$]=(...Ye)=>this.zone.run(()=>te(...Ye))}}),(0,je.createGesture)(S)}};Gs.\u0275fac=function(S){return new(S||Gs)(g.LFG(g.R0b))},Gs.\u0275prov=g.Yz7({token:Gs,factory:function(v){return Gs.\u0275fac(v)},providedIn:"root"}),Gs.ngInjectableDef=(0,g.Yz7)({factory:function(){return new Gs((0,g.LFG)(g.R0b))},token:Gs,providedIn:"root"});class Go{shouldDetach(S){return!1}shouldAttach(S){return!1}store(S,b){}retrieve(S){return null}shouldReuseRoute(S,b){if(S.routeConfig!==b.routeConfig)return!1;const $=S.params,te=b.params,Ye=Object.keys($),Mt=Object.keys(te);if(Ye.length!==Mt.length)return!1;for(const dn of Ye)if(te[dn]!==$[dn])return!1;return!0}}const xa=(v,S,b)=>()=>{if(S.defaultView&&"undefined"!=typeof window){(v=>{const S=window,b=S.Ionic;b&&b.config&&"Object"!==b.config.constructor.name||(S.Ionic=S.Ionic||{},S.Ionic.config=Object.assign(Object.assign({},S.Ionic.config),v))})(Object.assign({},v,{_zoneGate:Ye=>b.run(Ye)}));const te="__zone_symbol__addEventListener"in S.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var v=[];if("undefined"!=typeof window){var S=window;(!S.customElements||S.Element&&(!S.Element.prototype.closest||!S.Element.prototype.matches||!S.Element.prototype.remove||!S.Element.prototype.getRootNode))&&v.push(H.e(6748).then(H.t.bind(H,5141,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||S.NodeList&&!S.NodeList.prototype.forEach||!S.fetch||!function(){try{var $=new URL("b","http://a");return $.pathname="c%20d","http://a/c%20d"===$.href&&$.searchParams}catch(te){return!1}}()||"undefined"==typeof WeakMap)&&v.push(H.e(2214).then(H.t.bind(H,7656,23)))}return Promise.all(v)}().then(()=>((v,S)=>"undefined"==typeof window?Promise.resolve():(It.C&&It.C.supports&&It.C.supports("color","var(--c)")?(0,It.a)():H.e(1843).then(H.t.bind(H,5902,23)).then(()=>(It.p.$cssShim$=It.w.__cssshim)?It.p.$cssShim$.i():0)).then(()=>(Vt(),(0,It.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),S))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Dn,jmp:Ye=>b.runOutsideAngular(Ye),ael(Ye,Mt,dn,lt){Ye[te](Mt,dn,lt)},rel(Ye,Mt,dn,lt){Ye.removeEventListener(Mt,dn,lt)}}))}};var pa;let no=pa=class{static forRoot(S){return{ngModule:pa,providers:[{provide:ce,useValue:S},{provide:g.ip1,useFactory:xa,multi:!0,deps:[ce,Xe.K0,g.R0b]}]}}};no.\u0275fac=function(S){return new(S||no)},no.\u0275mod=g.oAB({type:no}),no.\u0275inj=g.cJS({providers:[V,gs,Ho],imports:[[Xe.ez]]})},7235:(rn,et,H)=>{"use strict";H.d(et,{c:()=>rt});var _=H(1567);let R;const Ue=Ie=>Ie.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),de=Ie=>{if(void 0===R){const $e=void 0!==Ie.style.webkitAnimationName;R=void 0===Ie.style.animationName&&$e?"-webkit-":""}return R},Te=(Ie,Ze,$e)=>{const ht=Ze.startsWith("animation")?de(Ie):"";Ie.style.setProperty(ht+Ze,$e)},U=(Ie,Ze)=>{const $e=Ze.startsWith("animation")?de(Ie):"";Ie.style.removeProperty($e+Ze)},Z=[],fe=(Ie=[],Ze)=>{if(void 0!==Ze){const $e=Array.isArray(Ze)?Ze:[Ze];return[...Ie,...$e]}return Ie},rt=Ie=>{let Ze,$e,ht,Le,qe,ft,Xe,Oe,He,Ge,ze,sn,Nt,_t=[],xt=[],g=[],Ce=!1,be={},Q=[],ae=[],oe={},ve=0,je=!1,vt=!1,tt=!0,It=!1,Ft=!0;const $n=Ie,On=[],Xt=[],_n=[],Xn=[],xr=[],Yn=[],gt=[],Zt=[],Mn=[],Hn=[],Vn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Vn,en=(F,X)=>((X&&X.oneTimeCallback?Xt:On).push({c:F,o:X}),Nt),Pt=()=>{if(jn)Hn.forEach(F=>{F.cancel()}),Hn.length=0;else{const F=_n.slice();(0,_.r)(()=>{F.forEach(X=>{U(X,"animation-name"),U(X,"animation-duration"),U(X,"animation-timing-function"),U(X,"animation-iteration-count"),U(X,"animation-delay"),U(X,"animation-play-state"),U(X,"animation-fill-mode"),U(X,"animation-direction")})})}},Vt=()=>{xr.forEach(F=>{F&&F.parentNode&&F.parentNode.removeChild(F)}),xr.length=0},$t=()=>void 0!==qe?qe:Xe?Xe.getFill():"both",Ot=()=>void 0!==He?He:void 0!==ft?ft:Xe?Xe.getDirection():"normal",Cn=()=>je?"linear":void 0!==ht?ht:Xe?Xe.getEasing():"linear",tn=()=>vt?0:void 0!==Ge?Ge:void 0!==$e?$e:Xe?Xe.getDuration():0,Se=()=>void 0!==Le?Le:Xe?Xe.getIterations():1,we=()=>void 0!==ze?ze:void 0!==Ze?Ze:Xe?Xe.getDelay():0,Qt=()=>{0!==ve&&(ve--,0===ve&&((()=>{Zn(),Zt.forEach(xe=>xe()),Mn.forEach(xe=>xe());const F=tt?1:0,X=Q,ue=ae,Re=oe;_n.forEach(xe=>{const ut=xe.classList;X.forEach(mt=>ut.add(mt)),ue.forEach(mt=>ut.remove(mt));for(const mt in Re)Re.hasOwnProperty(mt)&&Te(xe,mt,Re[mt])}),On.forEach(xe=>xe.c(F,Nt)),Xt.forEach(xe=>xe.c(F,Nt)),Xt.length=0,Ft=!0,tt&&(It=!0),tt=!0})(),Xe&&Xe.animationFinish()))},mr=(F=!0)=>{(()=>{Yn.forEach(Re=>Re()),gt.forEach(Re=>Re());const F=xt,X=g,ue=be;_n.forEach(Re=>{const xe=Re.classList;F.forEach(ut=>xe.add(ut)),X.forEach(ut=>xe.remove(ut));for(const ut in ue)ue.hasOwnProperty(ut)&&Te(Re,ut,ue[ut])})})(),_t.length>0&&(jn?(_n.forEach(F=>{const X=F.animate(_t,{id:$n,delay:we(),duration:tn(),easing:Cn(),iterations:Se(),fill:$t(),direction:Ot()});X.pause(),Hn.push(X)}),Hn.length>0&&(Hn[0].onfinish=()=>{Qt()})):((F=!0)=>{Vt();const X=(Ie=>(Ie.forEach(Ze=>{for(const $e in Ze)if(Ze.hasOwnProperty($e)){const ht=Ze[$e];if("easing"===$e)Ze["animation-timing-function"]=ht,delete Ze[$e];else{const Le=Ue($e);Le!==$e&&(Ze[Le]=ht,delete Ze[$e])}}}),Ie))(_t);_n.forEach(ue=>{if(X.length>0){const Re=((Ie=[])=>Ie.map(Ze=>{const $e=Ze.offset,ht=[];for(const Le in Ze)Ze.hasOwnProperty(Le)&&"offset"!==Le&&ht.push(`${Le}: ${Ze[Le]};`);return`${100*$e}% { ${ht.join(" ")} }`}).join(" "))(X);sn=void 0!==Ie?Ie:(Ie=>{let Ze=Z.indexOf(Ie);return Ze<0&&(Ze=Z.push(Ie)-1),`ion-animation-${Ze}`})(Re);const xe=((Ie,Ze,$e)=>{const ht=(Ie=>{const Ze=Ie.getRootNode();return Ze.head||Ze})($e),Le=de($e),qe=ht.querySelector("#"+Ie);if(qe)return qe;const ft=($e.ownerDocument||document).createElement("style");return ft.id=Ie,ft.textContent=`@${Le}keyframes ${Ie} { ${Ze} } @${Le}keyframes ${Ie}-alt { ${Ze} }`,ht.appendChild(ft),ft})(sn,Re,ue);xr.push(xe),Te(ue,"animation-duration",`${tn()}ms`),Te(ue,"animation-timing-function",Cn()),Te(ue,"animation-delay",`${we()}ms`),Te(ue,"animation-fill-mode",$t()),Te(ue,"animation-direction",Ot());const ut=Se()===1/0?"infinite":Se().toString();Te(ue,"animation-iteration-count",ut),Te(ue,"animation-play-state","paused"),F&&Te(ue,"animation-name",`${xe.id}-alt`),(0,_.r)(()=>{Te(ue,"animation-name",xe.id||null)})}})})(F)),Ce=!0},Dr=F=>{if(F=Math.min(Math.max(F,0),.9999),jn)Hn.forEach(X=>{X.currentTime=X.effect.getComputedTiming().delay+tn()*F,X.pause()});else{const X=`-${tn()*F}ms`;_n.forEach(ue=>{_t.length>0&&(Te(ue,"animation-delay",X),Te(ue,"animation-play-state","paused"))})}},Cr=F=>{Hn.forEach(X=>{X.effect.updateTiming({delay:we(),duration:tn(),easing:Cn(),iterations:Se(),fill:$t(),direction:Ot()})}),void 0!==F&&Dr(F)},Rn=(F=!0,X)=>{(0,_.r)(()=>{_n.forEach(ue=>{Te(ue,"animation-name",sn||null),Te(ue,"animation-duration",`${tn()}ms`),Te(ue,"animation-timing-function",Cn()),Te(ue,"animation-delay",void 0!==X?`-${X*tn()}ms`:`${we()}ms`),Te(ue,"animation-fill-mode",$t()||null),Te(ue,"animation-direction",Ot()||null);const Re=Se()===1/0?"infinite":Se().toString();Te(ue,"animation-iteration-count",Re),F&&Te(ue,"animation-name",`${sn}-alt`),(0,_.r)(()=>{Te(ue,"animation-name",sn||null)})})})},zt=(F=!1,X=!0,ue)=>(F&&Xn.forEach(Re=>{Re.update(F,X,ue)}),jn?Cr(ue):Rn(X,ue),Nt),Kn=()=>{Ce&&(jn?Hn.forEach(F=>{F.pause()}):_n.forEach(F=>{Te(F,"animation-play-state","paused")}))},Pr=()=>{Oe=void 0,Qt()},Zn=()=>{Oe&&clearTimeout(Oe)},Pn=F=>new Promise(X=>{F&&F.sync&&(vt=!0,en(()=>vt=!1,{oneTimeCallback:!0})),Ce||mr(),It&&(jn?(Dr(0),Cr()):Rn(),It=!1),Ft&&(ve=Xn.length+1,Ft=!1),en(()=>X(),{oneTimeCallback:!0}),Xn.forEach(ue=>{ue.play()}),jn?(Hn.forEach(F=>{F.play()}),(0===_t.length||0===_n.length)&&Qt()):(()=>{if(Zn(),(0,_.r)(()=>{_n.forEach(F=>{_t.length>0&&Te(F,"animation-play-state","running")})}),0===_t.length||0===_n.length)Qt();else{const F=we()||0,X=tn()||0,ue=Se()||1;isFinite(ue)&&(Oe=setTimeout(Pr,F+X*ue+100)),((Ie,Ze)=>{let $e;const ht={passive:!0},qe=ft=>{Ie===ft.target&&($e&&$e(),Zn(),(0,_.r)(()=>{_n.forEach(F=>{U(F,"animation-duration"),U(F,"animation-delay"),U(F,"animation-play-state")}),(0,_.r)(Qt)}))};Ie&&(Ie.addEventListener("webkitAnimationEnd",qe,ht),Ie.addEventListener("animationend",qe,ht),$e=()=>{Ie.removeEventListener("webkitAnimationEnd",qe,ht),Ie.removeEventListener("animationend",qe,ht)})})(_n[0])}})()}),vi=(F,X)=>{const ue=_t[0];return void 0===ue||void 0!==ue.offset&&0!==ue.offset?_t=[{offset:0,[F]:X},..._t]:ue[F]=X,Nt};return Nt={parentAnimation:Xe,elements:_n,childAnimations:Xn,id:$n,animationFinish:Qt,from:vi,to:(F,X)=>{const ue=_t[_t.length-1];return void 0===ue||void 0!==ue.offset&&1!==ue.offset?_t=[..._t,{offset:1,[F]:X}]:ue[F]=X,Nt},fromTo:(F,X,ue)=>vi(F,X).to(F,ue),parent:F=>(Xe=F,Nt),play:Pn,pause:()=>(Xn.forEach(F=>{F.pause()}),Kn(),Nt),stop:()=>{Xn.forEach(F=>{F.stop()}),Ce&&(Pt(),Ce=!1),je=!1,vt=!1,Ft=!0,He=void 0,Ge=void 0,ze=void 0,ve=0,It=!1,tt=!0},destroy:F=>(Xn.forEach(X=>{X.destroy(F)}),(F=>{Pt(),F&&Vt()})(F),_n.length=0,Xn.length=0,_t.length=0,On.length=0,Xt.length=0,Ce=!1,Ft=!0,Nt),keyframes:F=>(_t=F,Nt),addAnimation:F=>{if(null!=F)if(Array.isArray(F))for(const X of F)X.parent(Nt),Xn.push(X);else F.parent(Nt),Xn.push(F);return Nt},addElement:F=>{if(null!=F)if(1===F.nodeType)_n.push(F);else if(F.length>=0)for(let X=0;X<F.length;X++)_n.push(F[X]);else console.error("Invalid addElement value");return Nt},update:zt,fill:F=>(qe=F,zt(!0),Nt),direction:F=>(ft=F,zt(!0),Nt),iterations:F=>(Le=F,zt(!0),Nt),duration:F=>(!jn&&0===F&&(F=1),$e=F,zt(!0),Nt),easing:F=>(ht=F,zt(!0),Nt),delay:F=>(Ze=F,zt(!0),Nt),getWebAnimations:()=>Hn,getKeyframes:()=>_t,getFill:$t,getDirection:Ot,getDelay:we,getIterations:Se,getEasing:Cn,getDuration:tn,afterAddRead:F=>(Zt.push(F),Nt),afterAddWrite:F=>(Mn.push(F),Nt),afterClearStyles:(F=[])=>{for(const X of F)oe[X]="";return Nt},afterStyles:(F={})=>(oe=F,Nt),afterRemoveClass:F=>(ae=fe(ae,F),Nt),afterAddClass:F=>(Q=fe(Q,F),Nt),beforeAddRead:F=>(Yn.push(F),Nt),beforeAddWrite:F=>(gt.push(F),Nt),beforeClearStyles:(F=[])=>{for(const X of F)be[X]="";return Nt},beforeStyles:(F={})=>(be=F,Nt),beforeRemoveClass:F=>(g=fe(g,F),Nt),beforeAddClass:F=>(xt=fe(xt,F),Nt),onFinish:en,progressStart:(F=!1,X)=>(Xn.forEach(ue=>{ue.progressStart(F,X)}),Kn(),je=F,Ce?zt(!1,!0,X):mr(),Nt),progressStep:F=>(Xn.forEach(X=>{X.progressStep(F)}),Dr(F),Nt),progressEnd:(F,X,ue)=>(je=!1,Xn.forEach(Re=>{Re.progressEnd(F,X,ue)}),void 0!==ue&&(Ge=ue),It=!1,tt=!0,0===F?(He="reverse"===Ot()?"normal":"reverse","reverse"===He&&(tt=!1),jn?(zt(),Dr(1-X)):(ze=(1-X)*tn()*-1,zt(!1,!1))):1===F&&(jn?(zt(),Dr(X)):(ze=X*tn()*-1,zt(!1,!1))),void 0!==F&&(en(()=>{Ge=void 0,He=void 0,ze=void 0},{oneTimeCallback:!0}),Xe||Pn()),Nt)}}},7807:(rn,et,H)=>{"use strict";H.d(et,{g:()=>_});const _=(Te,U,pe,Ee,Z)=>De(Te[1],U[1],pe[1],Ee[1],Z).map(ne=>R(Te[0],U[0],pe[0],Ee[0],ne)),R=(Te,U,pe,Ee,Z)=>Z*(3*U*Math.pow(Z-1,2)+Z*(-3*pe*Z+3*pe+Ee*Z))-Te*Math.pow(Z-1,3),De=(Te,U,pe,Ee,Z)=>de((Ee-=Z)-3*(pe-=Z)+3*(U-=Z)-(Te-=Z),3*pe-6*U+3*Te,3*U-3*Te,Te).filter(ye=>ye>=0&&ye<=1),de=(Te,U,pe,Ee)=>{if(0===Te)return((Te,U,pe)=>{const Ee=U*U-4*Te*pe;return Ee<0?[]:[(-U+Math.sqrt(Ee))/(2*Te),(-U-Math.sqrt(Ee))/(2*Te)]})(U,pe,Ee);const Z=(3*(pe/=Te)-(U/=Te)*U)/3,ne=(2*U*U*U-9*U*pe+27*(Ee/=Te))/27;if(0===Z)return[Math.pow(-ne,1/3)];if(0===ne)return[Math.sqrt(-Z),-Math.sqrt(-Z)];const ye=Math.pow(ne/2,2)+Math.pow(Z/3,3);if(0===ye)return[Math.pow(ne/2,.5)-U/3];if(ye>0)return[Math.pow(-ne/2+Math.sqrt(ye),1/3)-Math.pow(ne/2+Math.sqrt(ye),1/3)-U/3];const se=Math.sqrt(Math.pow(-Z/3,3)),fe=Math.acos(-ne/(2*Math.sqrt(Math.pow(-Z/3,3)))),rt=2*Math.pow(se,1/3);return[rt*Math.cos(fe/3)-U/3,rt*Math.cos((fe+2*Math.PI)/3)-U/3,rt*Math.cos((fe+4*Math.PI)/3)-U/3]}},960:(rn,et,H)=>{"use strict";H.d(et,{G:()=>de});class R{constructor(U,pe,Ee,Z,ne){this.id=pe,this.name=Ee,this.disableScroll=ne,this.priority=1e6*Z+pe,this.ctrl=U}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const U=this.ctrl.capture(this.name,this.id,this.priority);return U&&this.disableScroll&&this.ctrl.disableScroll(this.id),U}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class De{constructor(U,pe,Ee,Z){this.id=pe,this.disable=Ee,this.disableScroll=Z,this.ctrl=U}block(){if(this.ctrl){if(this.disable)for(const U of this.disable)this.ctrl.disableGesture(U,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const U of this.disable)this.ctrl.enableGesture(U,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ue="backdrop-no-scroll",de=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(U){return new R(this,this.newID(),U.name,U.priority||0,!!U.disableScroll)}createBlocker(U={}){return new De(this,this.newID(),U.disable,!!U.disableScroll)}start(U,pe,Ee){return this.canStart(U)?(this.requestedStart.set(pe,Ee),!0):(this.requestedStart.delete(pe),!1)}capture(U,pe,Ee){if(!this.start(U,pe,Ee))return!1;const Z=this.requestedStart;let ne=-1e4;if(Z.forEach(ye=>{ne=Math.max(ne,ye)}),ne===Ee){this.capturedId=pe,Z.clear();const ye=new CustomEvent("ionGestureCaptured",{detail:{gestureName:U}});return document.dispatchEvent(ye),!0}return Z.delete(pe),!1}release(U){this.requestedStart.delete(U),this.capturedId===U&&(this.capturedId=void 0)}disableGesture(U,pe){let Ee=this.disabledGestures.get(U);void 0===Ee&&(Ee=new Set,this.disabledGestures.set(U,Ee)),Ee.add(pe)}enableGesture(U,pe){const Ee=this.disabledGestures.get(U);void 0!==Ee&&Ee.delete(pe)}disableScroll(U){this.disabledScroll.add(U),1===this.disabledScroll.size&&document.body.classList.add(Ue)}enableScroll(U){this.disabledScroll.delete(U),0===this.disabledScroll.size&&document.body.classList.remove(Ue)}canStart(U){return!(void 0!==this.capturedId||this.isDisabled(U))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(U){const pe=this.disabledGestures.get(U);return!!(pe&&pe.size>0)}newID(){return this.gestureId++,this.gestureId}}},3087:(rn,et,H)=>{"use strict";H.r(et),H.d(et,{MENU_BACK_BUTTON_PRIORITY:()=>de,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ue,blockHardwareBackButton:()=>R,startHardwareBackButton:()=>De});var _=H(8239);const R=()=>{document.addEventListener("backbutton",()=>{})},De=()=>{const Te=document;let U=!1;Te.addEventListener("backbutton",()=>{if(U)return;let pe=0,Ee=[];const Z=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(se,fe){Ee.push({priority:se,handler:fe,id:pe++})}}});Te.dispatchEvent(Z);const ne=function(){var se=(0,_.Z)(function*(fe){try{if(fe&&fe.handler){const rt=fe.handler(ye);null!=rt&&(yield rt)}}catch(rt){console.error(rt)}});return function(rt){return se.apply(this,arguments)}}(),ye=()=>{if(Ee.length>0){let se={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ee.forEach(fe=>{fe.priority>=se.priority&&(se=fe)}),U=!0,Ee=Ee.filter(fe=>fe.id!==se.id),ne(se).then(()=>U=!1)}};ye()})},Ue=100,de=99},1567:(rn,et,H)=>{"use strict";H.d(et,{a:()=>de,b:()=>Te,c:()=>_,d:()=>ne,e:()=>ye,f:()=>$e,g:()=>U,h:()=>R,i:()=>Ue,j:()=>Z,k:()=>se,l:()=>Ee,m:()=>fe,n:()=>Ze,o:()=>ht,p:()=>Ie,q:()=>rt,r:()=>pe});const _=(Le,qe)=>{Le.componentOnReady?Le.componentOnReady().then(ft=>qe(ft)):pe(()=>qe(Le))},R=(Le,qe=[])=>{const ft={};return qe.forEach(_t=>{Le.hasAttribute(_t)&&(null!==Le.getAttribute(_t)&&(ft[_t]=Le.getAttribute(_t)),Le.removeAttribute(_t))}),ft},De=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ue=Le=>R(Le,De),de=(Le,qe,ft,_t)=>{if("undefined"!=typeof window){const xt=window,g=xt&&xt.Ionic&&xt.Ionic.config;if(g){const Ce=g.get("_ael");if(Ce)return Ce(Le,qe,ft,_t);if(g._ael)return g._ael(Le,qe,ft,_t)}}return Le.addEventListener(qe,ft,_t)},Te=(Le,qe,ft,_t)=>{if("undefined"!=typeof window){const xt=window,g=xt&&xt.Ionic&&xt.Ionic.config;if(g){const Ce=g.get("_rel");if(Ce)return Ce(Le,qe,ft,_t);if(g._rel)return g._rel(Le,qe,ft,_t)}}return Le.removeEventListener(qe,ft,_t)},U=(Le,qe=Le)=>Le.shadowRoot||qe,pe=Le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Le):"function"==typeof requestAnimationFrame?requestAnimationFrame(Le):setTimeout(Le),Ee=Le=>!!Le.shadowRoot&&!!Le.attachShadow,Z=Le=>{const qe=Le.closest("ion-item");return qe?qe.querySelector("ion-label"):null},ne=(Le,qe)=>{let ft;const _t=Le.getAttribute("aria-labelledby"),xt=Le.id;let g=null!==_t&&""!==_t.trim()?_t:qe+"-lbl",Ce=null!==_t&&""!==_t.trim()?document.getElementById(_t):Z(Le);return Ce?(null===_t&&(Ce.id=g),ft=Ce.textContent,Ce.setAttribute("aria-hidden","true")):""!==xt.trim()&&(Ce=document.querySelector(`label[for="${xt}"]`),Ce&&(""!==Ce.id?g=Ce.id:Ce.id=g=`${xt}-lbl`,ft=Ce.textContent)),{label:Ce,labelId:g,labelText:ft}},ye=(Le,qe,ft,_t,xt)=>{if(Le||Ee(qe)){let g=qe.querySelector("input.aux-input");g||(g=qe.ownerDocument.createElement("input"),g.type="hidden",g.classList.add("aux-input"),qe.appendChild(g)),g.disabled=xt,g.name=ft,g.value=_t||""}},se=(Le,qe,ft)=>Math.max(Le,Math.min(qe,ft)),fe=(Le,qe)=>{if(!Le){const ft="ASSERT: "+qe;throw console.error(ft),new Error(ft)}},rt=Le=>Le.timeStamp||Date.now(),Ie=Le=>{if(Le){const qe=Le.changedTouches;if(qe&&qe.length>0){const ft=qe[0];return{x:ft.clientX,y:ft.clientY}}if(void 0!==Le.pageX)return{x:Le.pageX,y:Le.pageY}}return{x:0,y:0}},Ze=Le=>{const qe="rtl"===document.dir;switch(Le){case"start":return qe;case"end":return!qe;default:throw new Error(`"${Le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},$e=(Le,qe)=>{const ft=Le._original||Le;return{_original:Le,emit:ht(ft.emit.bind(ft),qe)}},ht=(Le,qe=0)=>{let ft;return(..._t)=>{clearTimeout(ft),ft=setTimeout(Le,qe,..._t)}}},6951:(rn,et,H)=>{"use strict";H.d(et,{m:()=>ne});var _=H(8239),R=H(3087),De=H(1567),Ue=H(7585),de=H(7235);const Te=ye=>(0,de.c)().duration(ye?400:300),U=ye=>{let se,fe;const rt=ye.width+8,Ie=(0,de.c)(),Ze=(0,de.c)();ye.isEndSide?(se=rt+"px",fe="0px"):(se=-rt+"px",fe="0px"),Ie.addElement(ye.menuInnerEl).fromTo("transform",`translateX(${se})`,`translateX(${fe})`);const ht="ios"===(0,Ue.b)(ye),Le=ht?.2:.25;return Ze.addElement(ye.backdropEl).fromTo("opacity",.01,Le),Te(ht).addAnimation([Ie,Ze])},pe=ye=>{let se,fe;const rt=(0,Ue.b)(ye),Ie=ye.width;ye.isEndSide?(se=-Ie+"px",fe=Ie+"px"):(se=Ie+"px",fe=-Ie+"px");const Ze=(0,de.c)().addElement(ye.menuInnerEl).fromTo("transform",`translateX(${fe})`,"translateX(0px)"),$e=(0,de.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${se})`),ht=(0,de.c)().addElement(ye.backdropEl).fromTo("opacity",.01,.32);return Te("ios"===rt).addAnimation([Ze,$e,ht])},Ee=ye=>{const se=(0,Ue.b)(ye),fe=ye.width*(ye.isEndSide?-1:1)+"px",rt=(0,de.c)().addElement(ye.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`);return Te("ios"===se).addAnimation(rt)},ne=(()=>{const ye=new Map,se=[],fe=function(){var He=(0,_.Z)(function*(Ge){const ze=yield qe(Ge);return!!ze&&ze.open()});return function(ze){return He.apply(this,arguments)}}(),rt=function(){var He=(0,_.Z)(function*(Ge){const ze=yield void 0!==Ge?qe(Ge):ft();return void 0!==ze&&ze.close()});return function(ze){return He.apply(this,arguments)}}(),Ie=function(){var He=(0,_.Z)(function*(Ge){const ze=yield qe(Ge);return!!ze&&ze.toggle()});return function(ze){return He.apply(this,arguments)}}(),Ze=function(){var He=(0,_.Z)(function*(Ge,ze){const tt=yield qe(ze);return tt&&(tt.disabled=!Ge),tt});return function(ze,tt){return He.apply(this,arguments)}}(),$e=function(){var He=(0,_.Z)(function*(Ge,ze){const tt=yield qe(ze);return tt&&(tt.swipeGesture=Ge),tt});return function(ze,tt){return He.apply(this,arguments)}}(),ht=function(){var He=(0,_.Z)(function*(Ge){if(null!=Ge){const ze=yield qe(Ge);return void 0!==ze&&ze.isOpen()}return void 0!==(yield ft())});return function(ze){return He.apply(this,arguments)}}(),Le=function(){var He=(0,_.Z)(function*(Ge){const ze=yield qe(Ge);return!!ze&&!ze.disabled});return function(ze){return He.apply(this,arguments)}}(),qe=function(){var He=(0,_.Z)(function*(Ge){return yield Oe(),"start"===Ge||"end"===Ge?vt(It=>It.side===Ge&&!It.disabled)||vt(It=>It.side===Ge):null!=Ge?vt(tt=>tt.menuId===Ge):vt(tt=>!tt.disabled)||(se.length>0?se[0].el:void 0)});return function(ze){return He.apply(this,arguments)}}(),ft=function(){var He=(0,_.Z)(function*(){return yield Oe(),oe()});return function(){return He.apply(this,arguments)}}(),_t=function(){var He=(0,_.Z)(function*(){return yield Oe(),ve()});return function(){return He.apply(this,arguments)}}(),xt=function(){var He=(0,_.Z)(function*(){return yield Oe(),je()});return function(){return He.apply(this,arguments)}}(),g=(He,Ge)=>{ye.set(He,Ge)},be=He=>{const Ge=He.side;se.filter(ze=>ze.side===Ge&&ze!==He).forEach(ze=>ze.disabled=!0)},Q=function(){var He=(0,_.Z)(function*(Ge,ze,tt){if(je())return!1;if(ze){const It=yield ft();It&&Ge.el!==It&&(yield It.setOpen(!1,!1))}return Ge._setOpen(ze,tt)});return function(ze,tt,It){return He.apply(this,arguments)}}(),oe=()=>vt(He=>He._isOpen),ve=()=>se.map(He=>He.el),je=()=>se.some(He=>He.isAnimating),vt=He=>{const Ge=se.find(He);if(void 0!==Ge)return Ge.el},Oe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(He=>new Promise(Ge=>(0,De.c)(He,Ge))));return g("reveal",Ee),g("push",pe),g("overlay",U),"undefined"!=typeof document&&document.addEventListener("ionBackButton",He=>{const Ge=oe();Ge&&He.detail.register(R.MENU_BACK_BUTTON_PRIORITY,()=>Ge.close())}),{registerAnimation:g,get:qe,getMenus:_t,getOpen:ft,isEnabled:Le,swipeGesture:$e,isAnimating:xt,isOpen:ht,enable:Ze,toggle:Ie,close:rt,open:fe,_getOpenSync:oe,_createAnimation:(He,Ge)=>{const ze=ye.get(He);if(!ze)throw new Error("animation not registered");return ze(Ge)},_register:He=>{se.indexOf(He)<0&&(He.disabled||be(He),se.push(He))},_unregister:He=>{const Ge=se.indexOf(He);Ge>-1&&se.splice(Ge,1)},_setOpen:Q,_setActiveMenu:be}})()},9461:(rn,et,H)=>{"use strict";H.r(et),H.d(et,{GESTURE_CONTROLLER:()=>_.G,createGesture:()=>Ee});var _=H(960);const R=(se,fe,rt,Ie)=>{const Ze=De(se)?{capture:!!Ie.capture,passive:!!Ie.passive}:!!Ie.capture;let $e,ht;return se.__zone_symbol__addEventListener?($e="__zone_symbol__addEventListener",ht="__zone_symbol__removeEventListener"):($e="addEventListener",ht="removeEventListener"),se[$e](fe,rt,Ze),()=>{se[ht](fe,rt,Ze)}},De=se=>{if(void 0===Ue)try{const fe=Object.defineProperty({},"passive",{get:()=>{Ue=!0}});se.addEventListener("optsTest",()=>{},fe)}catch(fe){Ue=!1}return!!Ue};let Ue;const U=se=>se instanceof Document?se:se.ownerDocument,Ee=se=>{let fe=!1,rt=!1,Ie=!0,Ze=!1;const $e=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},se),ht=$e.canStart,Le=$e.onWillStart,qe=$e.onStart,ft=$e.onEnd,_t=$e.notCaptured,xt=$e.onMove,g=$e.threshold,Ce=$e.passive,Xe=$e.blurOnStart,be={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Q=((se,fe,rt)=>{const Ie=rt*(Math.PI/180),Ze="x"===se,$e=Math.cos(Ie),ht=fe*fe;let Le=0,qe=0,ft=!1,_t=0;return{start(xt,g){Le=xt,qe=g,_t=0,ft=!0},detect(xt,g){if(!ft)return!1;const Ce=xt-Le,Xe=g-qe,be=Ce*Ce+Xe*Xe;if(be<ht)return!1;const Q=Math.sqrt(be),ae=(Ze?Ce:Xe)/Q;return _t=ae>$e?1:ae<-$e?-1:0,ft=!1,!0},isGesture:()=>0!==_t,getDirection:()=>_t}})($e.direction,$e.threshold,$e.maxAngle),ae=_.G.createGesture({name:se.gestureName,priority:se.gesturePriority,disableScroll:se.disableScroll}),je=()=>{!fe||(Ze=!1,xt&&xt(be))},vt=()=>!(ae&&!ae.capture()||(fe=!0,Ie=!1,be.startX=be.currentX,be.startY=be.currentY,be.startTime=be.currentTime,Le?Le(be).then(He):He(),0)),He=()=>{Xe&&(()=>{if("undefined"!=typeof document){const Ft=document.activeElement;null!==Ft&&Ft.blur&&Ft.blur()}})(),qe&&qe(be),Ie=!0},Ge=()=>{fe=!1,rt=!1,Ze=!1,Ie=!0,ae.release()},ze=Ft=>{const sn=fe,Nt=Ie;if(Ge(),Nt){if(Z(be,Ft),sn)return void(ft&&ft(be));_t&&_t(be)}},tt=((se,fe,rt,Ie,Ze)=>{let $e,ht,Le,qe,ft,_t,xt,g=0;const Ce=Oe=>{g=Date.now()+2e3,fe(Oe)&&(!ht&&rt&&(ht=R(se,"touchmove",rt,Ze)),Le||(Le=R(Oe.target,"touchend",be,Ze)),qe||(qe=R(Oe.target,"touchcancel",be,Ze)))},Xe=Oe=>{g>Date.now()||!fe(Oe)||(!_t&&rt&&(_t=R(U(se),"mousemove",rt,Ze)),xt||(xt=R(U(se),"mouseup",Q,Ze)))},be=Oe=>{ae(),Ie&&Ie(Oe)},Q=Oe=>{oe(),Ie&&Ie(Oe)},ae=()=>{ht&&ht(),Le&&Le(),qe&&qe(),ht=Le=qe=void 0},oe=()=>{_t&&_t(),xt&&xt(),_t=xt=void 0},ve=()=>{ae(),oe()},je=(Oe=!0)=>{Oe?($e||($e=R(se,"touchstart",Ce,Ze)),ft||(ft=R(se,"mousedown",Xe,Ze))):($e&&$e(),ft&&ft(),$e=ft=void 0,ve())};return{enable:je,stop:ve,destroy:()=>{je(!1),Ie=rt=fe=void 0}}})($e.el,Ft=>{const sn=ye(Ft);return!(rt||!Ie||(ne(Ft,be),be.startX=be.currentX,be.startY=be.currentY,be.startTime=be.currentTime=sn,be.velocityX=be.velocityY=be.deltaX=be.deltaY=0,be.event=Ft,ht&&!1===ht(be))||(ae.release(),!ae.start()))&&(rt=!0,0===g?vt():(Q.start(be.startX,be.startY),!0))},Ft=>{fe?!Ze&&Ie&&(Ze=!0,Z(be,Ft),requestAnimationFrame(je)):(Z(be,Ft),Q.detect(be.currentX,be.currentY)&&(!Q.isGesture()||!vt())&&It())},ze,{capture:!1,passive:Ce}),It=()=>{Ge(),tt.stop(),_t&&_t(be)};return{enable(Ft=!0){Ft||(fe&&ze(void 0),Ge()),tt.enable(Ft)},destroy(){ae.destroy(),tt.destroy()}}},Z=(se,fe)=>{if(!fe)return;const rt=se.currentX,Ie=se.currentY,Ze=se.currentTime;ne(fe,se);const $e=se.currentX,ht=se.currentY,qe=(se.currentTime=ye(fe))-Ze;if(qe>0&&qe<100){const _t=(ht-Ie)/qe;se.velocityX=($e-rt)/qe*.7+.3*se.velocityX,se.velocityY=.7*_t+.3*se.velocityY}se.deltaX=$e-se.startX,se.deltaY=ht-se.startY,se.event=fe},ne=(se,fe)=>{let rt=0,Ie=0;if(se){const Ze=se.changedTouches;if(Ze&&Ze.length>0){const $e=Ze[0];rt=$e.clientX,Ie=$e.clientY}else void 0!==se.pageX&&(rt=se.pageX,Ie=se.pageY)}fe.currentX=rt,fe.currentY=Ie},ye=se=>se.timeStamp||Date.now()},3150:(rn,et,H)=>{"use strict";H.d(et,{B:()=>Qe,C:()=>ye,H:()=>xr,a:()=>Ie,b:()=>dr,c:()=>vi,e:()=>Bn,f:()=>hi,g:()=>Ft,h:()=>_n,i:()=>Lr,j:()=>Se,k:()=>mr,p:()=>fe,r:()=>Rn,s:()=>It,w:()=>ne});var _=H(8239);let De,Ue,de,Te=!1,U=!1,pe=!1,Ee=!1,Z=!1;const ne="undefined"!=typeof window?window:{},ye=ne.CSS,se=ne.document||{head:{}},fe={$flags$:0,$resourcesUrl$:"",jmp:L=>L(),raf:L=>requestAnimationFrame(L),ael:(L,F,X,ue)=>L.addEventListener(F,X,ue),rel:(L,F,X,ue)=>L.removeEventListener(F,X,ue),ce:(L,F)=>new CustomEvent(L,F)},rt=(()=>(se.head.attachShadow+"").indexOf("[native")>-1)(),Ie=L=>Promise.resolve(L),Ze=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(L){}return!1})(),$e=(L,F,X,ue)=>{X&&X.map(([Re,xe,ut])=>{const mt=Le(L,Re),bt=ht(F,ut),Ut=qe(Re);fe.ael(mt,xe,bt,Ut),(F.$rmListeners$=F.$rmListeners$||[]).push(()=>fe.rel(mt,xe,bt,Ut))})},ht=(L,F)=>X=>{try{256&L.$flags$?L.$lazyInstance$[F](X):(L.$queuedListeners$=L.$queuedListeners$||[]).push([F,X])}catch(ue){Yt(ue)}},Le=(L,F)=>4&F?se:8&F?ne:16&F?se.body:L,qe=L=>0!=(2&L),Ce="s-id",Xe="sty-id",ae="http://www.w3.org/1999/xlink",je=new WeakMap,vt=(L,F,X)=>{let ue=br.get(L);Ze&&X?(ue=ue||new CSSStyleSheet,ue.replace(F)):ue=F,br.set(L,ue)},Oe=(L,F,X,ue)=>{let Re=Ge(F,X),xe=br.get(Re);if(L=11===L.nodeType?L:se,xe)if("string"==typeof xe){let mt,ut=je.get(L=L.head||L);if(ut||je.set(L,ut=new Set),!ut.has(Re)){if(L.host&&(mt=L.querySelector(`[${Xe}="${Re}"]`)))mt.innerHTML=xe;else{if(fe.$cssShim$){mt=fe.$cssShim$.createHostStyle(ue,Re,xe,!!(10&F.$flags$));const bt=mt["s-sc"];bt&&(Re=bt,ut=null)}else mt=se.createElement("style"),mt.innerHTML=xe;L.insertBefore(mt,L.querySelector("link"))}ut&&ut.add(Re)}}else L.adoptedStyleSheets.includes(xe)||(L.adoptedStyleSheets=[...L.adoptedStyleSheets,xe]);return Re},Ge=(L,F)=>"sc-"+(F&&32&L.$flags$?L.$tagName$+"-"+F:L.$tagName$),ze=L=>L.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),It=L=>Pr.push(L),Ft=L=>Cr(L).$modeName$,sn={},Xt=L=>"object"==(L=typeof L)||"function"===L,_n=(L,F,...X)=>{let ue=null,Re=null,xe=null,ut=!1,mt=!1,bt=[];const Ut=bn=>{for(let Nn=0;Nn<bn.length;Nn++)ue=bn[Nn],Array.isArray(ue)?Ut(ue):null!=ue&&"boolean"!=typeof ue&&((ut="function"!=typeof L&&!Xt(ue))&&(ue=String(ue)),ut&&mt?bt[bt.length-1].$text$+=ue:bt.push(ut?Xn(null,ue):ue),mt=ut)};if(Ut(X),F){F.key&&(Re=F.key),F.name&&(xe=F.name);{const bn=F.className||F.class;bn&&(F.class="object"!=typeof bn?bn:Object.keys(bn).filter(Nn=>bn[Nn]).join(" "))}}if("function"==typeof L)return L(null===F?{}:F,bt,gt);const hn=Xn(L,null);return hn.$attrs$=F,bt.length>0&&(hn.$children$=bt),hn.$key$=Re,hn.$name$=xe,hn},Xn=(L,F)=>({$flags$:0,$tag$:L,$text$:F,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),xr={},gt={forEach:(L,F)=>L.map(Zt).forEach(F),map:(L,F)=>L.map(Zt).map(F).map(Mn)},Zt=L=>({vattrs:L.$attrs$,vchildren:L.$children$,vkey:L.$key$,vname:L.$name$,vtag:L.$tag$,vtext:L.$text$}),Mn=L=>{if("function"==typeof L.vtag){const X=Object.assign({},L.vattrs);return L.vkey&&(X.key=L.vkey),L.vname&&(X.name=L.vname),_n(L.vtag,X,...L.vchildren||[])}const F=Xn(L.vtag,L.vtext);return F.$attrs$=L.vattrs,F.$children$=L.vchildren,F.$key$=L.vkey,F.$name$=L.vname,F},Hn=(L,F,X,ue,Re,xe)=>{if(X!==ue){let ut=pn(L,F),mt=F.toLowerCase();if("class"===F){const bt=L.classList,Ut=jn(X),hn=jn(ue);bt.remove(...Ut.filter(bn=>bn&&!hn.includes(bn))),bt.add(...hn.filter(bn=>bn&&!Ut.includes(bn)))}else if("style"===F){for(const bt in X)(!ue||null==ue[bt])&&(bt.includes("-")?L.style.removeProperty(bt):L.style[bt]="");for(const bt in ue)(!X||ue[bt]!==X[bt])&&(bt.includes("-")?L.style.setProperty(bt,ue[bt]):L.style[bt]=ue[bt])}else if("key"!==F)if("ref"===F)ue&&ue(L);else if(ut||"o"!==F[0]||"n"!==F[1]){const bt=Xt(ue);if((ut||bt&&null!==ue)&&!Re)try{if(L.tagName.includes("-"))L[F]=ue;else{let hn=null==ue?"":ue;"list"===F?ut=!1:(null==X||L[F]!=hn)&&(L[F]=hn)}}catch(hn){}let Ut=!1;mt!==(mt=mt.replace(/^xlink\:?/,""))&&(F=mt,Ut=!0),null==ue||!1===ue?(!1!==ue||""===L.getAttribute(F))&&(Ut?L.removeAttributeNS(ae,F):L.removeAttribute(F)):(!ut||4&xe||Re)&&!bt&&(ue=!0===ue?"":ue,Ut?L.setAttributeNS(ae,F,ue):L.setAttribute(F,ue))}else F="-"===F[2]?F.slice(3):pn(ne,mt)?mt.slice(2):mt[2]+F.slice(3),X&&fe.rel(L,F,X,!1),ue&&fe.ael(L,F,ue,!1)}},Vn=/\s/,jn=L=>L?L.split(Vn):[],Yr=(L,F,X,ue)=>{const Re=11===F.$elm$.nodeType&&F.$elm$.host?F.$elm$.host:F.$elm$,xe=L&&L.$attrs$||sn,ut=F.$attrs$||sn;for(ue in xe)ue in ut||Hn(Re,ue,xe[ue],void 0,X,F.$flags$);for(ue in ut)Hn(Re,ue,xe[ue],ut[ue],X,F.$flags$)},Sn=(L,F,X,ue)=>{let ut,mt,bt,Re=F.$children$[X],xe=0;if(Te||(pe=!0,"slot"===Re.$tag$&&(De&&ue.classList.add(De+"-s"),Re.$flags$|=Re.$children$?2:1)),null!==Re.$text$)ut=Re.$elm$=se.createTextNode(Re.$text$);else if(1&Re.$flags$)ut=Re.$elm$=se.createTextNode("");else{if(Ee||(Ee="svg"===Re.$tag$),ut=Re.$elm$=se.createElementNS(Ee?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Re.$flags$?"slot-fb":Re.$tag$),Ee&&"foreignObject"===Re.$tag$&&(Ee=!1),Yr(null,Re,Ee),(L=>null!=L)(De)&&ut["s-si"]!==De&&ut.classList.add(ut["s-si"]=De),Re.$children$)for(xe=0;xe<Re.$children$.length;++xe)mt=Sn(L,Re,xe,ut),mt&&ut.appendChild(mt);"svg"===Re.$tag$?Ee=!1:"foreignObject"===ut.tagName&&(Ee=!0)}return ut["s-hn"]=de,3&Re.$flags$&&(ut["s-sr"]=!0,ut["s-cr"]=Ue,ut["s-sn"]=Re.$name$||"",bt=L&&L.$children$&&L.$children$[X],bt&&bt.$tag$===Re.$tag$&&L.$elm$&&fr(L.$elm$,!1)),ut},fr=(L,F)=>{fe.$flags$|=1;const X=L.childNodes;for(let ue=X.length-1;ue>=0;ue--){const Re=X[ue];Re["s-hn"]!==de&&Re["s-ol"]&&(Vt(Re).insertBefore(Re,Pt(Re)),Re["s-ol"].remove(),Re["s-ol"]=void 0,pe=!0),F&&fr(Re,F)}fe.$flags$&=-2},ar=(L,F,X,ue,Re,xe)=>{let mt,ut=L["s-cr"]&&L["s-cr"].parentNode||L;for(ut.shadowRoot&&ut.tagName===de&&(ut=ut.shadowRoot);Re<=xe;++Re)ue[Re]&&(mt=Sn(null,X,Re,L),mt&&(ue[Re].$elm$=mt,ut.insertBefore(mt,Pt(F))))},Fr=(L,F,X,ue,Re)=>{for(;F<=X;++F)(ue=L[F])&&(Re=ue.$elm$,jr(ue),U=!0,Re["s-ol"]?Re["s-ol"].remove():fr(Re,!0),Re.remove())},Ln=(L,F)=>L.$tag$===F.$tag$&&("slot"===L.$tag$?L.$name$===F.$name$:L.$key$===F.$key$),Pt=L=>L&&L["s-ol"]||L,Vt=L=>(L["s-ol"]?L["s-ol"]:L).parentNode,er=(L,F)=>{const X=F.$elm$=L.$elm$,ue=L.$children$,Re=F.$children$,xe=F.$tag$,ut=F.$text$;let mt;null===ut?(Ee="svg"===xe||"foreignObject"!==xe&&Ee,"slot"===xe||Yr(L,F,Ee),null!==ue&&null!==Re?((L,F,X,ue)=>{let ti,Mr,Re=0,xe=0,ut=0,mt=0,bt=F.length-1,Ut=F[0],hn=F[bt],bn=ue.length-1,Nn=ue[0],Fn=ue[bn];for(;Re<=bt&&xe<=bn;)if(null==Ut)Ut=F[++Re];else if(null==hn)hn=F[--bt];else if(null==Nn)Nn=ue[++xe];else if(null==Fn)Fn=ue[--bn];else if(Ln(Ut,Nn))er(Ut,Nn),Ut=F[++Re],Nn=ue[++xe];else if(Ln(hn,Fn))er(hn,Fn),hn=F[--bt],Fn=ue[--bn];else if(Ln(Ut,Fn))("slot"===Ut.$tag$||"slot"===Fn.$tag$)&&fr(Ut.$elm$.parentNode,!1),er(Ut,Fn),L.insertBefore(Ut.$elm$,hn.$elm$.nextSibling),Ut=F[++Re],Fn=ue[--bn];else if(Ln(hn,Nn))("slot"===Ut.$tag$||"slot"===Fn.$tag$)&&fr(hn.$elm$.parentNode,!1),er(hn,Nn),L.insertBefore(hn.$elm$,Ut.$elm$),hn=F[--bt],Nn=ue[++xe];else{for(ut=-1,mt=Re;mt<=bt;++mt)if(F[mt]&&null!==F[mt].$key$&&F[mt].$key$===Nn.$key$){ut=mt;break}ut>=0?(Mr=F[ut],Mr.$tag$!==Nn.$tag$?ti=Sn(F&&F[xe],X,ut,L):(er(Mr,Nn),F[ut]=void 0,ti=Mr.$elm$),Nn=ue[++xe]):(ti=Sn(F&&F[xe],X,xe,L),Nn=ue[++xe]),ti&&Vt(Ut.$elm$).insertBefore(ti,Pt(Ut.$elm$))}Re>bt?ar(L,null==ue[bn+1]?null:ue[bn+1].$elm$,X,ue,xe,bn):xe>bn&&Fr(F,Re,bt)})(X,ue,F,Re):null!==Re?(null!==L.$text$&&(X.textContent=""),ar(X,null,F,Re,0,Re.length-1)):null!==ue&&Fr(ue,0,ue.length-1),Ee&&"svg"===xe&&(Ee=!1)):(mt=X["s-cr"])?mt.parentNode.textContent=ut:L.$text$!==ut&&(X.data=ut)},yr=L=>{let X,ue,Re,xe,ut,mt,F=L.childNodes;for(ue=0,Re=F.length;ue<Re;ue++)if(X=F[ue],1===X.nodeType){if(X["s-sr"])for(ut=X["s-sn"],X.hidden=!1,xe=0;xe<Re;xe++)if(mt=F[xe].nodeType,F[xe]["s-hn"]!==X["s-hn"]||""!==ut){if(1===mt&&ut===F[xe].getAttribute("slot")){X.hidden=!0;break}}else if(1===mt||3===mt&&""!==F[xe].textContent.trim()){X.hidden=!0;break}yr(X)}},yt=[],gn=L=>{let F,X,ue,Re,xe,ut,mt=0,bt=L.childNodes,Ut=bt.length;for(;mt<Ut;mt++){if(F=bt[mt],F["s-sr"]&&(X=F["s-cr"])&&X.parentNode)for(ue=X.parentNode.childNodes,Re=F["s-sn"],ut=ue.length-1;ut>=0;ut--)X=ue[ut],!X["s-cn"]&&!X["s-nr"]&&X["s-hn"]!==F["s-hn"]&&(lr(X,Re)?(xe=yt.find(hn=>hn.$nodeToRelocate$===X),U=!0,X["s-sn"]=X["s-sn"]||Re,xe?xe.$slotRefNode$=F:yt.push({$slotRefNode$:F,$nodeToRelocate$:X}),X["s-sr"]&&yt.map(hn=>{lr(hn.$nodeToRelocate$,X["s-sn"])&&(xe=yt.find(bn=>bn.$nodeToRelocate$===X),xe&&!hn.$slotRefNode$&&(hn.$slotRefNode$=xe.$slotRefNode$))})):yt.some(hn=>hn.$nodeToRelocate$===X)||yt.push({$nodeToRelocate$:X}));1===F.nodeType&&gn(F)}},lr=(L,F)=>1===L.nodeType?null===L.getAttribute("slot")&&""===F||L.getAttribute("slot")===F:L["s-sn"]===F||""===F,jr=L=>{L.$attrs$&&L.$attrs$.ref&&L.$attrs$.ref(null),L.$children$&&L.$children$.map(jr)},Lr=L=>Cr(L).$hostElement$,Bn=(L,F,X)=>{const ue=Lr(L);return{emit:Re=>ui(ue,F,{bubbles:!!(4&X),composed:!!(2&X),cancelable:!!(1&X),detail:Re})}},ui=(L,F,X)=>{const ue=fe.ce(F,X);return L.dispatchEvent(ue),ue},Gt=(L,F)=>{F&&!L.$onRenderResolve$&&F["s-p"]&&F["s-p"].push(new Promise(X=>L.$onRenderResolve$=X))},it=(L,F)=>{if(L.$flags$|=16,!(4&L.$flags$))return Gt(L,L.$ancestorComponent$),vi(()=>$t(L,F));L.$flags$|=512},$t=(L,F)=>{const ue=L.$lazyInstance$;let Re;return F&&(L.$flags$|=256,L.$queuedListeners$&&(L.$queuedListeners$.map(([xe,ut])=>Be(ue,xe,ut)),L.$queuedListeners$=null),Re=Be(ue,"componentWillLoad")),Re=Tt(Re,()=>Be(ue,"componentWillRender")),Tt(Re,()=>Ot(L,ue,F))},Ot=function(){var L=(0,_.Z)(function*(F,X,ue){const Re=F.$hostElement$,ut=Re["s-rc"];ue&&(L=>{const F=L.$cmpMeta$,X=L.$hostElement$,ue=F.$flags$,xe=Oe(rt&&X.shadowRoot?X.shadowRoot:X.getRootNode(),F,L.$modeName$,X);10&ue&&(X["s-sc"]=xe,X.classList.add(xe+"-h"),2&ue&&X.classList.add(xe+"-s"))})(F);Cn(F,X),fe.$cssShim$&&fe.$cssShim$.updateHost(Re),ut&&(ut.map(bt=>bt()),Re["s-rc"]=void 0);{const bt=Re["s-p"],Ut=()=>tn(F);0===bt.length?Ut():(Promise.all(bt).then(Ut),F.$flags$|=4,bt.length=0)}});return function(X,ue,Re){return L.apply(this,arguments)}}(),Cn=(L,F,X)=>{try{F=F.render&&F.render(),L.$flags$&=-17,L.$flags$|=2,((L,F)=>{const X=L.$hostElement$,ue=L.$cmpMeta$,Re=L.$vnode$||Xn(null,null),xe=(L=>L&&L.$tag$===xr)(F)?F:_n(null,null,F);if(de=X.tagName,ue.$attrsToReflect$&&(xe.$attrs$=xe.$attrs$||{},ue.$attrsToReflect$.map(([ut,mt])=>xe.$attrs$[mt]=X[ut])),xe.$tag$=null,xe.$flags$|=4,L.$vnode$=xe,xe.$elm$=Re.$elm$=X.shadowRoot||X,De=X["s-sc"],Ue=X["s-cr"],Te=rt&&0!=(1&ue.$flags$),U=!1,er(Re,xe),fe.$flags$|=1,pe){gn(xe.$elm$);let ut,mt,bt,Ut,hn,bn,Nn=0;for(;Nn<yt.length;Nn++)ut=yt[Nn],mt=ut.$nodeToRelocate$,mt["s-ol"]||(bt=se.createTextNode(""),bt["s-nr"]=mt,mt.parentNode.insertBefore(mt["s-ol"]=bt,mt));for(Nn=0;Nn<yt.length;Nn++)if(ut=yt[Nn],mt=ut.$nodeToRelocate$,ut.$slotRefNode$){for(Ut=ut.$slotRefNode$.parentNode,hn=ut.$slotRefNode$.nextSibling,bt=mt["s-ol"];bt=bt.previousSibling;)if(bn=bt["s-nr"],bn&&bn["s-sn"]===mt["s-sn"]&&Ut===bn.parentNode&&(bn=bn.nextSibling,!bn||!bn["s-nr"])){hn=bn;break}(!hn&&Ut!==mt.parentNode||mt.nextSibling!==hn)&&mt!==hn&&(!mt["s-hn"]&&mt["s-ol"]&&(mt["s-hn"]=mt["s-ol"].parentNode.nodeName),Ut.insertBefore(mt,hn))}else 1===mt.nodeType&&(mt.hidden=!0)}U&&yr(xe.$elm$),fe.$flags$&=-2,yt.length=0})(L,F)}catch(ue){Yt(ue,L.$hostElement$)}return null},tn=L=>{const X=L.$hostElement$,Re=L.$lazyInstance$,xe=L.$ancestorComponent$;64&L.$flags$?Be(Re,"componentDidUpdate"):(L.$flags$|=64,ot(X),Be(Re,"componentDidLoad"),L.$onReadyResolve$(X),xe||we()),L.$onInstanceResolve$(X),L.$onRenderResolve$&&(L.$onRenderResolve$(),L.$onRenderResolve$=void 0),512&L.$flags$&&Pn(()=>it(L,!1)),L.$flags$&=-517},Se=L=>{{const F=Cr(L),X=F.$hostElement$.isConnected;return X&&2==(18&F.$flags$)&&it(F,!1),X}},we=L=>{ot(se.documentElement),Pn(()=>ui(ne,"appload",{detail:{namespace:"ionic"}}))},Be=(L,F,X)=>{if(L&&L[F])try{return L[F](X)}catch(ue){Yt(ue)}},Tt=(L,F)=>L&&L.then?L.then(F):F(),ot=L=>L.classList.add("hydrated"),En=(L,F,X,ue,Re,xe,ut)=>{let mt,bt,Ut,hn;if(1===xe.nodeType){for(mt=xe.getAttribute("c-id"),mt&&(bt=mt.split("."),(bt[0]===ut||"0"===bt[0])&&(Ut={$flags$:0,$hostId$:bt[0],$nodeId$:bt[1],$depth$:bt[2],$index$:bt[3],$tag$:xe.tagName.toLowerCase(),$elm$:xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},F.push(Ut),xe.removeAttribute("c-id"),L.$children$||(L.$children$=[]),L.$children$[Ut.$index$]=Ut,L=Ut,ue&&"0"===Ut.$depth$&&(ue[Ut.$index$]=Ut.$elm$))),hn=xe.childNodes.length-1;hn>=0;hn--)En(L,F,X,ue,Re,xe.childNodes[hn],ut);if(xe.shadowRoot)for(hn=xe.shadowRoot.childNodes.length-1;hn>=0;hn--)En(L,F,X,ue,Re,xe.shadowRoot.childNodes[hn],ut)}else if(8===xe.nodeType)bt=xe.nodeValue.split("."),(bt[1]===ut||"0"===bt[1])&&(mt=bt[0],Ut={$flags$:0,$hostId$:bt[1],$nodeId$:bt[2],$depth$:bt[3],$index$:bt[4],$elm$:xe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===mt?(Ut.$elm$=xe.nextSibling,Ut.$elm$&&3===Ut.$elm$.nodeType&&(Ut.$text$=Ut.$elm$.textContent,F.push(Ut),xe.remove(),L.$children$||(L.$children$=[]),L.$children$[Ut.$index$]=Ut,ue&&"0"===Ut.$depth$&&(ue[Ut.$index$]=Ut.$elm$))):Ut.$hostId$===ut&&("s"===mt?(Ut.$tag$="slot",xe["s-sn"]=bt[5]?Ut.$name$=bt[5]:"",xe["s-sr"]=!0,ue&&(Ut.$elm$=se.createElement(Ut.$tag$),Ut.$name$&&Ut.$elm$.setAttribute("name",Ut.$name$),xe.parentNode.insertBefore(Ut.$elm$,xe),xe.remove(),"0"===Ut.$depth$&&(ue[Ut.$index$]=Ut.$elm$)),X.push(Ut),L.$children$||(L.$children$=[]),L.$children$[Ut.$index$]=Ut):"r"===mt&&(ue?xe.remove():(Re["s-cr"]=xe,xe["s-cn"]=!0))));else if(L&&"style"===L.$tag$){const bn=Xn(null,xe.textContent);bn.$elm$=xe,bn.$index$="0",L.$children$=[bn]}},cr=(L,F)=>{if(1===L.nodeType){let X=0;for(;X<L.childNodes.length;X++)cr(L.childNodes[X],F);if(L.shadowRoot)for(X=0;X<L.shadowRoot.childNodes.length;X++)cr(L.shadowRoot.childNodes[X],F)}else if(8===L.nodeType){const X=L.nodeValue.split(".");"o"===X[0]&&(F.set(X[1]+"."+X[2],L),L.nodeValue="",L["s-en"]=X[3])}},In=(L,F,X)=>{if(F.$members$){L.watchers&&(F.$watchers$=L.watchers);const ue=Object.entries(F.$members$),Re=L.prototype;if(ue.map(([xe,[ut]])=>{31&ut||2&X&&32&ut?Object.defineProperty(Re,xe,{get(){return((L,F)=>Cr(this).$instanceValues$.get(F))(0,xe)},set(mt){((L,F,X,ue)=>{const Re=Cr(L),xe=Re.$hostElement$,ut=Re.$instanceValues$.get(F),mt=Re.$flags$,bt=Re.$lazyInstance$;if(X=((L,F)=>null==L||Xt(L)?L:4&F?"false"!==L&&(""===L||!!L):2&F?parseFloat(L):1&F?String(L):L)(X,ue.$members$[F][0]),(!(8&mt)||void 0===ut)&&X!==ut&&(Re.$instanceValues$.set(F,X),bt)){if(ue.$watchers$&&128&mt){const Ut=ue.$watchers$[F];Ut&&Ut.map(hn=>{try{bt[hn](X,ut,F)}catch(bn){Yt(bn,xe)}})}2==(18&mt)&&it(Re,!1)}})(this,xe,mt,F)},configurable:!0,enumerable:!0}):1&X&&64&ut&&Object.defineProperty(Re,xe,{value(...mt){const bt=Cr(this);return bt.$onInstancePromise$.then(()=>bt.$lazyInstance$[xe](...mt))}})}),1&X){const xe=new Map;Re.attributeChangedCallback=function(ut,mt,bt){fe.jmp(()=>{const Ut=xe.get(ut);this[Ut]=(null!==bt||"boolean"!=typeof this[Ut])&&bt})},L.observedAttributes=ue.filter(([ut,mt])=>15&mt[0]).map(([ut,mt])=>{const bt=mt[1]||ut;return xe.set(bt,ut),512&mt[0]&&F.$attrsToReflect$.push([ut,bt]),bt})}}return L},wr=function(){var L=(0,_.Z)(function*(F,X,ue,Re,xe){if(0==(32&X.$flags$)){{if(X.$flags$|=32,(xe=Kn(ue)).then){const Ut=()=>{};xe=yield xe,Ut()}xe.isProxied||(ue.$watchers$=xe.watchers,In(xe,ue,2),xe.isProxied=!0);const bt=()=>{};X.$flags$|=8;try{new xe(X)}catch(Ut){Yt(Ut)}X.$flags$&=-9,X.$flags$|=128,bt(),si(X.$lazyInstance$)}if(xe.style){let bt=xe.style;"string"!=typeof bt&&(bt=bt[X.$modeName$=(L=>Pr.map(F=>F(L)).find(F=>!!F))(F)]);const Ut=Ge(ue,X.$modeName$);if(!br.has(Ut)){const hn=()=>{};8&ue.$flags$&&(bt=yield H.e(8810).then(H.bind(H,8810)).then(bn=>bn.scopeCss(bt,Ut,!1))),vt(Ut,bt,!!(1&ue.$flags$)),hn()}}}const ut=X.$ancestorComponent$,mt=()=>it(X,!0);ut&&ut["s-rc"]?ut["s-rc"].push(mt):mt()});return function(X,ue,Re,xe,ut){return L.apply(this,arguments)}}(),si=L=>{Be(L,"connectedCallback")},Qt=L=>{const F=L["s-cr"]=se.createComment("");F["s-cn"]=!0,L.insertBefore(F,L.firstChild)},dr=(L,F={})=>{const ue=[],Re=F.exclude||[],xe=ne.customElements,ut=se.head,mt=ut.querySelector("meta[charset]"),bt=se.createElement("style"),Ut=[],hn=se.querySelectorAll(`[${Xe}]`);let bn,Nn=!0,Fn=0;for(Object.assign(fe,F),fe.$resourcesUrl$=new URL(F.resourcesUrl||"./",se.baseURI).href,fe.$flags$|=2;Fn<hn.length;Fn++)vt(hn[Fn].getAttribute(Xe),ze(hn[Fn].innerHTML),!0);L.map(ti=>ti[1].map(Mr=>{const Gr={$flags$:Mr[0],$tagName$:Mr[1],$members$:Mr[2],$listeners$:Mr[3]};Gr.$members$=Mr[2],Gr.$listeners$=Mr[3],Gr.$attrsToReflect$=[],Gr.$watchers$={},!rt&&1&Gr.$flags$&&(Gr.$flags$|=8);const fi=Gr.$tagName$,Ui=class extends HTMLElement{constructor(Kr){super(Kr),zt(Kr=this,Gr),1&Gr.$flags$&&(rt?Kr.attachShadow({mode:"open",delegatesFocus:!!(16&Gr.$flags$)}):"shadowRoot"in Kr||(Kr.shadowRoot=Kr))}connectedCallback(){bn&&(clearTimeout(bn),bn=null),Nn?Ut.push(this):fe.jmp(()=>(L=>{if(0==(1&fe.$flags$)){const F=Cr(L),X=F.$cmpMeta$,ue=()=>{};if(1&F.$flags$)$e(L,F,X.$listeners$),si(F.$lazyInstance$);else{let Re;if(F.$flags$|=1,Re=L.getAttribute(Ce),Re){if(rt&&1&X.$flags$){const xe=Oe(L.shadowRoot,X,L.getAttribute("s-mode"));L.classList.remove(xe+"-h",xe+"-s")}((L,F,X,ue)=>{const xe=L.shadowRoot,ut=[],bt=xe?[]:null,Ut=ue.$vnode$=Xn(F,null);fe.$orgLocNodes$||cr(se.body,fe.$orgLocNodes$=new Map),L[Ce]=X,L.removeAttribute(Ce),En(Ut,ut,[],bt,L,L,X),ut.map(hn=>{const bn=hn.$hostId$+"."+hn.$nodeId$,Nn=fe.$orgLocNodes$.get(bn),Fn=hn.$elm$;Nn&&rt&&""===Nn["s-en"]&&Nn.parentNode.insertBefore(Fn,Nn.nextSibling),xe||(Fn["s-hn"]=F,Nn&&(Fn["s-ol"]=Nn,Fn["s-ol"]["s-nr"]=Fn)),fe.$orgLocNodes$.delete(bn)}),xe&&bt.map(hn=>{hn&&xe.appendChild(hn)})})(L,X.$tagName$,Re,F)}Re||12&X.$flags$&&Qt(L);{let xe=L;for(;xe=xe.parentNode||xe.host;)if(1===xe.nodeType&&xe.hasAttribute("s-id")&&xe["s-p"]||xe["s-p"]){Gt(F,F.$ancestorComponent$=xe);break}}X.$members$&&Object.entries(X.$members$).map(([xe,[ut]])=>{if(31&ut&&L.hasOwnProperty(xe)){const mt=L[xe];delete L[xe],L[xe]=mt}}),Pn(()=>wr(L,F,X))}ue()}})(this))}disconnectedCallback(){fe.jmp(()=>(L=>{if(0==(1&fe.$flags$)){const F=Cr(L),X=F.$lazyInstance$;F.$rmListeners$&&(F.$rmListeners$.map(ue=>ue()),F.$rmListeners$=void 0),fe.$cssShim$&&fe.$cssShim$.removeHost(L),Be(X,"disconnectedCallback")}})(this))}componentOnReady(){return Cr(this).$onReadyPromise$}};Gr.$lazyBundleId$=ti[0],!Re.includes(fi)&&!xe.get(fi)&&(ue.push(fi),xe.define(fi,In(Ui,Gr,1)))})),bt.innerHTML=ue+"{visibility:hidden}.hydrated{visibility:inherit}",bt.setAttribute("data-styles",""),ut.insertBefore(bt,mt?mt.nextSibling:ut.firstChild),Nn=!1,Ut.length?Ut.map(ti=>ti.connectedCallback()):fe.jmp(()=>bn=setTimeout(we,30))},mr=L=>{const F=new URL(L,fe.$resourcesUrl$);return F.origin!==ne.location.origin?F.href:F.pathname},Dr=new WeakMap,Cr=L=>Dr.get(L),Rn=(L,F)=>Dr.set(F.$lazyInstance$=L,F),zt=(L,F)=>{const X={$flags$:0,$hostElement$:L,$cmpMeta$:F,$instanceValues$:new Map};return X.$onInstancePromise$=new Promise(ue=>X.$onInstanceResolve$=ue),X.$onReadyPromise$=new Promise(ue=>X.$onReadyResolve$=ue),L["s-p"]=[],L["s-rc"]=[],$e(L,X,F.$listeners$),Dr.set(L,X)},pn=(L,F)=>F in L,Yt=(L,F)=>(0,console.error)(L,F),tr=new Map,Kn=(L,F,X)=>{const ue=L.$tagName$.replace(/-/g,"_"),Re=L.$lazyBundleId$,xe=tr.get(Re);return xe?xe[ue]:H(863)(`./${Re}.entry.js`).then(ut=>(tr.set(Re,ut),ut[ue]),Yt)},br=new Map,Pr=[],Zn=[],gi=[],Er=(L,F)=>X=>{L.push(X),Z||(Z=!0,F&&4&fe.$flags$?Pn(oi):fe.raf(oi))},Vr=L=>{for(let F=0;F<L.length;F++)try{L[F](performance.now())}catch(X){Yt(X)}L.length=0},oi=()=>{Vr(Zn),Vr(gi),(Z=Zn.length>0)&&fe.raf(oi)},Pn=L=>Ie().then(L),hi=Er(Zn,!1),vi=Er(gi,!0),Qe={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},4425:(rn,et,H)=>{"use strict";H.d(et,{L:()=>Ue,a:()=>de,b:()=>Te,c:()=>U,d:()=>pe,e:()=>g,g:()=>be,l:()=>_t,s:()=>Ce,t:()=>ne});var _=H(8239),R=H(3150),De=H(1567);const Ue="ionViewWillEnter",de="ionViewDidEnter",Te="ionViewWillLeave",U="ionViewDidLeave",pe="ionViewWillUnload",ne=Q=>new Promise((ae,oe)=>{(0,R.c)(()=>{ye(Q),se(Q).then(ve=>{ve.animation&&ve.animation.destroy(),fe(Q),ae(ve)},ve=>{fe(Q),oe(ve)})})}),ye=Q=>{const ae=Q.enteringEl,oe=Q.leavingEl;Xe(ae,oe,Q.direction),Q.showGoBack?ae.classList.add("can-go-back"):ae.classList.remove("can-go-back"),Ce(ae,!1),ae.style.setProperty("pointer-events","none"),oe&&(Ce(oe,!1),oe.style.setProperty("pointer-events","none"))},se=function(){var Q=(0,_.Z)(function*(ae){const oe=yield rt(ae);return oe&&R.B.isBrowser?Ie(oe,ae):Ze(ae)});return function(oe){return Q.apply(this,arguments)}}(),fe=Q=>{const ae=Q.enteringEl,oe=Q.leavingEl;ae.classList.remove("ion-page-invisible"),ae.style.removeProperty("pointer-events"),void 0!==oe&&(oe.classList.remove("ion-page-invisible"),oe.style.removeProperty("pointer-events"))},rt=function(){var Q=(0,_.Z)(function*(ae){return ae.leavingEl&&ae.animated&&0!==ae.duration?ae.animationBuilder?ae.animationBuilder:"ios"===ae.mode?(yield Promise.resolve().then(H.bind(H,7689))).iosTransitionAnimation:(yield Promise.resolve().then(H.bind(H,5392))).mdTransitionAnimation:void 0});return function(oe){return Q.apply(this,arguments)}}(),Ie=function(){var Q=(0,_.Z)(function*(ae,oe){yield $e(oe,!0);const ve=ae(oe.baseEl,oe);qe(oe.enteringEl,oe.leavingEl);const je=yield Le(ve,oe);return oe.progressCallback&&oe.progressCallback(void 0),je&&ft(oe.enteringEl,oe.leavingEl),{hasCompleted:je,animation:ve}});return function(oe,ve){return Q.apply(this,arguments)}}(),Ze=function(){var Q=(0,_.Z)(function*(ae){const oe=ae.enteringEl,ve=ae.leavingEl;return yield $e(ae,!1),qe(oe,ve),ft(oe,ve),{hasCompleted:!0}});return function(oe){return Q.apply(this,arguments)}}(),$e=function(){var Q=(0,_.Z)(function*(ae,oe){const je=(void 0!==ae.deepWait?ae.deepWait:oe)?[g(ae.enteringEl),g(ae.leavingEl)]:[xt(ae.enteringEl),xt(ae.leavingEl)];yield Promise.all(je),yield ht(ae.viewIsReady,ae.enteringEl)});return function(oe,ve){return Q.apply(this,arguments)}}(),ht=function(){var Q=(0,_.Z)(function*(ae,oe){ae&&(yield ae(oe))});return function(oe,ve){return Q.apply(this,arguments)}}(),Le=(Q,ae)=>{const oe=ae.progressCallback,ve=new Promise(je=>{Q.onFinish(vt=>je(1===vt))});return oe?(Q.progressStart(!0),oe(Q)):Q.play(),ve},qe=(Q,ae)=>{_t(ae,Te),_t(Q,Ue)},ft=(Q,ae)=>{_t(Q,de),_t(ae,U)},_t=(Q,ae)=>{if(Q){const oe=new CustomEvent(ae,{bubbles:!1,cancelable:!1});Q.dispatchEvent(oe)}},xt=Q=>Q?new Promise(ae=>(0,De.c)(Q,ae)):Promise.resolve(),g=function(){var Q=(0,_.Z)(function*(ae){const oe=ae;if(oe){if(null!=oe.componentOnReady&&null!=(yield oe.componentOnReady()))return;yield Promise.all(Array.from(oe.children).map(g))}});return function(oe){return Q.apply(this,arguments)}}(),Ce=(Q,ae)=>{ae?(Q.setAttribute("aria-hidden","true"),Q.classList.add("ion-page-hidden")):(Q.hidden=!1,Q.removeAttribute("aria-hidden"),Q.classList.remove("ion-page-hidden"))},Xe=(Q,ae,oe)=>{void 0!==Q&&(Q.style.zIndex="back"===oe?"99":"101"),void 0!==ae&&(ae.style.zIndex="100")},be=Q=>Q.classList.contains("ion-page")?Q:Q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Q},7585:(rn,et,H)=>{"use strict";H.d(et,{a:()=>De,b:()=>je,c:()=>g,g:()=>R,i:()=>vt});var _=H(3150);const R=Oe=>Ue(Oe),De=(Oe,He)=>("string"==typeof Oe&&(He=Oe,Oe=void 0),R(Oe).includes(He)),Ue=(Oe=window)=>{if(void 0===Oe)return[];Oe.Ionic=Oe.Ionic||{};let He=Oe.Ionic.platforms;return null==He&&(He=Oe.Ionic.platforms=de(Oe),He.forEach(Ge=>Oe.document.documentElement.classList.add(`plt-${Ge}`))),He},de=Oe=>Object.keys(_t).filter(He=>_t[He](Oe)),U=Oe=>!!(qe(Oe,/iPad/i)||qe(Oe,/Macintosh/i)&&fe(Oe)),Z=Oe=>qe(Oe,/android|sink/i),fe=Oe=>ft(Oe,"(any-pointer:coarse)"),Ie=Oe=>Ze(Oe)||$e(Oe),Ze=Oe=>!!(Oe.cordova||Oe.phonegap||Oe.PhoneGap),$e=Oe=>{const He=Oe.Capacitor;return!(!He||!He.isNative)},qe=(Oe,He)=>He.test(Oe.navigator.userAgent),ft=(Oe,He)=>Oe.matchMedia(He).matches,_t={ipad:U,iphone:Oe=>qe(Oe,/iPhone/i),ios:Oe=>qe(Oe,/iPhone|iPod/i)||U(Oe),android:Z,phablet:Oe=>{const He=Oe.innerWidth,Ge=Oe.innerHeight,ze=Math.min(He,Ge),tt=Math.max(He,Ge);return ze>390&&ze<520&&tt>620&&tt<800},tablet:Oe=>{const He=Oe.innerWidth,Ge=Oe.innerHeight,ze=Math.min(He,Ge),tt=Math.max(He,Ge);return U(Oe)||(Oe=>Z(Oe)&&!qe(Oe,/mobile/i))(Oe)||ze>460&&ze<820&&tt>780&&tt<1400},cordova:Ze,capacitor:$e,electron:Oe=>qe(Oe,/electron/i),pwa:Oe=>!(!Oe.matchMedia("(display-mode: standalone)").matches&&!Oe.navigator.standalone),mobile:fe,mobileweb:Oe=>fe(Oe)&&!Ie(Oe),desktop:Oe=>!fe(Oe),hybrid:Ie};class xt{constructor(){this.m=new Map}reset(He){this.m=new Map(Object.entries(He))}get(He,Ge){const ze=this.m.get(He);return void 0!==ze?ze:Ge}getBoolean(He,Ge=!1){const ze=this.m.get(He);return void 0===ze?Ge:"string"==typeof ze?"true"===ze:!!ze}getNumber(He,Ge){const ze=parseFloat(this.m.get(He));return isNaN(ze)?void 0!==Ge?Ge:NaN:ze}set(He,Ge){this.m.set(He,Ge)}}const g=new xt,oe="ionic-persist-config";let ve;const je=Oe=>Oe&&(0,_.g)(Oe)||ve,vt=(Oe={})=>{if("undefined"==typeof window)return;const He=window.document,Ge=window,ze=Ge.Ionic=Ge.Ionic||{};Ue(Ge);const tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Oe=>{try{const He=Oe.sessionStorage.getItem(oe);return null!==He?JSON.parse(He):{}}catch(He){return{}}})(Ge)),{persistConfig:!1}),ze.config),(Oe=>{const He={};return Oe.location.search.slice(1).split("&").map(Ge=>Ge.split("=")).map(([Ge,ze])=>[decodeURIComponent(Ge),decodeURIComponent(ze)]).filter(([Ge])=>((Oe,He)=>Oe.substr(0,He.length)===He)(Ge,"ionic:")).map(([Ge,ze])=>[Ge.slice("ionic:".length),ze]).forEach(([Ge,ze])=>{He[Ge]=ze}),He})(Ge)),Oe);g.reset(tt),g.getBoolean("persistConfig")&&((Oe,He)=>{try{Oe.sessionStorage.setItem(oe,JSON.stringify(He))}catch(Ge){return}})(Ge,tt),ze.config=g,ze.mode=ve=g.get("mode",He.documentElement.getAttribute("mode")||(De(Ge,"ios")?"ios":"md")),g.set("mode",ve),He.documentElement.setAttribute("mode",ve),He.documentElement.classList.add(ve),g.getBoolean("_testing")&&g.set("animated",!1);const It=sn=>sn.tagName&&sn.tagName.startsWith("ION-"),Ft=sn=>["ios","md"].includes(sn);(0,_.s)(sn=>{for(;sn;){const Nt=sn.mode||sn.getAttribute("mode");if(Nt){if(Ft(Nt))return Nt;It(sn)&&console.warn('Invalid ionic mode: "'+Nt+'", expected: "ios" or "md"')}sn=sn.parentElement}return ve})}},7689:(rn,et,H)=>{"use strict";H.r(et),H.d(et,{iosTransitionAnimation:()=>ye,shadow:()=>Te});var _=H(7235),R=H(4425);H(3150);const de=se=>document.querySelector(`${se}.ion-cloned-element`),Te=se=>se.shadowRoot||se,U=se=>{const fe="ION-TABS"===se.tagName?se:se.querySelector("ion-tabs"),rt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=fe){const Ie=fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ie?Ie.querySelector(rt):null}return se.querySelector(rt)},pe=(se,fe)=>{const rt="ION-TABS"===se.tagName?se:se.querySelector("ion-tabs");let Ie=[];if(null!=rt){const Ze=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ze&&(Ie=Ze.querySelectorAll("ion-buttons"))}else Ie=se.querySelectorAll("ion-buttons");for(const Ze of Ie){const $e=Ze.closest("ion-header"),ht=$e&&!$e.classList.contains("header-collapse-condense-inactive"),Le=Ze.querySelector("ion-back-button"),qe=Ze.classList.contains("buttons-collapse"),ft="start"===Ze.slot||""===Ze.slot;if(null!==Le&&ft&&(qe&&ht&&fe||!qe))return Le}return null},Z=(se,fe,rt,Ie,Ze,$e)=>{const ht=fe?`calc(100% - ${$e.right+4}px)`:$e.left-4+"px",Le=fe?"7px":"-7px",qe=fe?"-4px":"4px",ft=fe?"-4px":"4px",_t=fe?"right":"left",xt=fe?"left":"right",Xe=rt?[{offset:0,opacity:1,transform:`translate3d(${qe}, ${$e.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Le}, ${Ze.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Le}, ${Ze.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${qe}, ${$e.top-46}px, 0) scale(1)`}],ae=rt?[{offset:0,opacity:1,transform:`translate3d(${ft}, ${$e.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ft}, ${$e.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ft}, ${$e.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ft}, ${$e.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ft}, ${$e.top-46}px, 0) scale(1)`}],oe=(0,_.c)(),ve=(0,_.c)(),je=de("ion-back-button"),vt=Te(je).querySelector(".button-text"),Oe=Te(je).querySelector("ion-icon");je.text=Ie.text,je.mode=Ie.mode,je.icon=Ie.icon,je.color=Ie.color,je.disabled=Ie.disabled,je.style.setProperty("display","block"),je.style.setProperty("position","fixed"),ve.addElement(Oe),oe.addElement(vt),oe.beforeStyles({"transform-origin":`${_t} center`}).beforeAddWrite(()=>{Ie.style.setProperty("display","none"),je.style.setProperty(_t,ht)}).afterAddWrite(()=>{Ie.style.setProperty("display",""),je.style.setProperty("display","none"),je.style.removeProperty(_t)}).keyframes(Xe),ve.beforeStyles({"transform-origin":`${xt} center`}).keyframes(ae),se.addAnimation([oe,ve])},ne=(se,fe,rt,Ie,Ze,$e)=>{const ht=fe?`calc(100% - ${Ze.right}px)`:`${Ze.left}px`,Le=fe?"-18px":"18px",qe=fe?"right":"left",xt=rt?[{offset:0,opacity:0,transform:`translate3d(${Le}, ${$e.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ze.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ze.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Le}, ${$e.top-4}px, 0) scale(0.5)`}],g=de("ion-title"),Ce=(0,_.c)();g.innerText=Ie.innerText,g.size=Ie.size,g.color=Ie.color,Ce.addElement(g),Ce.beforeStyles({"transform-origin":`${qe} center`,height:"46px",display:"",position:"relative",[qe]:ht}).beforeAddWrite(()=>{Ie.style.setProperty("display","none")}).afterAddWrite(()=>{Ie.style.setProperty("display",""),g.style.setProperty("display","none")}).keyframes(xt),se.addAnimation(Ce)},ye=(se,fe)=>{try{const rt="cubic-bezier(0.32,0.72,0,1)",Ie="opacity",Ze="transform",$e="0%",ht=.8,Le="rtl"===se.ownerDocument.dir,qe=Le?"-99.5%":"99.5%",ft=Le?"33%":"-33%",_t=fe.enteringEl,xt=fe.leavingEl,g="back"===fe.direction,Ce=_t.querySelector(":scope > ion-content"),Xe=_t.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),be=_t.querySelectorAll(":scope > ion-header > ion-toolbar"),Q=(0,_.c)(),ae=(0,_.c)();if(Q.addElement(_t).duration(fe.duration||540).easing(fe.easing||rt).fill("both").beforeRemoveClass("ion-page-invisible"),xt&&se){const vt=(0,_.c)();vt.addElement(se),Q.addAnimation(vt)}if(Ce||0!==be.length||0!==Xe.length?(ae.addElement(Ce),ae.addElement(Xe)):ae.addElement(_t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Q.addAnimation(ae),g?ae.beforeClearStyles([Ie]).fromTo("transform",`translateX(${ft})`,`translateX(${$e})`).fromTo(Ie,ht,1):ae.beforeClearStyles([Ie]).fromTo("transform",`translateX(${qe})`,`translateX(${$e})`),Ce){const vt=Te(Ce).querySelector(".transition-effect");if(vt){const Oe=vt.querySelector(".transition-cover"),He=vt.querySelector(".transition-shadow"),Ge=(0,_.c)(),ze=(0,_.c)(),tt=(0,_.c)();Ge.addElement(vt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ze.addElement(Oe).beforeClearStyles([Ie]).fromTo(Ie,0,.1),tt.addElement(He).beforeClearStyles([Ie]).fromTo(Ie,.03,.7),Ge.addAnimation([ze,tt]),ae.addAnimation([Ge])}}const oe=_t.querySelector("ion-header.header-collapse-condense"),{forward:ve,backward:je}=((se,fe,rt,Ie,Ze)=>{const $e=pe(Ie,rt),ht=U(Ze),Le=U(Ie),qe=pe(Ze,rt),ft=null!==$e&&null!==ht&&!rt,_t=null!==Le&&null!==qe&&rt;if(ft){const xt=ht.getBoundingClientRect(),g=$e.getBoundingClientRect();ne(se,fe,rt,ht,xt,g),Z(se,fe,rt,$e,xt,g)}else if(_t){const xt=Le.getBoundingClientRect(),g=qe.getBoundingClientRect();ne(se,fe,rt,Le,xt,g),Z(se,fe,rt,qe,xt,g)}return{forward:ft,backward:_t}})(Q,Le,g,_t,xt);if(be.forEach(vt=>{const Oe=(0,_.c)();Oe.addElement(vt),Q.addAnimation(Oe);const He=(0,_.c)();He.addElement(vt.querySelector("ion-title"));const Ge=(0,_.c)(),ze=Array.from(vt.querySelectorAll("ion-buttons,[menuToggle]")),tt=vt.closest("ion-header"),It=tt&&tt.classList.contains("header-collapse-condense-inactive");let Ft;Ft=ze.filter(g?Xt=>{const _n=Xt.classList.contains("buttons-collapse");return _n&&!It||!_n}:Xt=>!Xt.classList.contains("buttons-collapse")),Ge.addElement(Ft);const sn=(0,_.c)();sn.addElement(vt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Nt=(0,_.c)();Nt.addElement(Te(vt).querySelector(".toolbar-background"));const $n=(0,_.c)(),On=vt.querySelector("ion-back-button");if(On&&$n.addElement(On),Oe.addAnimation([He,Ge,sn,Nt,$n]),Ge.fromTo(Ie,.01,1),sn.fromTo(Ie,.01,1),g)It||He.fromTo("transform",`translateX(${ft})`,`translateX(${$e})`).fromTo(Ie,.01,1),sn.fromTo("transform",`translateX(${ft})`,`translateX(${$e})`),$n.fromTo(Ie,.01,1);else if(oe||He.fromTo("transform",`translateX(${qe})`,`translateX(${$e})`).fromTo(Ie,.01,1),sn.fromTo("transform",`translateX(${qe})`,`translateX(${$e})`),Nt.beforeClearStyles([Ie,"transform"]),(null==tt?void 0:tt.translucent)?Nt.fromTo("transform",Le?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Nt.fromTo(Ie,.01,"var(--opacity)"),ve||$n.fromTo(Ie,.01,1),On&&!ve){const _n=(0,_.c)();_n.addElement(Te(On).querySelector(".button-text")).fromTo("transform",Le?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Oe.addAnimation(_n)}}),xt){const vt=(0,_.c)(),Oe=xt.querySelector(":scope > ion-content"),He=xt.querySelectorAll(":scope > ion-header > ion-toolbar"),Ge=xt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Oe||0!==He.length||0!==Ge.length?(vt.addElement(Oe),vt.addElement(Ge)):vt.addElement(xt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Q.addAnimation(vt),g){vt.beforeClearStyles([Ie]).fromTo("transform",`translateX(${$e})`,Le?"translateX(-100%)":"translateX(100%)");const ze=(0,R.g)(xt);Q.afterAddWrite(()=>{"normal"===Q.getDirection()&&ze.style.setProperty("display","none")})}else vt.fromTo("transform",`translateX(${$e})`,`translateX(${ft})`).fromTo(Ie,1,ht);if(Oe){const ze=Te(Oe).querySelector(".transition-effect");if(ze){const tt=ze.querySelector(".transition-cover"),It=ze.querySelector(".transition-shadow"),Ft=(0,_.c)(),sn=(0,_.c)(),Nt=(0,_.c)();Ft.addElement(ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),sn.addElement(tt).beforeClearStyles([Ie]).fromTo(Ie,.1,0),Nt.addElement(It).beforeClearStyles([Ie]).fromTo(Ie,.7,.03),Ft.addAnimation([sn,Nt]),vt.addAnimation([Ft])}}He.forEach(ze=>{const tt=(0,_.c)();tt.addElement(ze);const It=(0,_.c)();It.addElement(ze.querySelector("ion-title"));const Ft=(0,_.c)(),sn=ze.querySelectorAll("ion-buttons,[menuToggle]"),Nt=ze.closest("ion-header"),$n=Nt&&Nt.classList.contains("header-collapse-condense-inactive"),On=Array.from(sn).filter(gt=>{const Zt=gt.classList.contains("buttons-collapse");return Zt&&!$n||!Zt});Ft.addElement(On);const Xt=(0,_.c)(),_n=ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");_n.length>0&&Xt.addElement(_n);const Xn=(0,_.c)();Xn.addElement(Te(ze).querySelector(".toolbar-background"));const xr=(0,_.c)(),Yn=ze.querySelector("ion-back-button");if(Yn&&xr.addElement(Yn),tt.addAnimation([It,Ft,Xt,xr,Xn]),Q.addAnimation(tt),xr.fromTo(Ie,.99,0),Ft.fromTo(Ie,.99,0),Xt.fromTo(Ie,.99,0),g){if($n||It.fromTo("transform",`translateX(${$e})`,Le?"translateX(-100%)":"translateX(100%)").fromTo(Ie,.99,0),Xt.fromTo("transform",`translateX(${$e})`,Le?"translateX(-100%)":"translateX(100%)"),Xn.beforeClearStyles([Ie,"transform"]),(null==Nt?void 0:Nt.translucent)?Xn.fromTo("transform","translateX(0px)",Le?"translateX(-100%)":"translateX(100%)"):Xn.fromTo(Ie,"var(--opacity)",0),Yn&&!je){const Zt=(0,_.c)();Zt.addElement(Te(Yn).querySelector(".button-text")).fromTo("transform",`translateX(${$e})`,`translateX(${(Le?-124:124)+"px"})`),tt.addAnimation(Zt)}}else $n||It.fromTo("transform",`translateX(${$e})`,`translateX(${ft})`).fromTo(Ie,.99,0).afterClearStyles([Ze,Ie]),Xt.fromTo("transform",`translateX(${$e})`,`translateX(${ft})`).afterClearStyles([Ze,Ie]),xr.afterClearStyles([Ie]),It.afterClearStyles([Ie]),Ft.afterClearStyles([Ie])})}return Q}catch(rt){throw rt}}},5392:(rn,et,H)=>{"use strict";H.r(et),H.d(et,{mdTransitionAnimation:()=>Ue});var _=H(7235),R=H(4425);H(3150);const Ue=(de,Te)=>{const Ee="back"===Te.direction,ne=Te.leavingEl,ye=(0,R.g)(Te.enteringEl),se=ye.querySelector("ion-toolbar"),fe=(0,_.c)();if(fe.addElement(ye).fill("both").beforeRemoveClass("ion-page-invisible"),Ee?fe.duration(Te.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):fe.duration(Te.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),se){const rt=(0,_.c)();rt.addElement(se),fe.addAnimation(rt)}if(ne&&Ee){fe.duration(Te.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const rt=(0,_.c)();rt.addElement((0,R.g)(ne)).onFinish(Ie=>{1===Ie&&rt.elements.length>0&&rt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),fe.addAnimation(rt)}return fe}},3291:(rn,et,H)=>{"use strict";H.d(et,{B:()=>Ge,a:()=>pe,b:()=>Ee,c:()=>se,d:()=>Xe,e:()=>rt,f:()=>Q,g:()=>ve,h:()=>Te,i:()=>vt,l:()=>Z,m:()=>ne,p:()=>ye,s:()=>He,t:()=>fe});var _=H(8239),R=H(7585),De=H(3087),Ue=H(1567);let de=0;const Te=new WeakMap,U=ze=>({create:tt=>Ie(ze,tt),dismiss:(tt,It,Ft)=>_t(document,tt,It,ze,Ft),getTop:()=>(0,_.Z)(function*(){return g(document,ze)})()}),pe=U("ion-alert"),Ee=U("ion-action-sheet"),Z=U("ion-loading"),ne=U("ion-modal"),ye=U("ion-picker"),se=U("ion-popover"),fe=U("ion-toast"),rt=ze=>{"undefined"!=typeof document&&ft(document);const tt=de++;ze.overlayIndex=tt,ze.hasAttribute("id")||(ze.id=`ion-overlay-${tt}`)},Ie=(ze,tt)=>"undefined"!=typeof customElements?customElements.whenDefined(ze).then(()=>{const It=document.createElement(ze);return It.classList.add("overlay-hidden"),Object.assign(It,tt),ae(document).appendChild(It),new Promise(Ft=>(0,Ue.c)(It,Ft))}):Promise.resolve(),Ze='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',$e="input:not([type=hidden]), textarea, button, select",ft=ze=>{0===de&&(de=1,ze.addEventListener("focus",tt=>((ze,tt)=>{const It=g(tt),Ft=ze.target;if(It&&Ft)if(It===Ft)It.lastFocus=void 0;else{const sn=(0,Ue.g)(It);if(!sn.contains(Ft))return;const Nt=sn.querySelector(".ion-overlay-wrapper");if(!Nt)return;if(Nt.contains(Ft))It.lastFocus=Ft;else{const $n=It.lastFocus;((ze,tt)=>{let It=ze.querySelector(Ze);const Ft=It&&It.shadowRoot;Ft&&(It=Ft.querySelector($e)||It),It?It.focus():tt.focus()})(Nt,It),$n===tt.activeElement&&((ze,tt)=>{const It=Array.from(ze.querySelectorAll(Ze));let Ft=It.length>0?It[It.length-1]:null;const sn=Ft&&Ft.shadowRoot;sn&&(Ft=sn.querySelector($e)||Ft),Ft?Ft.focus():tt.focus()})(Nt,It),It.lastFocus=tt.activeElement}}})(tt,ze),!0),ze.addEventListener("ionBackButton",tt=>{const It=g(ze);It&&It.backdropDismiss&&tt.detail.register(De.OVERLAY_BACK_BUTTON_PRIORITY,()=>It.dismiss(void 0,Ge))}),ze.addEventListener("keyup",tt=>{if("Escape"===tt.key){const It=g(ze);It&&It.backdropDismiss&&It.dismiss(void 0,Ge)}}))},_t=(ze,tt,It,Ft,sn)=>{const Nt=g(ze,Ft,sn);return Nt?Nt.dismiss(tt,It):Promise.reject("overlay does not exist")},g=(ze,tt,It)=>{const Ft=((ze,tt)=>(void 0===tt&&(tt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ze.querySelectorAll(tt)).filter(It=>It.overlayIndex>0)))(ze,tt);return void 0===It?Ft[Ft.length-1]:Ft.find(sn=>sn.id===It)},Ce=(ze=!1)=>{const It=ae(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!It||(ze?It.setAttribute("aria-hidden","true"):It.removeAttribute("aria-hidden"))},Xe=function(){var ze=(0,_.Z)(function*(tt,It,Ft,sn,Nt){if(tt.presented)return;Ce(!0),tt.presented=!0,tt.willPresent.emit();const $n=(0,R.b)(tt),On=tt.enterAnimation?tt.enterAnimation:R.c.get(It,"ios"===$n?Ft:sn);(yield oe(tt,On,tt.el,Nt))&&tt.didPresent.emit(),"ION-TOAST"!==tt.el.tagName&&be(tt.el),tt.keyboardClose&&tt.el.focus()});return function(It,Ft,sn,Nt,$n){return ze.apply(this,arguments)}}(),be=function(){var ze=(0,_.Z)(function*(tt){let It=document.activeElement;if(!It)return;const Ft=It&&It.shadowRoot;Ft&&(It=Ft.querySelector($e)||It),yield tt.onDidDismiss(),It.focus()});return function(It){return ze.apply(this,arguments)}}(),Q=function(){var ze=(0,_.Z)(function*(tt,It,Ft,sn,Nt,$n,On){if(!tt.presented)return!1;Ce(!1),tt.presented=!1;try{tt.el.style.setProperty("pointer-events","none"),tt.willDismiss.emit({data:It,role:Ft});const Xt=(0,R.b)(tt),_n=tt.leaveAnimation?tt.leaveAnimation:R.c.get(sn,"ios"===Xt?Nt:$n);"gesture"!==Ft&&(yield oe(tt,_n,tt.el,On)),tt.didDismiss.emit({data:It,role:Ft}),Te.delete(tt)}catch(Xt){console.error(Xt)}return tt.el.remove(),!0});return function(It,Ft,sn,Nt,$n,On,Xt){return ze.apply(this,arguments)}}(),ae=ze=>ze.querySelector("ion-app")||ze.body,oe=function(){var ze=(0,_.Z)(function*(tt,It,Ft,sn){Ft.classList.remove("overlay-hidden");const $n=It(Ft.shadowRoot||tt.el,sn);(!tt.animated||!R.c.getBoolean("animated",!0))&&$n.duration(0),tt.keyboardClose&&$n.beforeAddWrite(()=>{const Xt=Ft.ownerDocument.activeElement;Xt&&Xt.matches("input, ion-input, ion-textarea")&&Xt.blur()});const On=Te.get(tt)||[];return Te.set(tt,[...On,$n]),yield $n.play(),!0});return function(It,Ft,sn,Nt){return ze.apply(this,arguments)}}(),ve=(ze,tt)=>{let It;const Ft=new Promise(sn=>It=sn);return je(ze,tt,sn=>{It(sn.detail)}),Ft},je=(ze,tt,It)=>{const Ft=sn=>{(0,Ue.b)(ze,tt,Ft),It(sn)};(0,Ue.a)(ze,tt,Ft)},vt=ze=>"cancel"===ze||ze===Ge,Oe=ze=>ze(),He=(ze,tt)=>{if("function"==typeof ze)return R.c.get("_zoneGate",Oe)(()=>{try{return ze(tt)}catch(Ft){console.error(Ft)}})},Ge="backdrop"},2329:(rn,et,H)=>{"use strict";H.d(et,{Mq:()=>_.Mq,C6:()=>_.C6,ZF:()=>_.ZF,KN:()=>_.KN});var _=H(8026);(0,_.KN)("firebase","9.13.0","app")},1952:(rn,et,H)=>{"use strict";H.d(et,{Xb:()=>_.Xb,AP:()=>_.AP,uJ:()=>_.uJ,MX:()=>_.MX,e5:()=>_.e5,w7:()=>_.w7});var _=H(9311)},2491:(rn,et,H)=>{"use strict";H.d(et,{JU:()=>_.JU,ST:()=>_.ST,ad:()=>_.ad,cf:()=>_.cf,Xo:()=>_.Xo,IO:()=>_.IO,pl:()=>_.pl});var _=H(1304)},6215:(rn,et,H)=>{"use strict";H.d(et,{X:()=>De});var _=H(7709),R=H(7971);class De extends _.xQ{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const Te=super._subscribe(de);return Te&&!Te.closed&&de.next(this._value),Te}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new R.N;return this._value}next(de){super.next(this._value=de)}}},8891:(rn,et,H)=>{"use strict";H.d(et,{y:()=>Ee});var _=H(7393),De=H(9181),Ue=H(6490),Te=H(6554),U=H(4022),pe=H(2494);let Ee=(()=>{class ne{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const fe=new ne;return fe.source=this,fe.operator=se,fe}subscribe(se,fe,rt){const{operator:Ie}=this,Ze=function(ne,ye,se){if(ne){if(ne instanceof _.L)return ne;if(ne[De.b])return ne[De.b]()}return ne||ye||se?new _.L(ne,ye,se):new _.L(Ue.c)}(se,fe,rt);if(Ze.add(Ie?Ie.call(Ze,this.source):this.source||pe.v.useDeprecatedSynchronousErrorHandling&&!Ze.syncErrorThrowable?this._subscribe(Ze):this._trySubscribe(Ze)),pe.v.useDeprecatedSynchronousErrorHandling&&Ze.syncErrorThrowable&&(Ze.syncErrorThrowable=!1,Ze.syncErrorThrown))throw Ze.syncErrorValue;return Ze}_trySubscribe(se){try{return this._subscribe(se)}catch(fe){pe.v.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=fe),function(ne){for(;ne;){const{closed:ye,destination:se,isStopped:fe}=ne;if(ye||fe)return!1;ne=se&&se instanceof _.L?se:null}return!0}(se)?se.error(fe):console.warn(fe)}}forEach(se,fe){return new(fe=Z(fe))((rt,Ie)=>{let Ze;Ze=this.subscribe($e=>{try{se($e)}catch(ht){Ie(ht),Ze&&Ze.unsubscribe()}},Ie,rt)})}_subscribe(se){const{source:fe}=this;return fe&&fe.subscribe(se)}[Te.L](){return this}pipe(...se){return 0===se.length?this:(0,U.U)(se)(this)}toPromise(se){return new(se=Z(se))((fe,rt)=>{let Ie;this.subscribe(Ze=>Ie=Ze,Ze=>rt(Ze),()=>fe(Ie))})}}return ne.create=ye=>new ne(ye),ne})();function Z(ne){if(ne||(ne=pe.v.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},6490:(rn,et,H)=>{"use strict";H.d(et,{c:()=>De});var _=H(2494),R=H(4449);const De={closed:!0,next(Ue){},error(Ue){if(_.v.useDeprecatedSynchronousErrorHandling)throw Ue;(0,R.z)(Ue)},complete(){}}},7709:(rn,et,H)=>{"use strict";H.d(et,{xQ:()=>pe,Yc:()=>U});var _=H(8891),R=H(7393),De=H(5319),Ue=H(7971);class de extends De.w{constructor(ne,ye){super(),this.subject=ne,this.subscriber=ye,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ne=this.subject,ye=ne.observers;if(this.subject=null,!ye||0===ye.length||ne.isStopped||ne.closed)return;const se=ye.indexOf(this.subscriber);-1!==se&&ye.splice(se,1)}}var Te=H(9181);class U extends R.L{constructor(ne){super(ne),this.destination=ne}}let pe=(()=>{class Z extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Te.b](){return new U(this)}lift(ye){const se=new Ee(this,this);return se.operator=ye,se}next(ye){if(this.closed)throw new Ue.N;if(!this.isStopped){const{observers:se}=this,fe=se.length,rt=se.slice();for(let Ie=0;Ie<fe;Ie++)rt[Ie].next(ye)}}error(ye){if(this.closed)throw new Ue.N;this.hasError=!0,this.thrownError=ye,this.isStopped=!0;const{observers:se}=this,fe=se.length,rt=se.slice();for(let Ie=0;Ie<fe;Ie++)rt[Ie].error(ye);this.observers.length=0}complete(){if(this.closed)throw new Ue.N;this.isStopped=!0;const{observers:ye}=this,se=ye.length,fe=ye.slice();for(let rt=0;rt<se;rt++)fe[rt].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ye){if(this.closed)throw new Ue.N;return super._trySubscribe(ye)}_subscribe(ye){if(this.closed)throw new Ue.N;return this.hasError?(ye.error(this.thrownError),De.w.EMPTY):this.isStopped?(ye.complete(),De.w.EMPTY):(this.observers.push(ye),new de(this,ye))}asObservable(){const ye=new _.y;return ye.source=this,ye}}return Z.create=(ne,ye)=>new Ee(ne,ye),Z})();class Ee extends pe{constructor(ne,ye){super(),this.destination=ne,this.source=ye}next(ne){const{destination:ye}=this;ye&&ye.next&&ye.next(ne)}error(ne){const{destination:ye}=this;ye&&ye.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:ye}=this;return ye?this.source.subscribe(ne):De.w.EMPTY}}},7393:(rn,et,H)=>{"use strict";H.d(et,{L:()=>U});var _=H(9105),R=H(6490),De=H(5319),Ue=H(9181),de=H(2494),Te=H(4449);class U extends De.w{constructor(Z,ne,ye){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=R.c;break;case 1:if(!Z){this.destination=R.c;break}if("object"==typeof Z){Z instanceof U?(this.syncErrorThrowable=Z.syncErrorThrowable,this.destination=Z,Z.add(this)):(this.syncErrorThrowable=!0,this.destination=new pe(this,Z));break}default:this.syncErrorThrowable=!0,this.destination=new pe(this,Z,ne,ye)}}[Ue.b](){return this}static create(Z,ne,ye){const se=new U(Z,ne,ye);return se.syncErrorThrowable=!1,se}next(Z){this.isStopped||this._next(Z)}error(Z){this.isStopped||(this.isStopped=!0,this._error(Z))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Z){this.destination.next(Z)}_error(Z){this.destination.error(Z),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Z}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Z,this}}class pe extends U{constructor(Z,ne,ye,se){super(),this._parentSubscriber=Z;let fe,rt=this;(0,_.m)(ne)?fe=ne:ne&&(fe=ne.next,ye=ne.error,se=ne.complete,ne!==R.c&&(rt=Object.create(ne),(0,_.m)(rt.unsubscribe)&&this.add(rt.unsubscribe.bind(rt)),rt.unsubscribe=this.unsubscribe.bind(this))),this._context=rt,this._next=fe,this._error=ye,this._complete=se}next(Z){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;de.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,Z)&&this.unsubscribe():this.__tryOrUnsub(this._next,Z)}}error(Z){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:ye}=de.v;if(this._error)ye&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,Z),this.unsubscribe()):(this.__tryOrUnsub(this._error,Z),this.unsubscribe());else if(ne.syncErrorThrowable)ye?(ne.syncErrorValue=Z,ne.syncErrorThrown=!0):(0,Te.z)(Z),this.unsubscribe();else{if(this.unsubscribe(),ye)throw Z;(0,Te.z)(Z)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Z}=this;if(this._complete){const ne=()=>this._complete.call(this._context);de.v.useDeprecatedSynchronousErrorHandling&&Z.syncErrorThrowable?(this.__tryOrSetError(Z,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Z,ne){try{Z.call(this._context,ne)}catch(ye){if(this.unsubscribe(),de.v.useDeprecatedSynchronousErrorHandling)throw ye;(0,Te.z)(ye)}}__tryOrSetError(Z,ne,ye){if(!de.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,ye)}catch(se){return de.v.useDeprecatedSynchronousErrorHandling?(Z.syncErrorValue=se,Z.syncErrorThrown=!0,!0):((0,Te.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Z}=this;this._context=null,this._parentSubscriber=null,Z.unsubscribe()}}},5319:(rn,et,H)=>{"use strict";H.d(et,{w:()=>Te});var _=H(9796),R=H(1555),De=H(9105);const de=(()=>{function pe(Ee){return Error.call(this),this.message=Ee?`${Ee.length} errors occurred during unsubscription:\n${Ee.map((Z,ne)=>`${ne+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ee,this}return pe.prototype=Object.create(Error.prototype),pe})();class Te{constructor(Ee){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Ee&&(this._ctorUnsubscribe=!0,this._unsubscribe=Ee)}unsubscribe(){let Ee;if(this.closed)return;let{_parentOrParents:Z,_ctorUnsubscribe:ne,_unsubscribe:ye,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Z instanceof Te)Z.remove(this);else if(null!==Z)for(let fe=0;fe<Z.length;++fe)Z[fe].remove(this);if((0,De.m)(ye)){ne&&(this._unsubscribe=void 0);try{ye.call(this)}catch(fe){Ee=fe instanceof de?U(fe.errors):[fe]}}if((0,_.k)(se)){let fe=-1,rt=se.length;for(;++fe<rt;){const Ie=se[fe];if((0,R.K)(Ie))try{Ie.unsubscribe()}catch(Ze){Ee=Ee||[],Ze instanceof de?Ee=Ee.concat(U(Ze.errors)):Ee.push(Ze)}}}if(Ee)throw new de(Ee)}add(Ee){let Z=Ee;if(!Ee)return Te.EMPTY;switch(typeof Ee){case"function":Z=new Te(Ee);case"object":if(Z===this||Z.closed||"function"!=typeof Z.unsubscribe)return Z;if(this.closed)return Z.unsubscribe(),Z;if(!(Z instanceof Te)){const se=Z;Z=new Te,Z._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+Ee+" added to Subscription.")}let{_parentOrParents:ne}=Z;if(null===ne)Z._parentOrParents=this;else if(ne instanceof Te){if(ne===this)return Z;Z._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return Z;ne.push(this)}const ye=this._subscriptions;return null===ye?this._subscriptions=[Z]:ye.push(Z),Z}remove(Ee){const Z=this._subscriptions;if(Z){const ne=Z.indexOf(Ee);-1!==ne&&Z.splice(ne,1)}}}var pe;function U(pe){return pe.reduce((Ee,Z)=>Ee.concat(Z instanceof de?Z.errors:Z),[])}Te.EMPTY=((pe=new Te).closed=!0,pe)},2494:(rn,et,H)=>{"use strict";H.d(et,{v:()=>R});let _=!1;const R={Promise:void 0,set useDeprecatedSynchronousErrorHandling(De){if(De){const Ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ue.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=De},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(rn,et,H)=>{"use strict";H.d(et,{IY:()=>Ue,Ds:()=>Te,ft:()=>pe});var _=H(7393),R=H(8891),De=H(7444);class Ue extends _.L{constructor(Z){super(),this.parent=Z}_next(Z){this.parent.notifyNext(Z)}_error(Z){this.parent.notifyError(Z),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Te extends _.L{notifyNext(Z){this.destination.next(Z)}notifyError(Z){this.destination.error(Z)}notifyComplete(){this.destination.complete()}}function pe(Ee,Z){if(Z.closed)return;if(Ee instanceof R.y)return Ee.subscribe(Z);let ne;try{ne=(0,De.s)(Ee)(Z)}catch(ye){Z.error(ye)}return ne}},2441:(rn,et,H)=>{"use strict";H.d(et,{c:()=>de,N:()=>Te});var _=H(7709),R=H(8891),De=H(5319),Ue=H(1307);class de extends R.y{constructor(ne,ye){super(),this.source=ne,this.subjectFactory=ye,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new De.w,ne.add(this.source.subscribe(new U(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=De.w.EMPTY)),ne}refCount(){return(0,Ue.x)()(this)}}const Te=(()=>{const Z=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Z._subscribe},_isComplete:{value:Z._isComplete,writable:!0},getSubject:{value:Z.getSubject},connect:{value:Z.connect},refCount:{value:Z.refCount}}})();class U extends _.Yc{constructor(ne,ye){super(ne),this.connectable=ye}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const ye=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,ye&&ye.unsubscribe()}}}},9193:(rn,et,H)=>{"use strict";H.d(et,{E:()=>R,c:()=>De});var _=H(8891);const R=new _.y(de=>de.complete());function De(de){return de?function(de){return new _.y(Te=>de.schedule(()=>Te.complete()))}(de):R}},4402:(rn,et,H)=>{"use strict";H.d(et,{D:()=>rt});var _=H(8891),R=H(7444),De=H(5319),Ue=H(6554),U=H(4087),pe=H(377),ne=H(4072),ye=H(9489);function rt(Ie,Ze){return Ze?function(Ie,Ze){if(null!=Ie){if(function(Ie){return Ie&&"function"==typeof Ie[Ue.L]}(Ie))return function(Ie,Ze){return new _.y($e=>{const ht=new De.w;return ht.add(Ze.schedule(()=>{const Le=Ie[Ue.L]();ht.add(Le.subscribe({next(qe){ht.add(Ze.schedule(()=>$e.next(qe)))},error(qe){ht.add(Ze.schedule(()=>$e.error(qe)))},complete(){ht.add(Ze.schedule(()=>$e.complete()))}}))})),ht})}(Ie,Ze);if((0,ne.t)(Ie))return function(Ie,Ze){return new _.y($e=>{const ht=new De.w;return ht.add(Ze.schedule(()=>Ie.then(Le=>{ht.add(Ze.schedule(()=>{$e.next(Le),ht.add(Ze.schedule(()=>$e.complete()))}))},Le=>{ht.add(Ze.schedule(()=>$e.error(Le)))}))),ht})}(Ie,Ze);if((0,ye.z)(Ie))return(0,U.r)(Ie,Ze);if(function(Ie){return Ie&&"function"==typeof Ie[pe.hZ]}(Ie)||"string"==typeof Ie)return function(Ie,Ze){if(!Ie)throw new Error("Iterable cannot be null");return new _.y($e=>{const ht=new De.w;let Le;return ht.add(()=>{Le&&"function"==typeof Le.return&&Le.return()}),ht.add(Ze.schedule(()=>{Le=Ie[pe.hZ](),ht.add(Ze.schedule(function(){if($e.closed)return;let qe,ft;try{const _t=Le.next();qe=_t.value,ft=_t.done}catch(_t){return void $e.error(_t)}ft?$e.complete():($e.next(qe),this.schedule())}))})),ht})}(Ie,Ze)}throw new TypeError((null!==Ie&&typeof Ie||Ie)+" is not observable")}(Ie,Ze):Ie instanceof _.y?Ie:new _.y((0,R.s)(Ie))}},6693:(rn,et,H)=>{"use strict";H.d(et,{n:()=>Ue});var _=H(8891),R=H(5015),De=H(4087);function Ue(de,Te){return Te?(0,De.r)(de,Te):new _.y((0,R.V)(de))}},5917:(rn,et,H)=>{"use strict";H.d(et,{of:()=>Ue});var _=H(4869),R=H(6693),De=H(4087);function Ue(...de){let Te=de[de.length-1];return(0,_.K)(Te)?(de.pop(),(0,De.r)(de,Te)):(0,R.n)(de)}},5435:(rn,et,H)=>{"use strict";H.d(et,{h:()=>R});var _=H(7393);function R(de,Te){return function(pe){return pe.lift(new De(de,Te))}}class De{constructor(Te,U){this.predicate=Te,this.thisArg=U}call(Te,U){return U.subscribe(new Ue(Te,this.predicate,this.thisArg))}}class Ue extends _.L{constructor(Te,U,pe){super(Te),this.predicate=U,this.thisArg=pe,this.count=0}_next(Te){let U;try{U=this.predicate.call(this.thisArg,Te,this.count++)}catch(pe){return void this.destination.error(pe)}U&&this.destination.next(Te)}}},8002:(rn,et,H)=>{"use strict";H.d(et,{U:()=>R});var _=H(7393);function R(de,Te){return function(pe){if("function"!=typeof de)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return pe.lift(new De(de,Te))}}class De{constructor(Te,U){this.project=Te,this.thisArg=U}call(Te,U){return U.subscribe(new Ue(Te,this.project,this.thisArg))}}class Ue extends _.L{constructor(Te,U,pe){super(Te),this.project=U,this.count=0,this.thisArg=pe||this}_next(Te){let U;try{U=this.project.call(this.thisArg,Te,this.count++)}catch(pe){return void this.destination.error(pe)}this.destination.next(U)}}},3282:(rn,et,H)=>{"use strict";H.d(et,{J:()=>De});var _=H(9773),R=H(4487);function De(Ue=Number.POSITIVE_INFINITY){return(0,_.zg)(R.y,Ue)}},9773:(rn,et,H)=>{"use strict";H.d(et,{zg:()=>Ue});var _=H(8002),R=H(4402),De=H(5345);function Ue(pe,Ee,Z=Number.POSITIVE_INFINITY){return"function"==typeof Ee?ne=>ne.pipe(Ue((ye,se)=>(0,R.D)(pe(ye,se)).pipe((0,_.U)((fe,rt)=>Ee(ye,fe,se,rt))),Z)):("number"==typeof Ee&&(Z=Ee),ne=>ne.lift(new de(pe,Z)))}class de{constructor(Ee,Z=Number.POSITIVE_INFINITY){this.project=Ee,this.concurrent=Z}call(Ee,Z){return Z.subscribe(new Te(Ee,this.project,this.concurrent))}}class Te extends De.Ds{constructor(Ee,Z,ne=Number.POSITIVE_INFINITY){super(Ee),this.project=Z,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Ee){this.active<this.concurrent?this._tryNext(Ee):this.buffer.push(Ee)}_tryNext(Ee){let Z;const ne=this.index++;try{Z=this.project(Ee,ne)}catch(ye){return void this.destination.error(ye)}this.active++,this._innerSub(Z)}_innerSub(Ee){const Z=new De.IY(this),ne=this.destination;ne.add(Z);const ye=(0,De.ft)(Ee,Z);ye!==Z&&ne.add(ye)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Ee){this.destination.next(Ee)}notifyComplete(){const Ee=this.buffer;this.active--,Ee.length>0?this._next(Ee.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1307:(rn,et,H)=>{"use strict";H.d(et,{x:()=>R});var _=H(7393);function R(){return function(Te){return Te.lift(new De(Te))}}class De{constructor(Te){this.connectable=Te}call(Te,U){const{connectable:pe}=this;pe._refCount++;const Ee=new Ue(Te,pe),Z=U.subscribe(Ee);return Ee.closed||(Ee.connection=pe.connect()),Z}}class Ue extends _.L{constructor(Te,U){super(Te),this.connectable=U}_unsubscribe(){const{connectable:Te}=this;if(!Te)return void(this.connection=null);this.connectable=null;const U=Te._refCount;if(U<=0)return void(this.connection=null);if(Te._refCount=U-1,U>1)return void(this.connection=null);const{connection:pe}=this,Ee=Te._connection;this.connection=null,Ee&&(!pe||Ee===pe)&&Ee.unsubscribe()}}},3190:(rn,et,H)=>{"use strict";H.d(et,{w:()=>Ue});var _=H(8002),R=H(4402),De=H(5345);function Ue(U,pe){return"function"==typeof pe?Ee=>Ee.pipe(Ue((Z,ne)=>(0,R.D)(U(Z,ne)).pipe((0,_.U)((ye,se)=>pe(Z,ye,ne,se))))):Ee=>Ee.lift(new de(U))}class de{constructor(pe){this.project=pe}call(pe,Ee){return Ee.subscribe(new Te(pe,this.project))}}class Te extends De.Ds{constructor(pe,Ee){super(pe),this.project=Ee,this.index=0}_next(pe){let Ee;const Z=this.index++;try{Ee=this.project(pe,Z)}catch(ne){return void this.destination.error(ne)}this._innerSub(Ee)}_innerSub(pe){const Ee=this.innerSubscription;Ee&&Ee.unsubscribe();const Z=new De.IY(this),ne=this.destination;ne.add(Z),this.innerSubscription=(0,De.ft)(pe,Z),this.innerSubscription!==Z&&ne.add(this.innerSubscription)}_complete(){const{innerSubscription:pe}=this;(!pe||pe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(pe){this.destination.next(pe)}}},5257:(rn,et,H)=>{"use strict";H.d(et,{q:()=>Ue});var _=H(7393),R=H(7108),De=H(9193);function Ue(U){return pe=>0===U?(0,De.c)():pe.lift(new de(U))}class de{constructor(pe){if(this.total=pe,this.total<0)throw new R.W}call(pe,Ee){return Ee.subscribe(new Te(pe,this.total))}}class Te extends _.L{constructor(pe,Ee){super(pe),this.total=Ee,this.count=0}_next(pe){const Ee=this.total,Z=++this.count;Z<=Ee&&(this.destination.next(pe),Z===Ee&&(this.destination.complete(),this.unsubscribe()))}}},3342:(rn,et,H)=>{"use strict";H.d(et,{b:()=>Ue});var _=H(7393);function R(){}var De=H(9105);function Ue(U,pe,Ee){return function(ne){return ne.lift(new de(U,pe,Ee))}}class de{constructor(pe,Ee,Z){this.nextOrObserver=pe,this.error=Ee,this.complete=Z}call(pe,Ee){return Ee.subscribe(new Te(pe,this.nextOrObserver,this.error,this.complete))}}class Te extends _.L{constructor(pe,Ee,Z,ne){super(pe),this._tapNext=R,this._tapError=R,this._tapComplete=R,this._tapError=Z||R,this._tapComplete=ne||R,(0,De.m)(Ee)?(this._context=this,this._tapNext=Ee):Ee&&(this._context=Ee,this._tapNext=Ee.next||R,this._tapError=Ee.error||R,this._tapComplete=Ee.complete||R)}_next(pe){try{this._tapNext.call(this._context,pe)}catch(Ee){return void this.destination.error(Ee)}this.destination.next(pe)}_error(pe){try{this._tapError.call(this._context,pe)}catch(Ee){return void this.destination.error(Ee)}this.destination.error(pe)}_complete(){try{this._tapComplete.call(this._context)}catch(pe){return void this.destination.error(pe)}return this.destination.complete()}}},4087:(rn,et,H)=>{"use strict";H.d(et,{r:()=>De});var _=H(8891),R=H(5319);function De(Ue,de){return new _.y(Te=>{const U=new R.w;let pe=0;return U.add(de.schedule(function(){pe!==Ue.length?(Te.next(Ue[pe++]),Te.closed||U.add(this.schedule())):Te.complete()})),U})}},377:(rn,et,H)=>{"use strict";H.d(et,{hZ:()=>R});const R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(rn,et,H)=>{"use strict";H.d(et,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(rn,et,H)=>{"use strict";H.d(et,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(rn,et,H)=>{"use strict";H.d(et,{W:()=>R});const R=(()=>{function De(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return De.prototype=Object.create(Error.prototype),De})()},7971:(rn,et,H)=>{"use strict";H.d(et,{N:()=>R});const R=(()=>{function De(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return De.prototype=Object.create(Error.prototype),De})()},4449:(rn,et,H)=>{"use strict";function _(R){setTimeout(()=>{throw R},0)}H.d(et,{z:()=>_})},4487:(rn,et,H)=>{"use strict";function _(R){return R}H.d(et,{y:()=>_})},9796:(rn,et,H)=>{"use strict";H.d(et,{k:()=>_});const _=Array.isArray||(R=>R&&"number"==typeof R.length)},9489:(rn,et,H)=>{"use strict";H.d(et,{z:()=>_});const _=R=>R&&"number"==typeof R.length&&"function"!=typeof R},9105:(rn,et,H)=>{"use strict";function _(R){return"function"==typeof R}H.d(et,{m:()=>_})},1555:(rn,et,H)=>{"use strict";function _(R){return null!==R&&"object"==typeof R}H.d(et,{K:()=>_})},4072:(rn,et,H)=>{"use strict";function _(R){return!!R&&"function"!=typeof R.subscribe&&"function"==typeof R.then}H.d(et,{t:()=>_})},4869:(rn,et,H)=>{"use strict";function _(R){return R&&"function"==typeof R.schedule}H.d(et,{K:()=>_})},4022:(rn,et,H)=>{"use strict";H.d(et,{z:()=>R,U:()=>De});var _=H(4487);function R(...Ue){return De(Ue)}function De(Ue){return 0===Ue.length?_.y:1===Ue.length?Ue[0]:function(Te){return Ue.reduce((U,pe)=>pe(U),Te)}}},7444:(rn,et,H)=>{"use strict";H.d(et,{s:()=>ne});var _=H(5015),R=H(4449),Ue=H(377),Te=H(6554),pe=H(9489),Ee=H(4072),Z=H(1555);const ne=ye=>{if(ye&&"function"==typeof ye[Te.L])return(ye=>se=>{const fe=ye[Te.L]();if("function"!=typeof fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return fe.subscribe(se)})(ye);if((0,pe.z)(ye))return(0,_.V)(ye);if((0,Ee.t)(ye))return(ye=>se=>(ye.then(fe=>{se.closed||(se.next(fe),se.complete())},fe=>se.error(fe)).then(null,R.z),se))(ye);if(ye&&"function"==typeof ye[Ue.hZ])return(ye=>se=>{const fe=ye[Ue.hZ]();for(;;){let rt;try{rt=fe.next()}catch(Ie){return se.error(Ie),se}if(rt.done){se.complete();break}if(se.next(rt.value),se.closed)break}return"function"==typeof fe.return&&se.add(()=>{fe.return&&fe.return()}),se})(ye);{const fe=`You provided ${(0,Z.K)(ye)?"an invalid object":`'${ye}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(fe)}}},5015:(rn,et,H)=>{"use strict";H.d(et,{V:()=>_});const _=R=>De=>{for(let Ue=0,de=R.length;Ue<de&&!De.closed;Ue++)De.next(R[Ue]);De.complete()}},994:(rn,et,H)=>{"use strict";H.d(et,{r:()=>Z});var _=H(3083),R=H(639),De=H(3071),Ue=H(7556),de=H(2465),Te=H(8583);function U(ne,ye){1&ne&&(R.TgZ(0,"ion-buttons",3),R.TgZ(1,"ion-menu-button"),R._UZ(2,"ion-icon",4),R.qZA(),R.qZA())}function pe(ne,ye){1&ne&&(R.TgZ(0,"ion-buttons",3),R._UZ(1,"ion-back-button",5),R.qZA())}function Ee(ne,ye){if(1&ne){const se=R.EpF();R.TgZ(0,"ion-menu",6,7),R.TgZ(2,"ion-header"),R.TgZ(3,"ion-toolbar",0),R.TgZ(4,"ion-title"),R._uU(5,"User Information"),R.qZA(),R.qZA(),R.qZA(),R.TgZ(6,"ion-content"),R.TgZ(7,"div",8),R.TgZ(8,"div",9),R.TgZ(9,"div",10),R._UZ(10,"ion-icon",11),R.qZA(),R.TgZ(11,"div",12),R.TgZ(12,"div",13),R._uU(13),R.qZA(),R.TgZ(14,"div",14),R._uU(15),R.qZA(),R.qZA(),R.qZA(),R.TgZ(16,"div",15),R.TgZ(17,"ion-button",16),R.NdJ("click",function(){return R.CHM(se),R.oxw().navigateToSettings()}),R._uU(18,"App Settings"),R.qZA(),R.TgZ(19,"ion-button",17),R.NdJ("click",function(){return R.CHM(se),R.oxw().logout()}),R._uU(20,"Logout"),R.qZA(),R.qZA(),R.qZA(),R.qZA(),R.qZA()}if(2&ne){const se=R.oxw();R.xp6(13),R.Oqu(se.user.displayName),R.xp6(2),R.Oqu(se.user.email)}}let Z=(()=>{class ne{constructor(se,fe,rt){this.userSvc=se,this.auth=fe,this.router=rt}ngOnInit(){const se=this.userSvc.getUserDataFromLocalStorage();Object.keys(se).length>0&&(this.user=se)}logout(){this.auth.logout().then(()=>{this.router.navigateByUrl("/login",{replaceUrl:!0})})}navigateToSettings(){this.router.navigateByUrl("/home/settings"),this.menu.toggle()}}return ne.\u0275fac=function(se){return new(se||ne)(R.Y36(De.K),R.Y36(Ue.e),R.Y36(de.F0))},ne.\u0275cmp=R.Xpm({type:ne,selectors:[["app-nav"]],viewQuery:function(se,fe){if(1&se&&R.Gf(_.z0,5),2&se){let rt;R.iGM(rt=R.CRH())&&(fe.menu=rt.first)}},inputs:{pageTitle:"pageTitle",showBackButton:"showBackButton"},decls:7,vars:4,consts:[["color","primary"],["slot","start",4,"ngIf"],["side","start","menuId","first","contentId","main",4,"ngIf"],["slot","start"],["name","person-circle-outline","size","large"],["defaultHref","/home"],["side","start","menuId","first","contentId","main"],["menu",""],[1,"nav-content"],[1,"user-container"],[1,"avatar"],["name","person-circle-outline",1,"avatar-alt"],[1,"user-info"],[1,"display-name"],[1,"email"],[1,"button-container"],["color","primary",3,"click"],["color","danger",3,"click"]],template:function(se,fe){1&se&&(R.TgZ(0,"ion-header"),R.TgZ(1,"ion-toolbar",0),R.YNc(2,U,3,0,"ion-buttons",1),R.YNc(3,pe,2,0,"ion-buttons",1),R.TgZ(4,"ion-title"),R._uU(5),R.qZA(),R.qZA(),R.qZA(),R.YNc(6,Ee,21,2,"ion-menu",2)),2&se&&(R.xp6(2),R.Q6J("ngIf",fe.user&&!fe.showBackButton),R.xp6(1),R.Q6J("ngIf",fe.showBackButton),R.xp6(2),R.Oqu(fe.pageTitle),R.xp6(1),R.Q6J("ngIf",fe.user&&!fe.showBackButton))},directives:[_.Gu,_.sr,Te.O5,_.wd,_.Sm,_.fG,_.gu,_.oU,_.cs,_.z0,_.W2,_.YG],styles:[".nav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 60px);align-items:center}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]{padding:3rem 1rem;text-align:center}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .avatar-alt[_ngcontent-%COMP%]{font-size:5em}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-weight:500;font-size:1.5em}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.nav-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}.nav-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:last-child{margin-bottom:3rem}"]}),ne})()},6175:(rn,et,H)=>{"use strict";H.d(et,{q:()=>Ue});var _=H(8583),R=H(3083),De=H(639);let Ue=(()=>{class de{}return de.\u0275fac=function(U){return new(U||de)},de.\u0275mod=De.oAB({type:de}),de.\u0275inj=De.cJS({imports:[[_.ez,R.Pc]]}),de})()},8176:(rn,et,H)=>{"use strict";H.r(et),H.d(et,{HomeModule:()=>be});var _=H(8583),R=H(3083),De=H(2465),Ue=H(8239);const Te=(0,H(3796).fo)("TextToSpeech",{web:()=>H.e(322).then(H.bind(H,322)).then(Q=>new Q.TextToSpeechWeb)});"speechSynthesis"in window&&window;var U=H(639),pe=H(547),Ee=H(3071),Z=H(994),ne=H(665);function ye(Q,ae){if(1&Q&&(U.TgZ(0,"ion-select-option",7),U._uU(1),U.qZA()),2&Q){const oe=ae.$implicit;U.Q6J("value",oe.voiceURI),U.xp6(1),U.hij(" ",oe.default?"(Default) "+oe.name:oe.name," ")}}let se=(()=>{class Q{constructor(oe,ve,je){this.prefSvc=oe,this.userSvc=ve,this.platform=je,this.darkThemeEnabled=!1}ngOnInit(){this.isIOS=this.platform.is("ios"),this.userInfo=this.userSvc.getUserDataFromLocalStorage(),this.prefSvc.getPreferencesFromFirebase(this.userInfo.id).subscribe(oe=>{this.preferences=oe,this.loadSettings()}),Te.getSupportedVoices().then(oe=>{this.voices=oe.voices})}loadSettings(){var oe=this;return(0,Ue.Z)(function*(){console.log("load settings",oe.preferences),oe.preferences&&(oe.darkThemeEnabled="dark"==oe.preferences.theme,oe.minVolume=oe.preferences.minVolumeToPlayAudio||10,oe.speechRate=oe.preferences.speechRate||100,oe.selectedVoice=oe.isIOS&&oe.preferences.iosVoiceProfile?oe.preferences.iosVoiceProfile:oe.preferences.androidVoiceProfile?oe.preferences.androidVoiceProfile:"")})()}getDefaultVoice(){for(let oe of this.voices)if(oe.default||oe.lang.startsWith("en"))return oe.voiceURI;return this.voices[0].voiceURI}getEnglishVoices(oe){return oe.forEach((ve,je)=>{ve.index=je}),oe.filter(ve=>ve.lang.startsWith("en"))}getVoicesForWeb(){return(0,Ue.Z)(function*(){return new Promise(oe=>{void 0!==window.speechSynthesis.onvoiceschanged&&setTimeout(()=>{const je=window.speechSynthesis.getVoices();oe(je)},1e3)})})()}handleThemeChange(oe){var ve=this;return(0,Ue.Z)(function*(){oe.detail.checked?(ve.preferences.theme="dark",ve.darkThemeEnabled=!0):(ve.preferences.theme="light",ve.darkThemeEnabled=!1),document.body.setAttribute("color-theme",ve.preferences.theme)})()}handleSelectVoiceChange(oe){this.platform.is("ios")?this.preferences.iosVoiceProfile=oe.detail.value:this.preferences.androidVoiceProfile=oe.detail.value,this.selectedVoice=oe.detail.value}handleMinVolumeChange(oe){this.preferences.minVolumeToPlayAudio=oe.detail.value,this.minVolume=oe.detail.value}handleSpeechRateChange(oe){this.preferences.speechRate=oe.detail.value,this.speechRate=oe.detail.value}ngOnDestroy(){this.prefSvc.setLocalPreferences(this.preferences),this.prefSvc.savePreference(this.preferences,this.userInfo.id)}}return Q.\u0275fac=function(oe){return new(oe||Q)(U.Y36(pe.O),U.Y36(Ee.K),U.Y36(R.t4))},Q.\u0275cmp=U.Xpm({type:Q,selectors:[["app-settings"]],decls:20,vars:8,consts:[["pageTitle","Preferences",3,"showBackButton"],[1,"ion-padding-vertical"],["color","light","slot","end",3,"checked","ionChange"],["placeholder","Default",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["position","stacked"],["size","small",3,"value","pin","ionChange"],[3,"value"]],template:function(oe,ve){1&oe&&(U._UZ(0,"app-nav",0),U.TgZ(1,"ion-content"),U.TgZ(2,"ion-list",1),U.TgZ(3,"ion-item"),U.TgZ(4,"ion-label"),U._uU(5,"Enable Dark Mode"),U.qZA(),U.TgZ(6,"ion-toggle",2),U.NdJ("ionChange",function(vt){return ve.handleThemeChange(vt)}),U.qZA(),U.qZA(),U.TgZ(7,"ion-item"),U.TgZ(8,"ion-label"),U._uU(9,"Playback Voice"),U.qZA(),U.TgZ(10,"ion-select",3),U.NdJ("ngModelChange",function(vt){return ve.selectedVoice=vt})("ionChange",function(vt){return ve.handleSelectVoiceChange(vt)}),U.YNc(11,ye,2,2,"ion-select-option",4),U.qZA(),U.qZA(),U.TgZ(12,"ion-item"),U.TgZ(13,"ion-label",5),U._uU(14,"Minimum volume to play audio comments"),U.qZA(),U.TgZ(15,"ion-range",6),U.NdJ("ionChange",function(vt){return ve.handleMinVolumeChange(vt)}),U.qZA(),U.qZA(),U.TgZ(16,"ion-item"),U.TgZ(17,"ion-label",5),U._uU(18,"Speech Speed Rate"),U.qZA(),U.TgZ(19,"ion-range",6),U.NdJ("ionChange",function(vt){return ve.handleSpeechRateChange(vt)}),U.qZA(),U.qZA(),U.qZA(),U.qZA()),2&oe&&(U.Q6J("showBackButton",!0),U.xp6(6),U.Q6J("checked",ve.darkThemeEnabled),U.xp6(4),U.Q6J("ngModel",ve.selectedVoice),U.xp6(1),U.Q6J("ngForOf",ve.voices),U.xp6(4),U.Q6J("value",ve.minVolume)("pin",!0),U.xp6(4),U.Q6J("value",ve.speechRate)("pin",!0))},directives:[Z.r,R.W2,R.q_,R.Ie,R.Q$,R.ho,R.w,R.t9,R.QI,ne.JJ,ne.On,_.sg,R.I_,R.n0],styles:["ion-select[_ngcontent-%COMP%]{font-size:.85em}"]}),Q})();var fe=H(3792),rt=H(1796);function Ie(Q,ae){1&Q&&U._UZ(0,"ion-icon",3)}let Ze=(()=>{class Q{constructor(oe,ve,je){this.commentService=oe,this.alertController=ve,this.platform=je}ngOnInit(){this.comment.speak&&this.processMessage()}getTimeStamp(){if(null==this.comment.createdTime)return"Saving...";let oe=this.comment.createdTime.seconds,ve="";this.comment.updatedTime&&this.comment.textEdited&&(ve="Edited ",oe=this.comment.updatedTime.seconds);const je=new Date(1e3*oe),vt=je.getDate(),Oe=je.getMonth();return`${ve}${je.getFullYear()}-${vt}-${Oe+1} ${je.getHours()}:${je.getMinutes()}`}processMessage(){var oe=this;return(0,Ue.Z)(function*(){const ve=(yield(yield rt.u.get({key:"minVolumeToPlayAudio"})).value)||"10",je=yield(yield Te.getSystemVolume()).volume;console.log(je),je>parseInt(ve,10)?yield oe.speakMessage():yield oe.showAlertMessage(oe.comment.content),oe.completeSpeechMessage()})()}speakMessage(){var oe=this;return(0,Ue.Z)(function*(){const ve=(yield(yield rt.u.get({key:"speechRate"})).value)||"100";try{const je={text:oe.comment.content,lang:"en-US",rate:parseInt(ve,10)/100,pitch:1,volume:1,category:"ambient"};if(oe.platform.is("ios")){const vt=(yield(yield rt.u.get({key:"iosVoiceProfile"})).value)||"";je.voice=vt}else{const vt=(yield(yield rt.u.get({key:"androidVoiceProfile"})).value)||"";je.voice=vt}yield Te.speak(je)}catch(je){console.log(je)}})()}completeSpeechMessage(){var oe=this;return(0,Ue.Z)(function*(){const ve=Object.assign({},oe.comment);delete ve.id,oe.comment.id&&oe.commentService.updateComment(oe.comment.id,Object.assign(Object.assign({},ve),{speak:!1}),!1)})()}showAlertMessage(oe,ve=1e4){var je=this;return(0,Ue.Z)(function*(){const vt=yield je.alertController.create({header:"You received an important message",message:oe,buttons:["OK"]});yield vt.present();const Oe=setTimeout((0,Ue.Z)(function*(){yield vt.dismiss(),clearTimeout(Oe)}),ve)})()}}return Q.\u0275fac=function(oe){return new(oe||Q)(U.Y36(fe.O),U.Y36(R.Br),U.Y36(R.t4))},Q.\u0275cmp=U.Xpm({type:Q,selectors:[["app-comment"]],inputs:{comment:"comment",commentId:"commentId",textToSpeechAvailable:"textToSpeechAvailable"},decls:6,vars:4,consts:[[3,"ngClass"],[1,"metadata"],["name","volume-medium-outline",4,"ngIf"],["name","volume-medium-outline"]],template:function(oe,ve){1&oe&&(U.TgZ(0,"div",0),U._uU(1),U.TgZ(2,"div",1),U.YNc(3,Ie,1,0,"ion-icon",2),U.TgZ(4,"p"),U._uU(5),U.qZA(),U.qZA(),U.qZA()),2&oe&&(U.Q6J("ngClass",ve.comment.speak?"comment-item apply-dark-theme-background speak":"comment-item apply-dark-theme-background"),U.xp6(1),U.hij(" ",ve.comment.content," "),U.xp6(2),U.Q6J("ngIf",ve.comment.speak),U.xp6(2),U.Oqu(ve.getTimeStamp()))},directives:[_.mk,_.O5,R.gu],styles:[".comment-item[_ngcontent-%COMP%]{width:100%;background:#f1f1f1;padding:1rem 1em .5em;font-size:1em;border-radius:14px;white-space:pre-wrap}.comment-item.speak[_ngcontent-%COMP%]{background:#d3f2f5}.comment-item[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]{font-size:.75em;display:flex;align-items:center;justify-content:space-between;padding:0;margin:.5rem 0}.comment-item[_ngcontent-%COMP%]   .metadata[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{justify-self:flex-end;flex-grow:1;text-align:right;margin:0}"]}),Q})();const $e=["scrollContent"];function ht(Q,ae){1&Q&&(U.TgZ(0,"ion-item",12),U._UZ(1,"ion-spinner"),U.qZA())}function Le(Q,ae){1&Q&&(U.TgZ(0,"ion-item"),U._uU(1,"You don't have any comments yet "),U.qZA())}function qe(Q,ae){if(1&Q){const oe=U.EpF();U.TgZ(0,"ion-item-sliding",13),U.TgZ(1,"ion-item",13),U._UZ(2,"app-comment",14),U.qZA(),U.TgZ(3,"ion-item-options",15),U.TgZ(4,"ion-item-option",16),U.NdJ("click",function(){const vt=U.CHM(oe).$implicit;return U.oxw().editComment(vt)}),U._UZ(5,"ion-icon",17),U.qZA(),U.qZA(),U.qZA()}if(2&Q){const oe=ae.$implicit,ve=U.oxw();U.xp6(2),U.Q6J("textToSpeechAvailable",ve.textToSpeechSupport)("commentId",oe.id?oe.id:"")("comment",oe)}}function ft(Q,ae){if(1&Q){const oe=U.EpF();U.TgZ(0,"div",18),U.TgZ(1,"ion-button",19),U.NdJ("click",function(){return U.CHM(oe),U.oxw().saveComment()}),U._UZ(2,"ion-icon",20),U.qZA(),U.TgZ(3,"ion-button",19),U.NdJ("click",function(){return U.CHM(oe),U.oxw().saveComment(!0)}),U._UZ(4,"ion-icon",21),U.qZA(),U.qZA()}}function _t(Q,ae){if(1&Q){const oe=U.EpF();U.TgZ(0,"div",18),U.TgZ(1,"ion-button",22),U.NdJ("click",function(){return U.CHM(oe),U.oxw().saveComment()}),U._uU(2," Save "),U.qZA(),U.TgZ(3,"ion-button",22),U.NdJ("click",function(){return U.CHM(oe),U.oxw().cancelEdit()}),U._uU(4," Cancel "),U.qZA(),U.qZA()}}const g=[{path:"",component:(()=>{class Q{constructor(oe){this.cmtSvc=oe,this.showEditButtons=!1,this.showSpinner=!0,this.textToSpeechSupport=!1}ngOnInit(){this.cmtSvc.getComments().subscribe(oe=>{this.comments=oe,this.showSpinner=!1,this.scrollToBottomOnInit()})}scrollToBottomOnInit(){const oe=setTimeout(()=>{this.scrollContent.scrollToBottom(500),clearTimeout(oe)},300)}saveComment(oe=!1){if(null!==this.commentText&&""!==this.commentText){const ve={content:this.commentText,speak:oe};this.commentId&&null!==this.commentText?this.cmtSvc.updateComment(this.commentId,ve,!0):this.cmtSvc.addComment(ve),this.commentText="",this.commentId=null,this.showEditButtons=!1}}handleChange(oe){this.commentText=oe.target.innerHTML}editComment(oe){oe.id&&(this.commentId=oe.id,this.commentText=oe.content,this.showEditButtons=!0),this.slidingList.closeSlidingItems()}trackByFn(oe,ve){return ve.id?ve.id:""}cancelEdit(){this.commentId=null,this.commentText="",this.showEditButtons=!1}}return Q.\u0275fac=function(oe){return new(oe||Q)(U.Y36(fe.O))},Q.\u0275cmp=U.Xpm({type:Q,selectors:[["app-home"]],viewQuery:function(oe,ve){if(1&oe&&(U.Gf(R.q_,5),U.Gf($e,5)),2&oe){let je;U.iGM(je=U.CRH())&&(ve.slidingList=je.first),U.iGM(je=U.CRH())&&(ve.scrollContent=je.first)}},decls:15,vars:9,consts:[["pageTitle","Trail App"],["id","main",3,"scrollEvents","fullscreen"],["scrollContent",""],["slidingList",""],["class","ion-no-padding","lines","none",4,"ngIf"],[4,"ngIf"],["lines","none",4,"ngFor","ngForOf","ngForTrackBy"],["lines","none",1,"comment-spacer"],[1,"form-container"],[1,"form-row","apply-dark-theme-background"],["placeholder","Enter more information here...",3,"value","change"],["class","edit-btn-container",4,"ngIf"],["lines","none",1,"ion-no-padding"],["lines","none"],[3,"textToSpeechAvailable","commentId","comment"],["side","end"],[3,"click"],["slot","icon-only","name","pencil-outline"],[1,"edit-btn-container"],["shape","circle",3,"click"],["name","add-outline","size","large"],["name","volume-medium-outline"],["size","small",3,"click"]],template:function(oe,ve){1&oe&&(U._UZ(0,"app-nav",0),U.TgZ(1,"ion-content",1,2),U.TgZ(3,"ion-list",null,3),U.YNc(5,ht,2,0,"ion-item",4),U.YNc(6,Le,2,0,"ion-item",5),U.YNc(7,qe,6,3,"ion-item-sliding",6),U._UZ(8,"ion-item",7),U.qZA(),U.TgZ(9,"div",8),U.TgZ(10,"form"),U.TgZ(11,"div",9),U.TgZ(12,"ion-textarea",10),U.NdJ("change",function(vt){return ve.handleChange(vt)}),U.qZA(),U.YNc(13,ft,5,0,"div",11),U.YNc(14,_t,5,0,"div",11),U.qZA(),U.qZA(),U.qZA(),U.qZA()),2&oe&&(U.xp6(1),U.Q6J("scrollEvents",!0)("fullscreen",!0),U.xp6(4),U.Q6J("ngIf",ve.showSpinner),U.xp6(1),U.Q6J("ngIf",!(ve.comments&&0!=ve.comments.length||ve.showSpinner)),U.xp6(1),U.Q6J("ngForOf",ve.comments)("ngForTrackBy",ve.trackByFn),U.xp6(5),U.s9C("value",ve.commentText),U.xp6(1),U.Q6J("ngIf",!ve.showEditButtons),U.xp6(1),U.Q6J("ngIf",ve.showEditButtons))},directives:[Z.r,R.W2,R.q_,_.O5,_.sg,R.Ie,R.g2,R.j9,R.PQ,R.td,Ze,R.IK,R.u8,R.gu,R.YG],styles:[".nav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - 60px);align-items:center}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]{padding:3rem 1rem;text-align:center}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .avatar-alt[_ngcontent-%COMP%]{font-size:5em}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-weight:500;font-size:1.5em}.nav-content[_ngcontent-%COMP%]   .user-container[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.nav-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:75%;margin-bottom:3rem}.form-row[_ngcontent-%COMP%]{position:fixed;display:flex;padding:1.5em 1em;align-items:center;width:100%;bottom:0;background-color:#fff;z-index:999}.form-row[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-weight:500}ion-button[shape=circle][_ngcontent-%COMP%]{--border-radius: 50%;width:56px;height:56px}app-comment[_ngcontent-%COMP%]{width:100%}.scroll-container[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow-y:scroll}.edit-btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}ion-spinner[_ngcontent-%COMP%]{margin:2rem auto}ion-item-sliding[_ngcontent-%COMP%]{margin-bottom:1rem}ion-textarea[_ngcontent-%COMP%]{align-self:flex-start}ion-item[_ngcontent-%COMP%]:first-child{margin-top:1rem}.comment-spacer[_ngcontent-%COMP%]{height:220px}"]}),Q})()},{path:"settings",component:se}];let Ce=(()=>{class Q{}return Q.\u0275fac=function(oe){return new(oe||Q)},Q.\u0275mod=U.oAB({type:Q}),Q.\u0275inj=U.cJS({imports:[[De.Bz.forChild(g)],De.Bz]}),Q})();var Xe=H(6175);let be=(()=>{class Q{}return Q.\u0275fac=function(oe){return new(oe||Q)},Q.\u0275mod=U.oAB({type:Q}),Q.\u0275inj=U.cJS({imports:[[_.ez,R.Pc,Ce,Xe.q]]}),Q})()},7545:(rn,et,H)=>{"use strict";H.r(et),H.d(et,{LoginModule:()=>_t});var _=H(8583),R=H(3083),De=H(665),Ue=H(2465),de=H(8239),Te=H(5257),U=H(639),pe=H(7556),Ee=H(3071),Z=H(547),ne=H(994);function ye(xt,g){1&xt&&(U.TgZ(0,"ion-note",10),U._uU(1,"Email is invalid"),U.qZA())}function se(xt,g){1&xt&&(U.TgZ(0,"ion-note",10),U._uU(1,"Password needs to be 6 characters"),U.qZA())}function fe(xt,g){if(1&xt){const Ce=U.EpF();U.TgZ(0,"form",3),U.NdJ("ngSubmit",function(){return U.CHM(Ce),U.oxw().login()}),U.TgZ(1,"ion-item",4),U._UZ(2,"ion-input",5),U.YNc(3,ye,2,0,"ion-note",6),U.qZA(),U.TgZ(4,"ion-item",4),U._UZ(5,"ion-input",7),U.YNc(6,se,2,0,"ion-note",6),U.qZA(),U.TgZ(7,"ion-button",8),U._uU(8," Log in "),U.qZA(),U.TgZ(9,"ion-button",9),U.NdJ("click",function(){return U.CHM(Ce),U.oxw().createUser()}),U._uU(10,"Create account "),U.qZA(),U.qZA()}if(2&xt){const Ce=U.oxw();U.Q6J("formGroup",Ce.credentials),U.xp6(3),U.Q6J("ngIf",(Ce.email.dirty||Ce.email.touched)&&Ce.email.errors),U.xp6(3),U.Q6J("ngIf",(Ce.password.dirty||Ce.password.touched)&&Ce.password.errors)}}function rt(xt,g){1&xt&&(U.TgZ(0,"ion-note",10),U._uU(1,"Name is required"),U.qZA())}function Ie(xt,g){1&xt&&(U.TgZ(0,"ion-note",10),U._uU(1,"Email is invalid"),U.qZA())}function Ze(xt,g){1&xt&&(U.TgZ(0,"ion-note",10),U._uU(1,"Password needs to be 6 characters"),U.qZA())}function $e(xt,g){if(1&xt){const Ce=U.EpF();U.TgZ(0,"form",3),U.NdJ("ngSubmit",function(){return U.CHM(Ce),U.oxw().register()}),U.TgZ(1,"ion-item",4),U._UZ(2,"ion-input",11),U.YNc(3,rt,2,0,"ion-note",6),U.qZA(),U.TgZ(4,"ion-item",4),U._UZ(5,"ion-input",5),U.YNc(6,Ie,2,0,"ion-note",6),U.qZA(),U.TgZ(7,"ion-item",4),U._UZ(8,"ion-input",7),U.YNc(9,Ze,2,0,"ion-note",6),U.qZA(),U.TgZ(10,"ion-button",8),U._uU(11," Register "),U.qZA(),U.TgZ(12,"ion-button",12),U.NdJ("click",function(){return U.CHM(Ce),U.oxw().cancelRegister()}),U._uU(13," Cancel "),U.qZA(),U.qZA()}if(2&xt){const Ce=U.oxw();U.Q6J("formGroup",Ce.userRegistration),U.xp6(3),U.Q6J("ngIf",(Ce.name.dirty||Ce.name.touched)&&Ce.name.errors),U.xp6(3),U.Q6J("ngIf",(Ce.email.dirty||Ce.email.touched)&&Ce.email.errors),U.xp6(3),U.Q6J("ngIf",(Ce.password.dirty||Ce.password.touched)&&Ce.password.errors)}}const Le=[{path:"",component:(()=>{class xt{constructor(Ce,Xe,be,Q,ae,oe,ve){this.fb=Ce,this.loadingController=Xe,this.alertController=be,this.authService=Q,this.userService=ae,this.prefService=oe,this.router=ve,this.showRegister=!1}ngOnInit(){this.credentials=this.fb.group({email:["",[De.kI.required,De.kI.email]],password:["",[De.kI.required,De.kI.minLength(6)]]}),this.userRegistration=this.fb.group({name:["",[De.kI.required]],email:["",[De.kI.required,De.kI.email]],password:["",[De.kI.required,De.kI.minLength(6)]]})}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}get regEmail(){return this.userRegistration.get("email")}get regPassword(){return this.userRegistration.get("password")}get name(){return this.userRegistration.get("name")}login(){var Ce=this;return(0,de.Z)(function*(){const Xe=yield Ce.loadingController.create();yield Xe.present();const be=yield Ce.authService.login(Ce.credentials.value);yield Xe.dismiss(),be?(yield Ce.initializeUser(be),Ce.router.navigateByUrl("/home",{replaceUrl:!0})):Ce.showAlert("Login failed","Please try again!")})()}register(){var Ce=this;return(0,de.Z)(function*(){const Xe=yield Ce.loadingController.create();yield Xe.present();const be=yield Ce.authService.register(Ce.userRegistration.value);yield Xe.dismiss(),be?(yield Ce.initializeNewUser(be,Ce.userRegistration.value.name),Ce.router.navigateByUrl("/home",{replaceUrl:!0})):Ce.showAlert("Registration failed","Please try again!")})()}initializeUser(Ce){var Xe=this;return(0,de.Z)(function*(){return new Promise(be=>{const Q={id:Ce.user.uid,email:Ce.user.email};Xe.userService.getUserInfo(Q.id).pipe((0,Te.q)(1)).subscribe(function(){var ae=(0,de.Z)(function*(oe){Q.displayName=oe.displayName,Xe.userService.saveUserToLocalStorage(Q),yield Xe.prefService.setUserPrefs(Q.id),be()});return function(oe){return ae.apply(this,arguments)}}())})})()}initializeNewUser(Ce,Xe){var be=this;return(0,de.Z)(function*(){return new Promise(function(){var Q=(0,de.Z)(function*(ae){const oe={id:Ce.user.uid,email:Ce.user.email,displayName:Xe};be.userService.saveUserToLocalStorage(oe),yield be.userService.addUserInfo({displayName:Xe},oe),yield be.prefService.setDefaultPrefs(oe.id),ae()});return function(ae){return Q.apply(this,arguments)}}())})()}createUser(){this.showRegister=!0}showAlert(Ce,Xe){var be=this;return(0,de.Z)(function*(){yield(yield be.alertController.create({header:Ce,message:Xe,buttons:["OK"]})).present()})()}cancelRegister(){this.userRegistration.reset(),this.showRegister=!1}}return xt.\u0275fac=function(Ce){return new(Ce||xt)(U.Y36(De.qu),U.Y36(R.HT),U.Y36(R.Br),U.Y36(pe.e),U.Y36(Ee.K),U.Y36(Z.O),U.Y36(Ue.F0))},xt.\u0275cmp=U.Xpm({type:xt,selectors:[["app-login"]],decls:4,vars:2,consts:[["pageTitle","Login"],[1,"ion-padding"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["fill","solid",1,"ion-margin-bottom"],["type","email","placeholder","Email","formControlName","email"],["slot","error",4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],["size","medium","shape","round","color","primary","type","submit","expand","block",1,"ion-margin-bottom"],["size","medium","shape","round","type","button","expand","block","color","light",3,"click"],["slot","error"],["type","text","placeholder","Name","formControlName","name"],["size","medium","shape","round","color","primary","type","button","expand","block",1,"ion-margin-bottom",3,"click"]],template:function(Ce,Xe){1&Ce&&(U._UZ(0,"app-nav",0),U.TgZ(1,"ion-content",1),U.YNc(2,fe,11,3,"form",2),U.YNc(3,$e,14,4,"form",2),U.qZA()),2&Ce&&(U.xp6(2),U.Q6J("ngIf",!Xe.showRegister),U.xp6(1),U.Q6J("ngIf",Xe.showRegister))},directives:[ne.r,R.W2,_.O5,De._Y,De.JL,De.sg,R.Ie,R.pK,R.j9,De.JJ,De.u,R.YG,R.uN],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),xt})()}];let qe=(()=>{class xt{}return xt.\u0275fac=function(Ce){return new(Ce||xt)},xt.\u0275mod=U.oAB({type:xt}),xt.\u0275inj=U.cJS({imports:[[Ue.Bz.forChild(Le)],Ue.Bz]}),xt})();var ft=H(6175);let _t=(()=>{class xt{}return xt.\u0275fac=function(Ce){return new(Ce||xt)},xt.\u0275mod=U.oAB({type:xt}),xt.\u0275inj=U.cJS({providers:[],imports:[[_.ez,De.u5,De.UX,R.Pc,qe,ft.q]]}),xt})()},7556:(rn,et,H)=>{"use strict";H.d(et,{e:()=>de});var _=H(8239),R=H(196),De=H(1796),Ue=H(639);let de=(()=>{class Te{constructor(pe){this.auth=pe}register({email:pe,password:Ee}){var Z=this;return(0,_.Z)(function*(){try{return yield(0,R.Xb)(Z.auth,pe,Ee)}catch(ne){return null}})()}login({email:pe,password:Ee}){var Z=this;return(0,_.Z)(function*(){try{return yield(0,R.e5)(Z.auth,pe,Ee)}catch(ne){return null}})()}getCurrentUser(){var pe=this;return(0,_.Z)(function*(){return pe.auth.currentUser})()}logout(){var pe=this;return(0,_.Z)(function*(){return localStorage.clear(),yield De.u.clear(),(0,R.w7)(pe.auth)})()}}return Te.\u0275fac=function(pe){return new(pe||Te)(Ue.LFG(R.gx))},Te.\u0275prov=Ue.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},3792:(rn,et,H)=>{"use strict";H.d(et,{O:()=>Te});var _=H(1186),R=H(1304),De=H(9526),Ue=H(639),de=H(3071);let Te=(()=>{class U{constructor(Ee,Z){this.firestore=Ee,this.userSvc=Z,this.user=this.userSvc.getUserDataFromLocalStorage()}getComments(){const Ee=(0,R.hJ)(this.firestore,`${this.user.id}/${De.y$}`),Z=(0,_.IO)(Ee,(0,_.Xo)("createdTime","asc"));return(0,_.BS)(Z,{idField:"id"})}addComment(Ee){const Z=(0,R.hJ)(this.firestore,`${this.user.id}/${De.y$}`);return(0,R.ET)(Z,Object.assign(Object.assign({},Ee),{createdTime:R.EK.fromDate(new Date)}))}updateComment(Ee,Z,ne=!1){const ye=(0,R.JU)(this.firestore,`${this.user.id}/${De.y$}/${Ee}`);(0,R.r7)(ye,Object.assign(Object.assign({},Z),{textEdited:ne,updatedTime:R.EK.fromDate(new Date)}))}}return U.\u0275fac=function(Ee){return new(Ee||U)(Ue.LFG(_.gg),Ue.LFG(de.K))},U.\u0275prov=Ue.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},547:(rn,et,H)=>{"use strict";H.d(et,{O:()=>pe});var _=H(8239),R=H(1186),De=H(1796),Ue=H(5257),de=H(9526),Te=H(639),U=H(3071);let pe=(()=>{class Ee{constructor(ne,ye){this.firestore=ne,this.DEFAULT_USER_PREFS={minVolumeToPlayAudio:10,theme:"light",iosVoiceProfile:null,androidVoiceProfile:null,speechRate:100},this.user=ye.getUserDataFromLocalStorage()}getPreferencesFromFirebase(ne=this.user.id){const ye=(0,R.JU)(this.firestore,`${ne}/${de.LK}`);return(0,R._1)(ye)}savePreference(ne,ye=this.user.id){const se=(0,R.JU)(this.firestore,`${ye}/${de.LK}`);return(0,R.pl)(se,ne)}setUserPrefs(ne=this.user.id){var ye=this;return new Promise(se=>{this.getPreferencesFromFirebase(ne).pipe((0,Ue.q)(1)).subscribe(function(){var fe=(0,_.Z)(function*(rt){rt?(ye.preferences=rt,ye.setLocalPreferences(ye.preferences),ye.loadPreferences()):yield ye.setDefaultPrefs(ne),se()});return function(rt){return fe.apply(this,arguments)}}())})}setDefaultPrefs(ne=this.user.id){return new Promise(ye=>{this.preferences=this.DEFAULT_USER_PREFS,this.savePreference(this.preferences,ne),this.setLocalPreferences(this.preferences),this.loadPreferences(),ye()})}setLocalPreferences(ne){return(0,_.Z)(function*(){for(const[ye,se]of Object.entries(ne))"string"==typeof se&&(yield De.u.set({key:ye,value:se})),"object"==typeof se&&null!==se&&(yield De.u.set({key:ye,value:JSON.stringify(se)})),"number"==typeof se&&(yield De.u.set({key:ye,value:se.toString(10)})),null===se&&(yield De.u.set({key:ye,value:""}))})()}loadPreferences(){const{theme:ne}=this.preferences;document.body.setAttribute("color-theme",ne||"")}}return Ee.\u0275fac=function(ne){return new(ne||Ee)(Te.LFG(R.gg),Te.LFG(U.K))},Ee.\u0275prov=Te.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})()},3071:(rn,et,H)=>{"use strict";H.d(et,{K:()=>U});var _=H(8239),R=H(1186),De=H(1304),Ue=H(9526),de=H(639),Te=H(7556);let U=(()=>{class pe{constructor(Z,ne){this.firestore=Z,this.auth=ne,this.user=this.getUserDataFromLocalStorage(),0==Object.keys(this.user).length&&this.getCurrentUser()}getUserInfo(Z=this.user.id){const ne=(0,De.JU)(this.firestore,`${Z}/${Ue.EY}`);return(0,R._1)(ne)}addUserInfo(Z,ne=this.user){this.user=ne;const ye=(0,De.JU)(this.firestore,`${ne.id}/${Ue.EY}`);return(0,De.pl)(ye,Z)}updateUserInfo(Z){const ne=(0,De.JU)(this.firestore,`${this.user.id}/${Ue.EY}`);return(0,De.pl)(ne,Z)}saveUserToLocalStorage(Z){localStorage.setItem("userData",JSON.stringify(Z))}getUserDataFromLocalStorage(){return JSON.parse(localStorage.getItem("userData")||"{}")}getCurrentUser(){var Z=this;return(0,_.Z)(function*(){Z.user=yield Z.auth.getCurrentUser()})()}}return pe.\u0275fac=function(Z){return new(Z||pe)(de.LFG(R.gg),de.LFG(Te.e))},pe.\u0275prov=de.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},9526:(rn,et,H)=>{"use strict";H.d(et,{y$:()=>_,LK:()=>R,EY:()=>De});const _="comments/comment",R="user_prefs",De="user_info"},8471:(rn,et,H)=>{"use strict";var _=H(8583),R=H(639);class De extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ue extends De{static makeCurrent(){(0,_.HT)(new Ue)}onAndCancel(Fe,_e,st){return Fe.addEventListener(_e,st,!1),()=>{Fe.removeEventListener(_e,st,!1)}}dispatchEvent(Fe,_e){Fe.dispatchEvent(_e)}remove(Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)}createElement(Fe,_e){return(_e=_e||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,_e){return"window"===_e?window:"document"===_e?Fe:"body"===_e?Fe.body:null}getBaseHref(Fe){const _e=(de=de||document.querySelector("base"),de?de.getAttribute("href"):null);return null==_e?null:function(Me){U=U||document.createElement("a"),U.setAttribute("href",Me);const Fe=U.pathname;return"/"===Fe.charAt(0)?Fe:`/${Fe}`}(_e)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,_.Mx)(document.cookie,Fe)}}let U,de=null;const Ee=new R.OlP("TRANSITION_ID"),ne=[{provide:R.ip1,useFactory:function(Me,Fe,_e){return()=>{_e.get(R.CZH).donePromise.then(()=>{const st=(0,_.q)(),Ct=Fe.querySelectorAll(`style[ng-transition="${Me}"]`);for(let An=0;An<Ct.length;An++)st.remove(Ct[An])})}},deps:[Ee,_.K0,R.zs3],multi:!0}];class ye{static init(){(0,R.VLi)(new ye)}addToWindow(Fe){R.dqk.getAngularTestability=(st,Ct=!0)=>{const An=Fe.findTestabilityInTree(st,Ct);if(null==An)throw new Error("Could not find testability for element.");return An},R.dqk.getAllAngularTestabilities=()=>Fe.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>Fe.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(st=>{const Ct=R.dqk.getAllAngularTestabilities();let An=Ct.length,Gn=!1;const Or=function(Ti){Gn=Gn||Ti,An--,0==An&&st(Gn)};Ct.forEach(function(Ti){Ti.whenStable(Or)})})}findTestabilityInTree(Fe,_e,st){if(null==_e)return null;const Ct=Fe.getTestability(_e);return null!=Ct?Ct:st?(0,_.q)().isShadowRoot(_e)?this.findTestabilityInTree(Fe,_e.host,!0):this.findTestabilityInTree(Fe,_e.parentElement,!0):null}}let se=(()=>{class Me{build(){return new XMLHttpRequest}}return Me.\u0275fac=function(_e){return new(_e||Me)},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const Q=new R.OlP("EventManagerPlugins");let ae=(()=>{class Me{constructor(_e,st){this._zone=st,this._eventNameToPlugin=new Map,_e.forEach(Ct=>Ct.manager=this),this._plugins=_e.slice().reverse()}addEventListener(_e,st,Ct){return this._findPluginFor(st).addEventListener(_e,st,Ct)}addGlobalEventListener(_e,st,Ct){return this._findPluginFor(st).addGlobalEventListener(_e,st,Ct)}getZone(){return this._zone}_findPluginFor(_e){const st=this._eventNameToPlugin.get(_e);if(st)return st;const Ct=this._plugins;for(let An=0;An<Ct.length;An++){const Gn=Ct[An];if(Gn.supports(_e))return this._eventNameToPlugin.set(_e,Gn),Gn}throw new Error(`No event manager plugin found for event ${_e}`)}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.LFG(Q),R.LFG(R.R0b))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();class oe{constructor(Fe){this._doc=Fe}addGlobalEventListener(Fe,_e,st){const Ct=(0,_.q)().getGlobalEventTarget(this._doc,Fe);if(!Ct)throw new Error(`Unsupported event target ${Ct} for event ${_e}`);return this.addEventListener(Ct,_e,st)}}let ve=(()=>{class Me{constructor(){this._stylesSet=new Set}addStyles(_e){const st=new Set;_e.forEach(Ct=>{this._stylesSet.has(Ct)||(this._stylesSet.add(Ct),st.add(Ct))}),this.onStylesAdded(st)}onStylesAdded(_e){}getAllStyles(){return Array.from(this._stylesSet)}}return Me.\u0275fac=function(_e){return new(_e||Me)},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),je=(()=>{class Me extends ve{constructor(_e){super(),this._doc=_e,this._hostNodes=new Map,this._hostNodes.set(_e.head,[])}_addStylesToHost(_e,st,Ct){_e.forEach(An=>{const Gn=this._doc.createElement("style");Gn.textContent=An,Ct.push(st.appendChild(Gn))})}addHost(_e){const st=[];this._addStylesToHost(this._stylesSet,_e,st),this._hostNodes.set(_e,st)}removeHost(_e){const st=this._hostNodes.get(_e);st&&st.forEach(vt),this._hostNodes.delete(_e)}onStylesAdded(_e){this._hostNodes.forEach((st,Ct)=>{this._addStylesToHost(_e,Ct,st)})}ngOnDestroy(){this._hostNodes.forEach(_e=>_e.forEach(vt))}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.LFG(_.K0))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();function vt(Me){(0,_.q)().remove(Me)}const Oe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},He=/%COMP%/g;function Nt(Me,Fe,_e){for(let st=0;st<Fe.length;st++){let Ct=Fe[st];Array.isArray(Ct)?Nt(Me,Ct,_e):(Ct=Ct.replace(He,Me),_e.push(Ct))}return _e}function $n(Me){return Fe=>{if("__ngUnwrap__"===Fe)return Me;!1===Me(Fe)&&(Fe.preventDefault(),Fe.returnValue=!1)}}let Xt=(()=>{class Me{constructor(_e,st,Ct){this.eventManager=_e,this.sharedStylesHost=st,this.appId=Ct,this.rendererByCompId=new Map,this.defaultRenderer=new _n(_e)}createRenderer(_e,st){if(!_e||!st)return this.defaultRenderer;switch(st.encapsulation){case R.ifc.Emulated:{let Ct=this.rendererByCompId.get(st.id);return Ct||(Ct=new gt(this.eventManager,this.sharedStylesHost,st,this.appId),this.rendererByCompId.set(st.id,Ct)),Ct.applyToHost(_e),Ct}case 1:case R.ifc.ShadowDom:return new Zt(this.eventManager,this.sharedStylesHost,_e,st);default:if(!this.rendererByCompId.has(st.id)){const Ct=Nt(st.id,st.styles,[]);this.sharedStylesHost.addStyles(Ct),this.rendererByCompId.set(st.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.LFG(ae),R.LFG(je),R.LFG(R.AFp))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();class _n{constructor(Fe){this.eventManager=Fe,this.data=Object.create(null)}destroy(){}createElement(Fe,_e){return _e?document.createElementNS(Oe[_e]||_e,Fe):document.createElement(Fe)}createComment(Fe){return document.createComment(Fe)}createText(Fe){return document.createTextNode(Fe)}appendChild(Fe,_e){Fe.appendChild(_e)}insertBefore(Fe,_e,st){Fe&&Fe.insertBefore(_e,st)}removeChild(Fe,_e){Fe&&Fe.removeChild(_e)}selectRootElement(Fe,_e){let st="string"==typeof Fe?document.querySelector(Fe):Fe;if(!st)throw new Error(`The selector "${Fe}" did not match any elements`);return _e||(st.textContent=""),st}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,_e,st,Ct){if(Ct){_e=Ct+":"+_e;const An=Oe[Ct];An?Fe.setAttributeNS(An,_e,st):Fe.setAttribute(_e,st)}else Fe.setAttribute(_e,st)}removeAttribute(Fe,_e,st){if(st){const Ct=Oe[st];Ct?Fe.removeAttributeNS(Ct,_e):Fe.removeAttribute(`${st}:${_e}`)}else Fe.removeAttribute(_e)}addClass(Fe,_e){Fe.classList.add(_e)}removeClass(Fe,_e){Fe.classList.remove(_e)}setStyle(Fe,_e,st,Ct){Ct&(R.JOm.DashCase|R.JOm.Important)?Fe.style.setProperty(_e,st,Ct&R.JOm.Important?"important":""):Fe.style[_e]=st}removeStyle(Fe,_e,st){st&R.JOm.DashCase?Fe.style.removeProperty(_e):Fe.style[_e]=""}setProperty(Fe,_e,st){Fe[_e]=st}setValue(Fe,_e){Fe.nodeValue=_e}listen(Fe,_e,st){return"string"==typeof Fe?this.eventManager.addGlobalEventListener(Fe,_e,$n(st)):this.eventManager.addEventListener(Fe,_e,$n(st))}}class gt extends _n{constructor(Fe,_e,st,Ct){super(Fe),this.component=st;const An=Nt(Ct+"-"+st.id,st.styles,[]);_e.addStyles(An),this.contentAttr="_ngcontent-%COMP%".replace(He,Ct+"-"+st.id),this.hostAttr="_nghost-%COMP%".replace(He,Ct+"-"+st.id)}applyToHost(Fe){super.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,_e){const st=super.createElement(Fe,_e);return super.setAttribute(st,this.contentAttr,""),st}}class Zt extends _n{constructor(Fe,_e,st,Ct){super(Fe),this.sharedStylesHost=_e,this.hostEl=st,this.shadowRoot=st.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const An=Nt(Ct.id,Ct.styles,[]);for(let Gn=0;Gn<An.length;Gn++){const Or=document.createElement("style");Or.textContent=An[Gn],this.shadowRoot.appendChild(Or)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Fe,_e){return super.appendChild(this.nodeOrShadowRoot(Fe),_e)}insertBefore(Fe,_e,st){return super.insertBefore(this.nodeOrShadowRoot(Fe),_e,st)}removeChild(Fe,_e){return super.removeChild(this.nodeOrShadowRoot(Fe),_e)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}}let Mn=(()=>{class Me extends oe{constructor(_e){super(_e)}supports(_e){return!0}addEventListener(_e,st,Ct){return _e.addEventListener(st,Ct,!1),()=>this.removeEventListener(_e,st,Ct)}removeEventListener(_e,st,Ct){return _e.removeEventListener(st,Ct)}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.LFG(_.K0))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const Ln=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},er={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jr={alt:Me=>Me.altKey,control:Me=>Me.ctrlKey,meta:Me=>Me.metaKey,shift:Me=>Me.shiftKey};let Dn=(()=>{class Me extends oe{constructor(_e){super(_e)}supports(_e){return null!=Me.parseEventName(_e)}addEventListener(_e,st,Ct){const An=Me.parseEventName(st),Gn=Me.eventCallback(An.fullKey,Ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(_e,An.domEventName,Gn))}static parseEventName(_e){const st=_e.toLowerCase().split("."),Ct=st.shift();if(0===st.length||"keydown"!==Ct&&"keyup"!==Ct)return null;const An=Me._normalizeKey(st.pop());let Gn="";if(Ln.forEach(Ti=>{const es=st.indexOf(Ti);es>-1&&(st.splice(es,1),Gn+=Ti+".")}),Gn+=An,0!=st.length||0===An.length)return null;const Or={};return Or.domEventName=Ct,Or.fullKey=Gn,Or}static getEventFullKey(_e){let st="",Ct=function(Me){let Fe=Me.key;if(null==Fe){if(Fe=Me.keyIdentifier,null==Fe)return"Unidentified";Fe.startsWith("U+")&&(Fe=String.fromCharCode(parseInt(Fe.substring(2),16)),3===Me.location&&er.hasOwnProperty(Fe)&&(Fe=er[Fe]))}return Vt[Fe]||Fe}(_e);return Ct=Ct.toLowerCase()," "===Ct?Ct="space":"."===Ct&&(Ct="dot"),Ln.forEach(An=>{An!=Ct&&jr[An](_e)&&(st+=An+".")}),st+=Ct,st}static eventCallback(_e,st,Ct){return An=>{Me.getEventFullKey(An)===_e&&Ct.runGuarded(()=>st(An))}}static _normalizeKey(_e){return"esc"===_e?"escape":_e}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.LFG(_.K0))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const Tt=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:_.bD},{provide:R.g9A,useValue:function(){Ue.makeCurrent(),ye.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,R.RDi)(document),document},deps:[]}]),ot=[[],{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function(){return new R.qLn},deps:[]},{provide:Q,useClass:Mn,multi:!0,deps:[_.K0,R.R0b,R.Lbi]},{provide:Q,useClass:Dn,multi:!0,deps:[_.K0]},[],{provide:Xt,useClass:Xt,deps:[ae,je,R.AFp]},{provide:R.FYo,useExisting:Xt},{provide:ve,useExisting:je},{provide:je,useClass:je,deps:[_.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:ae,useClass:ae,deps:[Q,R.R0b]},{provide:_.JF,useClass:se,deps:[]},[]];let Jt=(()=>{class Me{constructor(_e){if(_e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(_e){return{ngModule:Me,providers:[{provide:R.AFp,useValue:_e.appId},{provide:Ee,useExisting:R.AFp},ne]}}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.LFG(Me,12))},Me.\u0275mod=R.oAB({type:Me}),Me.\u0275inj=R.cJS({providers:ot,imports:[_.ez,R.hGG]}),Me})();"undefined"!=typeof window&&window;var br=H(2465),Pr=H(665),Zn=H(3083),gi=H(4022),Er=H(8002),Vr=H(5257),oi=H(196);H(2329);const hi=(0,Er.U)(Me=>!!Me);let vi=(()=>{class Me{constructor(_e,st){this.router=_e,this.auth=st,this.canActivate=(Ct,An)=>{const Gn=Ct.data.authGuardPipe||(()=>hi);return(0,oi.EA)(this.auth).pipe((0,Vr.q)(1),Gn(Ct,An),(0,Er.U)(Or=>"boolean"==typeof Or?Or:Array.isArray(Or)?this.router.createUrlTree(Or):this.router.parseUrl(Or)))}}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.LFG(br.F0),R.LFG(oi.gx))},Me.\u0275prov=R.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"any"}),Me})();const Qe=Me=>({canActivate:[vi],data:{authGuardPipe:Me}}),hn=[Object.assign({path:"",loadChildren:()=>Promise.resolve().then(H.bind(H,7545)).then(Me=>Me.LoginModule)},Qe(()=>{return Me=["home"],(0,gi.z)(hi,(0,Er.U)(Fe=>Fe&&Me||!0));var Me})),Object.assign({path:"home",loadChildren:()=>Promise.resolve().then(H.bind(H,8176)).then(Me=>Me.HomeModule)},Qe(()=>{return Me=[""],(0,gi.z)(hi,(0,Er.U)(Fe=>Fe||Me));var Me})),{path:"**",redirectTo:"",pathMatch:"full"}];let bn=(()=>{class Me{}return Me.\u0275fac=function(_e){return new(_e||Me)},Me.\u0275mod=R.oAB({type:Me}),Me.\u0275inj=R.cJS({imports:[[br.Bz.forRoot(hn,{preloadingStrategy:br.wm})],br.Bz]}),Me})();var Nn=H(8239),Fn=H(127),ti=H(8384);const Mr_firebase={projectId:"trail-app-aa3ab",appId:"1:274367012522:web:30b70ab84769c87aca3ad3",databaseURL:"https://trail-app-aa3ab-default-rtdb.firebaseio.com",storageBucket:"trail-app-aa3ab.appspot.com",apiKey:"AIzaSyBVh_gUX8-vRECj9rPbevw38_FAyV6e12s",authDomain:"trail-app-aa3ab.firebaseapp.com",messagingSenderId:"274367012522"};var Gr=H(9311),fi=H(547),Ui=H(3071);let Kr=(()=>{class Me{constructor(_e,st,Ct){this.platform=_e,this.prefService=st,this.userService=Ct,this.title="trailApp",this.loadSettings(),this.initializeFirebase(),this.user=this.userService.getUserDataFromLocalStorage()}loadSettings(){var _e=this;return(0,Nn.Z)(function*(){_e.platform.ready().then((0,Nn.Z)(function*(){Object.keys(_e.user).length>0&&(yield _e.prefService.setUserPrefs())}))})()}initializeFirebase(){const _e=(0,Fn.ZF)(Mr_firebase);ti.dV.isNativePlatform()&&(0,Gr.uJ)(_e,{persistence:Gr.AP})}}return Me.\u0275fac=function(_e){return new(_e||Me)(R.Y36(Zn.t4),R.Y36(fi.O),R.Y36(Ui.K))},Me.\u0275cmp=R.Xpm({type:Me,selectors:[["app-root"]],decls:2,vars:0,template:function(_e,st){1&_e&&(R.TgZ(0,"ion-app"),R._UZ(1,"ion-router-outlet"),R.qZA())},directives:[Zn.dr,Zn.jP],styles:[""]}),Me})();var ni=H(8176),_i=H(1186),Qi=H(1952),Es=H(7545),Ji=H(3792),Is=H(6175);let Cs=(()=>{class Me{}return Me.\u0275fac=function(_e){return new(_e||Me)},Me.\u0275mod=R.oAB({type:Me}),Me.\u0275inj=R.cJS({imports:[[_.ez,Is.q,Zn.Pc,Pr.u5,Pr.UX]]}),Me})();var ws=H(2491);let Ds=(()=>{class Me{}return Me.\u0275fac=function(_e){return new(_e||Me)},Me.\u0275mod=R.oAB({type:Me,bootstrap:[Kr]}),Me.\u0275inj=R.cJS({providers:[{provide:br.wN,useClass:Zn.r4},Ui.K,Ji.O],imports:[[Jt,Zn.Pc.forRoot(),bn,ni.HomeModule,Es.LoginModule,Pr.UX,Is.q,Cs,Pr.u5,(0,Fn.hX)(()=>(0,Fn.ZF)(Mr_firebase)),(0,_i.Cm)(()=>{const Fe=(0,_i.ad)();return(0,ws.ST)(Fe),Fe}),(0,oi.AR)(()=>(0,oi.uJ)((0,Fn.Mq)(),{persistence:Qi.AP}))]]}),Me})();Tt().bootstrapModule(Ds).catch(Me=>console.error(Me))},863:(rn,et,H)=>{var _={"./ion-action-sheet.entry.js":[7321,8592,7321],"./ion-alert.entry.js":[6108,8592,6108],"./ion-app_8.entry.js":[1489,8592,1489],"./ion-avatar_3.entry.js":[305,8592,305],"./ion-back-button.entry.js":[5830,8592,5830],"./ion-backdrop.entry.js":[7757,7757],"./ion-button_2.entry.js":[392,8592,392],"./ion-card_5.entry.js":[6911,8592,6911],"./ion-checkbox.entry.js":[937,8592,937],"./ion-chip.entry.js":[8695,8592,8695],"./ion-col_3.entry.js":[6034,6034],"./ion-datetime_3.entry.js":[8837,8592,8837],"./ion-fab_3.entry.js":[4195,8592,4195],"./ion-img.entry.js":[1709,1709],"./ion-infinite-scroll_2.entry.js":[5931,8592,3087],"./ion-input.entry.js":[4513,8592,4513],"./ion-item-option_3.entry.js":[8056,8592,8056],"./ion-item_8.entry.js":[862,8592,862],"./ion-loading.entry.js":[7509,8592,7509],"./ion-menu_3.entry.js":[6272,8592,6030],"./ion-modal.entry.js":[1855,8592,1855],"./ion-nav_2.entry.js":[8708,8592,8708],"./ion-popover.entry.js":[3527,8592,3527],"./ion-progress-bar.entry.js":[4694,8592,4694],"./ion-radio_2.entry.js":[9222,8592,9222],"./ion-range.entry.js":[5277,8592,5277],"./ion-refresher_2.entry.js":[9921,8592,9921],"./ion-reorder_2.entry.js":[3122,8592,3122],"./ion-ripple-effect.entry.js":[1602,1602],"./ion-route_4.entry.js":[5174,8592,5174],"./ion-searchbar.entry.js":[7895,8592,7895],"./ion-segment_2.entry.js":[6164,8592,6164],"./ion-select_3.entry.js":[592,8592,592],"./ion-slide_2.entry.js":[7162,7162],"./ion-spinner.entry.js":[1374,8592,1374],"./ion-split-pane.entry.js":[7896,7896],"./ion-tab-bar_2.entry.js":[5043,8592,5043],"./ion-tab_2.entry.js":[7802,8592,7802],"./ion-text.entry.js":[9072,8592,9072],"./ion-textarea.entry.js":[2191,8592,2191],"./ion-toast.entry.js":[801,8592,801],"./ion-toggle.entry.js":[7110,8592,7110],"./ion-virtual-scroll.entry.js":[431,431]};function R(De){if(!H.o(_,De))return Promise.resolve().then(()=>{var Te=new Error("Cannot find module '"+De+"'");throw Te.code="MODULE_NOT_FOUND",Te});var Ue=_[De],de=Ue[0];return Promise.all(Ue.slice(1).map(H.e)).then(()=>H(de))}R.keys=()=>Object.keys(_),R.id=863,rn.exports=R},8026:(rn,et,H)=>{"use strict";H.d(et,{Jn:()=>xr,qX:()=>Nt,Xd:()=>sn,Mq:()=>gt,C6:()=>Zt,ZF:()=>Yn,KN:()=>Vn});var _=H(8239),R=H(3910),De=H(5422),Ue=H(3854),de=H(2268);class Te{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map($t=>{if(function(Gt){const it=Gt.getComponent();return"VERSION"===(null==it?void 0:it.type)}($t)){const Ot=$t.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter($t=>$t).join(" ")}}const pe="@firebase/app",Z=new De.Yd("@firebase/app"),He="[DEFAULT]",Ge={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ze=new Map,tt=new Map;function It(Gt,it){try{Gt.container.addComponent(it)}catch($t){Z.debug(`Component ${it.name} failed to register with FirebaseApp ${Gt.name}`,$t)}}function sn(Gt){const it=Gt.name;if(tt.has(it))return Z.debug(`There were multiple attempts to register component ${it}.`),!1;tt.set(it,Gt);for(const $t of ze.values())It($t,Gt);return!0}function Nt(Gt,it){const $t=Gt.container.getProvider("heartbeat").getImmediate({optional:!0});return $t&&$t.triggerHeartbeat(),Gt.container.getProvider(it)}const _n=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xn{constructor(it,$t,Ot){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},$t),this._name=$t.name,this._automaticDataCollectionEnabled=$t.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const xr="9.13.0";function Yn(Gt,it={}){let $t=Gt;"object"!=typeof it&&(it={name:it});const Ot=Object.assign({name:He,automaticDataCollectionEnabled:!1},it),Cn=Ot.name;if("string"!=typeof Cn||!Cn)throw _n.create("bad-app-name",{appName:String(Cn)});if($t||($t=(0,Ue.aH)()),!$t)throw _n.create("no-options");const tn=ze.get(Cn);if(tn){if((0,Ue.vZ)($t,tn.options)&&(0,Ue.vZ)(Ot,tn.config))return tn;throw _n.create("duplicate-app",{appName:Cn})}const Se=new R.H0(Cn);for(const Be of tt.values())Se.addComponent(Be);const we=new Xn($t,Ot,Se);return ze.set(Cn,we),we}function gt(Gt=He){const it=ze.get(Gt);if(!it&&Gt===He)return Yn();if(!it)throw _n.create("no-app",{appName:Gt});return it}function Zt(){return Array.from(ze.values())}function Vn(Gt,it,$t){var Ot;let Cn=null!==(Ot=Ge[Gt])&&void 0!==Ot?Ot:Gt;$t&&(Cn+=`-${$t}`);const tn=Cn.match(/\s|\//),Se=it.match(/\s|\//);if(tn||Se){const we=[`Unable to register library "${Cn}" with version "${it}":`];return tn&&we.push(`library name "${Cn}" contains illegal characters (whitespace or "/")`),tn&&Se&&we.push("and"),Se&&we.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void Z.warn(we.join(" "))}sn(new R.wA(`${Cn}-version`,()=>({library:Cn,version:it}),"VERSION"))}const ar="firebase-heartbeat-store";let Fr=null;function en(){return Fr||(Fr=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(Gt,it)=>{0===it&&Gt.createObjectStore(ar)}}).catch(Gt=>{throw _n.create("idb-open",{originalErrorMessage:Gt.message})})),Fr}function Pt(){return(Pt=(0,_.Z)(function*(Gt){var it;try{return(yield en()).transaction(ar).objectStore(ar).get(yr(Gt))}catch($t){if($t instanceof Ue.ZR)Z.warn($t.message);else{const Ot=_n.create("idb-get",{originalErrorMessage:null===(it=$t)||void 0===it?void 0:it.message});Z.warn(Ot.message)}}})).apply(this,arguments)}function Vt(Gt,it){return er.apply(this,arguments)}function er(){return(er=(0,_.Z)(function*(Gt,it){var $t;try{const Cn=(yield en()).transaction(ar,"readwrite");return yield Cn.objectStore(ar).put(it,yr(Gt)),Cn.done}catch(Ot){if(Ot instanceof Ue.ZR)Z.warn(Ot.message);else{const Cn=_n.create("idb-set",{originalErrorMessage:null===($t=Ot)||void 0===$t?void 0:$t.message});Z.warn(Cn.message)}}})).apply(this,arguments)}function yr(Gt){return`${Gt.name}!${Gt.options.appId}`}class lr{constructor(it){this.container=it,this._heartbeatsCache=null;const $t=this.container.getProvider("app").getImmediate();this._storage=new Lr($t),this._heartbeatsCachePromise=this._storage.read().then(Ot=>(this._heartbeatsCache=Ot,Ot))}triggerHeartbeat(){var it=this;return(0,_.Z)(function*(){const Ot=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Cn=jr();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==Cn&&!it._heartbeatsCache.heartbeats.some(tn=>tn.date===Cn))return it._heartbeatsCache.heartbeats.push({date:Cn,agent:Ot}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(tn=>{const Se=new Date(tn.date).valueOf();return Date.now()-Se<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,_.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const $t=jr(),{heartbeatsToSend:Ot,unsentEntries:Cn}=function(Gt,it=1024){const $t=[];let Ot=Gt.slice();for(const Cn of Gt){const tn=$t.find(Se=>Se.agent===Cn.agent);if(tn){if(tn.dates.push(Cn.date),Bn($t)>it){tn.dates.pop();break}}else if($t.push({agent:Cn.agent,dates:[Cn.date]}),Bn($t)>it){$t.pop();break}Ot=Ot.slice(1)}return{heartbeatsToSend:$t,unsentEntries:Ot}}(it._heartbeatsCache.heartbeats),tn=(0,Ue.L)(JSON.stringify({version:2,heartbeats:Ot}));return it._heartbeatsCache.lastSentHeartbeatDate=$t,Cn.length>0?(it._heartbeatsCache.heartbeats=Cn,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),tn})()}}function jr(){return(new Date).toISOString().substring(0,10)}class Lr{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,Ue.hl)()&&(0,Ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,_.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function(Gt){return Pt.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var $t=this;return(0,_.Z)(function*(){var Ot;if(yield $t._canUseIndexedDBPromise){const tn=yield $t.read();return Vt($t.app,{lastSentHeartbeatDate:null!==(Ot=it.lastSentHeartbeatDate)&&void 0!==Ot?Ot:tn.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var $t=this;return(0,_.Z)(function*(){var Ot;if(yield $t._canUseIndexedDBPromise){const tn=yield $t.read();return Vt($t.app,{lastSentHeartbeatDate:null!==(Ot=it.lastSentHeartbeatDate)&&void 0!==Ot?Ot:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...it.heartbeats]})}})()}}function Bn(Gt){return(0,Ue.L)(JSON.stringify({version:2,heartbeats:Gt})).length}sn(new R.wA("platform-logger",it=>new Te(it),"PRIVATE")),sn(new R.wA("heartbeat",it=>new lr(it),"PRIVATE")),Vn(pe,"0.8.3",""),Vn(pe,"0.8.3","esm2017"),Vn("fire-js","")},3910:(rn,et,H)=>{"use strict";H.d(et,{wA:()=>De,H0:()=>pe});var _=H(8239),R=H(3854);class De{constructor(Z,ne,ye){this.name=Z,this.instanceFactory=ne,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const Ue="[DEFAULT]";class de{constructor(Z,ne){this.name=Z,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const ne=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(ne)){const ye=new R.BH;if(this.instancesDeferred.set(ne,ye),this.isInitialized(ne)||this.shouldAutoInitialize())try{const se=this.getOrInitializeService({instanceIdentifier:ne});se&&ye.resolve(se)}catch(se){}}return this.instancesDeferred.get(ne).promise}getImmediate(Z){var ne;const ye=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),se=null!==(ne=null==Z?void 0:Z.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(fe){if(se)return null;throw fe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if("EAGER"===Z.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Ue})}catch(ne){}for(const[ne,ye]of this.instancesDeferred.entries()){const se=this.normalizeInstanceIdentifier(ne);try{const fe=this.getOrInitializeService({instanceIdentifier:se});ye.resolve(fe)}catch(fe){}}}}clearInstance(Z=Ue){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,_.Z)(function*(){const ne=Array.from(Z.instances.values());yield Promise.all([...ne.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ne.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=Ue){return this.instances.has(Z)}getOptions(Z=Ue){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:ne={}}=Z,ye=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const se=this.getOrInitializeService({instanceIdentifier:ye,options:ne});for(const[fe,rt]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(fe)&&rt.resolve(se);return se}onInit(Z,ne){var ye;const se=this.normalizeInstanceIdentifier(ne),fe=null!==(ye=this.onInitCallbacks.get(se))&&void 0!==ye?ye:new Set;fe.add(Z),this.onInitCallbacks.set(se,fe);const rt=this.instances.get(se);return rt&&Z(rt,se),()=>{fe.delete(Z)}}invokeOnInitCallbacks(Z,ne){const ye=this.onInitCallbacks.get(ne);if(ye)for(const se of ye)try{se(Z,ne)}catch(fe){}}getOrInitializeService({instanceIdentifier:Z,options:ne={}}){let ye=this.instances.get(Z);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=Z,Ee===Ue?void 0:Ee),options:ne}),this.instances.set(Z,ye),this.instancesOptions.set(Z,ne),this.invokeOnInitCallbacks(ye,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ye)}catch(se){}var Ee;return ye||null}normalizeInstanceIdentifier(Z=Ue){return this.component?this.component.multipleInstances?Z:Ue:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const ne=this.getProvider(Z.name);if(ne.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);ne.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const ne=new de(Z,this);return this.providers.set(Z,ne),ne}getProviders(){return Array.from(this.providers.values())}}},5422:(rn,et,H)=>{"use strict";H.d(et,{in:()=>R,Yd:()=>U});const _=[];var R=(()=>{return(Z=R||(R={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",R;var Z})();const De={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},Ue=R.INFO,de={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},Te=(Z,ne,...ye)=>{if(ne<Z.logLevel)return;const se=(new Date).toISOString(),fe=de[ne];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[fe](`[${se}]  ${Z.name}:`,...ye)};class U{constructor(ne){this.name=ne,this._logLevel=Ue,this._logHandler=Te,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in R))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?De[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...ne),this._logHandler(this,R.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...ne),this._logHandler(this,R.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,R.INFO,...ne),this._logHandler(this,R.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,R.WARN,...ne),this._logHandler(this,R.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...ne),this._logHandler(this,R.ERROR,...ne)}}},2268:(rn,et,H)=>{"use strict";H.d(et,{Lj:()=>qe,X3:()=>Le});var _=H(8239);let De,Ue;const U=new WeakMap,pe=new WeakMap,Ee=new WeakMap,Z=new WeakMap,ne=new WeakMap;let fe={get(Ce,Xe,be){if(Ce instanceof IDBTransaction){if("done"===Xe)return pe.get(Ce);if("objectStoreNames"===Xe)return Ce.objectStoreNames||Ee.get(Ce);if("store"===Xe)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return $e(Ce[Xe])},set:(Ce,Xe,be)=>(Ce[Xe]=be,!0),has:(Ce,Xe)=>Ce instanceof IDBTransaction&&("done"===Xe||"store"===Xe)||Xe in Ce};function Ze(Ce){return"function"==typeof Ce?function(Ce){return Ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Ce)?function(...Xe){return Ce.apply(ht(this),Xe),$e(U.get(this))}:function(...Xe){return $e(Ce.apply(ht(this),Xe))}:function(Xe,...be){const Q=Ce.call(ht(this),Xe,...be);return Ee.set(Q,Xe.sort?Xe.sort():[Xe]),$e(Q)}}(Ce):(Ce instanceof IDBTransaction&&function(Ce){if(pe.has(Ce))return;const Xe=new Promise((be,Q)=>{const ae=()=>{Ce.removeEventListener("complete",oe),Ce.removeEventListener("error",ve),Ce.removeEventListener("abort",ve)},oe=()=>{be(),ae()},ve=()=>{Q(Ce.error||new DOMException("AbortError","AbortError")),ae()};Ce.addEventListener("complete",oe),Ce.addEventListener("error",ve),Ce.addEventListener("abort",ve)});pe.set(Ce,Xe)}(Ce),((Ce,Xe)=>Xe.some(be=>Ce instanceof be))(Ce,De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(Ce,fe):Ce)}function $e(Ce){if(Ce instanceof IDBRequest)return function(Ce){const Xe=new Promise((be,Q)=>{const ae=()=>{Ce.removeEventListener("success",oe),Ce.removeEventListener("error",ve)},oe=()=>{be($e(Ce.result)),ae()},ve=()=>{Q(Ce.error),ae()};Ce.addEventListener("success",oe),Ce.addEventListener("error",ve)});return Xe.then(be=>{be instanceof IDBCursor&&U.set(be,Ce)}).catch(()=>{}),ne.set(Xe,Ce),Xe}(Ce);if(Z.has(Ce))return Z.get(Ce);const Xe=Ze(Ce);return Xe!==Ce&&(Z.set(Ce,Xe),ne.set(Xe,Ce)),Xe}const ht=Ce=>ne.get(Ce);function Le(Ce,Xe,{blocked:be,upgrade:Q,blocking:ae,terminated:oe}={}){const ve=indexedDB.open(Ce,Xe),je=$e(ve);return Q&&ve.addEventListener("upgradeneeded",vt=>{Q($e(ve.result),vt.oldVersion,vt.newVersion,$e(ve.transaction))}),be&&ve.addEventListener("blocked",()=>be()),je.then(vt=>{oe&&vt.addEventListener("close",()=>oe()),ae&&vt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),je}function qe(Ce,{blocked:Xe}={}){const be=indexedDB.deleteDatabase(Ce);return Xe&&be.addEventListener("blocked",()=>Xe()),$e(be).then(()=>{})}const ft=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],xt=new Map;function g(Ce,Xe){if(!(Ce instanceof IDBDatabase)||Xe in Ce||"string"!=typeof Xe)return;if(xt.get(Xe))return xt.get(Xe);const be=Xe.replace(/FromIndex$/,""),Q=Xe!==be,ae=_t.includes(be);if(!(be in(Q?IDBIndex:IDBObjectStore).prototype)||!ae&&!ft.includes(be))return;const oe=function(){var ve=(0,_.Z)(function*(je,...vt){const Oe=this.transaction(je,ae?"readwrite":"readonly");let He=Oe.store;return Q&&(He=He.index(vt.shift())),(yield Promise.all([He[be](...vt),ae&&Oe.done]))[0]});return function(vt){return ve.apply(this,arguments)}}();return xt.set(Xe,oe),oe}var Ce;fe=BI($I({},Ce=fe),{get:(Xe,be,Q)=>g(Xe,be)||Ce.get(Xe,be,Q),has:(Xe,be)=>!!g(Xe,be)||Ce.has(Xe,be)})},8239:(rn,et,H)=>{"use strict";function _(De,Ue,de,Te,U,pe,Ee){try{var Z=De[pe](Ee),ne=Z.value}catch(ye){return void de(ye)}Z.done?Ue(ne):Promise.resolve(ne).then(Te,U)}function R(De){return function(){var Ue=this,de=arguments;return new Promise(function(Te,U){var pe=De.apply(Ue,de);function Ee(ne){_(pe,Te,U,Ee,Z,"next",ne)}function Z(ne){_(pe,Te,U,Ee,Z,"throw",ne)}Ee(void 0)})}}H.d(et,{Z:()=>R})}},rn=>{rn(rn.s=8471)}]);